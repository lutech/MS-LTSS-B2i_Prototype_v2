(function(b,w,u){function y(){}function n(a,c,g){a+="";c=c||2;return(g=c-a.length)?sa[c].substring(0,g)+a:a}function r(a,c){var g=q.data.ObservableArray,f,d,l;for(f in c)d=c[f],l=typeof d,l===H&&null!==d&&d.constructor!==Array&&d.constructor!==g?d instanceof Date?a[f]=new Date(d.getTime()):(l=a[f],a[f]=typeof l===H?l||{}:{},r(a[f],d)):l!==P&&(a[f]=d);return a}function z(a,c,g){for(var f in c)if(c.hasOwnProperty(f)&&c[f].test(a))return f;return g!==u?g:a}function E(a,c,g){c||(c="offset");var f=a[c](),
d=B.mobileOS;if(B.touch&&(d.ios&&410>d.flatVersion)&&(a="offset"==c?f:a.offset(),f.left==a.left&&f.top==a.top))return{top:f.top-window.scrollY,left:f.left-window.scrollX};q.support.pointers&&!g&&(f.top-=window.pageYOffset-document.documentElement.scrollTop,f.left-=window.pageXOffset-document.documentElement.scrollLeft);return f}function C(a){var c={};d("string"===typeof a?a.split(" "):a,function(a){c[a]=this});return c}function s(a){return new q.fx.Element(a)}function e(a,c,g,f){typeof a===G&&(A(c)&&
(f=c,c=400,g=!1),A(g)&&(f=g,g=!1),typeof c===N&&(g=c,c=400),a={effects:a,duration:c,reverse:g,complete:f});return m({effects:{},duration:400,reverse:!1,init:x,teardown:x,hide:!1},a,{completeCallback:a.complete,complete:x})}function h(a,c,g,f,d){for(var l=0,k=a.length,j;l<k;l++)j=b(a[l]),j.queue(function(){s.promise(j,e(c,g,f,d))});return a}function t(a,c,g,f){c&&(c=c.split(" "),d(c,function(c,g){a.toggleClass(g,f)}));return a}function p(a,c){var g;0===c.indexOf("data")&&(c=c.substring(4),c=c.charAt(0).toLowerCase()+
c.substring(1));c=c.replace(Sa,"-$1");g=a.getAttribute("data-"+q.ns+c);null===g?g=u:"null"===g?g=null:"true"===g?g=!0:"false"===g?g=!1:isNaN(parseFloat(g))?Ta.test(g)&&!Ua.test(g)&&(g=w("("+g+")")):g=parseFloat(g);return g}function v(a,c){var g={},f,d;for(f in c)d=p(a,f),d!==u&&(Va.test(f)&&(d=q.template(b("#"+d).html())),g[f]=d);return g}function D(a,c){return new D.fn.init(a,c)}var q=window.kendo=window.kendo||{},m=b.extend,d=b.each,j=b.proxy,k=b.isArray,x=b.noop,A=b.isFunction,a=Math,c,l=window.JSON||
{},B={},f=/%/,g=/\{(\d+)(:[^\}]+)?\}/g,F=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,G="string",H="object",N="boolean",P="undefined",L={},U={},I=[].slice,K=window.Globalize;y.extend=function(a){var c=function(){},g,f=this,d=a&&a.init?a.init:function(){f.apply(this,arguments)},l;c.prototype=f.prototype;l=d.fn=d.prototype=new c;for(g in a)l[g]=typeof a[g]===H&&!(a[g]instanceof Array)&&null!==a[g]?m(!0,{},c.prototype[g],a[g]):a[g];l.constructor=d;d.extend=f.extend;return d};var O=function(){this._defaultPrevented=
!0},V=function(){return!0===this._defaultPrevented},Q=y.extend({init:function(){this._events={}},bind:function(a,c,g){var f=this,d,l=typeof a===G?[a]:a,k,b,j,m="function"===typeof c,F;if(c===u){for(d in a)f.bind(d,a[d]);return f}d=0;for(k=l.length;d<k;d++)if(a=l[d],j=m?c:c[a])g&&(b=j,j=function(){f.unbind(a,j);b.apply(f,arguments)}),F=f._events[a]=f._events[a]||[],F.push(j);return f},one:function(a,c){return this.bind(a,c,!0)},first:function(a,c){var g,f=typeof a===G?[a]:a,d,l,k="function"===typeof c,
b;g=0;for(d=f.length;g<d;g++)if(a=f[g],l=k?c:c[a])b=this._events[a]=this._events[a]||[],b.unshift(l);return this},trigger:function(a,c){var g=this._events[a],f,d;if(g){c=c||{};c.sender=this;c._defaultPrevented=!1;c.preventDefault=O;c.isDefaultPrevented=V;g=g.slice();f=0;for(d=g.length;f<d;f++)g[f].call(this,c);return!0===c._defaultPrevented}return!1},unbind:function(a,c){var g=this._events[a],f,d;if(a===u)this._events={};else if(g)if(c){f=0;for(d=g.length;f<d;f++)g[f]===c&&g.splice(f,1)}else this._events[a]=
[];return this}}),W=/^\w+/,R=/\$\{([^}]*)\}/g,aa=/\\\}/g,na=/__CURLY__/g,M=/\\#/g,ga=/__SHARP__/g,sa=["","0","00","000","0000"];c={paramName:"data",useWithBlock:!0,render:function(a,c){var g,f,d="";g=0;for(f=c.length;g<f;g++)d+=a(c[g]);return d},compile:function(a,c){var g=m({},this,c),f=g.paramName,d=f.match(W)[0],g=g.useWithBlock,l="var o,e=kendo.htmlEncode;",k;if(A(a))return 2===a.length?function(c){return a(b,{data:c}).join("")}:a;l=l+(g?"with("+f+"){":"")+"o=";f=a.replace(aa,"__CURLY__").replace(R,
"#=e($1)#").replace(na,"}").replace(M,"__SHARP__").split("#");for(k=0;k<f.length;k++){var j;j=f[k];if(0===k%2)j="'"+j.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";else{var G=j.charAt(0),F=j.substring(1);j="="===G?"+("+F+")+":":"===G?"+e("+F+")+":";"+j+";o+="}l+=j}l+=g?";}":";";l+="return o;";l=l.replace(ga,"#");try{return new Function(d,l)}catch(B){throw Error(q.format("Invalid template:'{0}' Generated code:'{1}'",a,l));}}};
var pa=function(a){oa.lastIndex=0;return oa.test(a)?'"'+a.replace(oa,function(a){var c=Ha[a];return typeof c===G?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},fa=function(a,c){var g,f,d,l,k=S,b,j=c[a];j&&(typeof j===H&&"function"===typeof j.toJSON)&&(j=j.toJSON(a));"function"===typeof X&&(j=X.call(c,a,j));g=typeof j;if(g===G)return pa(j);if("number"===g)return isFinite(j)?String(j):"null";if(g===N||"null"===g)return String(j);if(g===H){if(!j)return"null";S+=ea;b=[];if("[object Array]"===
Z.apply(j)){l=j.length;for(g=0;g<l;g++)b[g]=fa(g,j)||"null";d=0===b.length?"[]":S?"[\n"+S+b.join(",\n"+S)+"\n"+k+"]":"["+b.join(",")+"]";S=k;return d}if(X&&typeof X===H){l=X.length;for(g=0;g<l;g++)typeof X[g]===G&&(f=X[g],(d=fa(f,j))&&b.push(pa(f)+(S?": ":":")+d))}else for(f in j)Object.hasOwnProperty.call(j,f)&&(d=fa(f,j))&&b.push(pa(f)+(S?": ":":")+d);d=0===b.length?"{}":S?"{\n"+S+b.join(",\n"+S)+"\n"+k+"}":"{"+b.join(",")+"}";S=k;return d}},oa=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
S,ea,Ha={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},X,Z={}.toString;"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?n(this.getUTCFullYear(),4)+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});"function"!==
typeof l.stringify&&(l.stringify=function(a,c,g){var f;ea=S="";if("number"===typeof g)for(f=0;f<g;f+=1)ea+=" ";else typeof g===G&&(ea=g);if((X=c)&&"function"!==typeof c&&(typeof c!==H||"number"!==typeof c.length))throw Error("JSON.stringify");return fa("",{"":a})});var ta=function(a){if(a){if(a.numberFormat)return a;if(typeof a===G){var c=q.cultures;return c[a]||c[a.split("-")[0]]||null}}return null},xa=function(a){a&&(a=ta(a));return a||q.cultures.current},da=function(a,c,g){g=xa(g);var f=g.numberFormat,
d=f.groupSize[0],l=f[ua],k=f[ha],j=f.decimals,b=f.pattern[0],G=[],m,F,B,x,A=0>a,h,q,J=B=T,H,M,e,p;x=-1;var t;if(a===u)return T;if(!isFinite(a))return a;if(!c)return g.name.length?a.toLocaleString():a.toString();if(x=Ia.exec(c)){c=x[1].toLowerCase();F="c"===c;g="p"===c;if(F||g)f=F?f.currency:f.percent,d=f.groupSize[0],l=f[ua],k=f[ha],j=f.decimals,m=f.symbol,b=f.pattern[A?0:1];(B=x[2])&&(j=+B);if("e"===c)return B?a.toExponential(j):a.toExponential();g&&(a*=100);a=a.toFixed(j);a=a.split(ha);h=a[0];f=
a[1];A&&(h=h.substring(1));J=h;q=h.length;if(q>=d){J=T;for(H=0;H<q;H++)0<H&&0===(q-H)%d&&(J+=l),J+=h.charAt(H)}f&&(J+=k+f);if("n"===c&&!A)return J;a=T;H=0;for(j=b.length;H<j;H++)d=b.charAt(H),a="n"===d?a+J:"$"===d||"%"===d?a+m:a+d;return a}A&&(a=-a);c=c.split(";");if(A&&c[1])c=c[1],e=!0;else if(0===a){if(c=c[2]||c[0],-1==c.indexOf(ja)&&-1==c.indexOf(ka))return c}else c=c[0];if(-1<c.indexOf("'")||-1<c.indexOf('"'))c=c.replace(Ca,function(a){G.push(a);return la});x=c.indexOf("%");J=c.indexOf("$");g=
-1!=x;F=-1!=J;g&&("\\"!==c[x-1]?a*=100:c=c.split("\\").join(""));F&&"\\"===c[J-1]&&(c=c.split("\\").join(""),F=!1);if(F||g)f=F?f.currency:f.percent,d=f.groupSize[0],l=f[ua],k=f[ha],j=f.decimals,m=f.symbol;(M=-1<c.indexOf(ua))&&(c=c.replace(qa,T));b=c.indexOf(ha);j=c.length;-1!=b?(p=c.lastIndexOf(ka)-b,J=c.lastIndexOf(ja)-b,f=a.toString().split(ha)[1]||T,x=-1<p,h=-1<J,H=f.length,!x&&!h&&(c=c.substring(0,b)+c.substring(b+1),j=c.length,b=-1,H=0),x&&p>J?H=p:J>p&&(h&&H>J?H=J:x&&H<p&&(H=p)),-1<H&&(a=a.toFixed(H))):
a=a.toFixed(0);J=c.indexOf(ja);H=p=c.indexOf(ka);x=-1==J&&-1!=p?p:-1!=J&&-1==p?J:J>p?p:J;J=c.lastIndexOf(ja);p=c.lastIndexOf(ka);t=-1==J&&-1!=p?p:-1!=J&&-1==p?J:J>p?J:p;x==j&&(t=x);if(-1!=x){J=a.toString().split(ha);h=J[0];f=J[1]||T;q=h.length;if(M)if(q===d&&q<b-H)h=l+h;else if(q>d){J=T;for(H=0;H<q;H++)0<H&&0===(q-H)%d&&(J+=l),J+=h.charAt(H);h=J}a=c.substring(0,x);A&&!e&&(a+="-");for(H=x;H<j;H++){d=c.charAt(H);if(-1==b){if(t-H<q){a+=h;break}}else if(-1!=p&&p<H&&(B=T),b-H<=q&&-1<b-H&&(a+=h,H=b),b===
H){a+=(f?k:T)+f;H+=t-b+1;continue}d===ka?(a+=d,B=d):d===ja&&(a+=B)}t>=x&&(a+=c.substring(t+1));if(F||g){J=T;H=0;for(j=a.length;H<j;H++)d=a.charAt(H),J+="$"===d||"%"===d?m:d;a=J}if(G[0]){j=G.length;for(H=0;H<j;H++)a=a.replace(la,G[H])}}return a},va=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,Ia=/^(n|c|p|e)(\d*)$/i,Ca=/["'].*?["']/g,qa=/\,/g,T="",ha=".",ua=",",ja="#",ka="0",la="??";q.cultures={"en-US":{name:"en-US",numberFormat:{pattern:["-n"],decimals:2,",":",",
".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December".split(" "),
namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}}};q.culture=function(a){var c=q.cultures;if(a!==u)a=ta(a)||c["en-US"],
a.calendar=a.calendars.standard,c.current=a,K&&(c=a.numberFormat,c.groupSizes=c.groupSize,c.percent.groupSizes=c.percent.groupSize,c.currency.groupSizes=c.currency.groupSize);else return c.current};q.findCulture=ta;q.getCulture=xa;q.culture("en-US");var ba=function(c,g,f){if(g){if(c instanceof Date){f=xa(f);var d=f.calendars.standard,l=d.days,k=d.months;g=d.patterns[g]||g;return g.replace(va,function(g){var f;"d"===g?f=c.getDate():"dd"===g?f=n(c.getDate()):"ddd"===g?f=l.namesAbbr[c.getDay()]:"dddd"===
g?f=l.names[c.getDay()]:"M"===g?f=c.getMonth()+1:"MM"===g?f=n(c.getMonth()+1):"MMM"===g?f=k.namesAbbr[c.getMonth()]:"MMMM"===g?f=k.names[c.getMonth()]:"yy"===g?f=n(c.getFullYear()%100):"yyyy"===g?f=n(c.getFullYear(),4):"h"===g?f=c.getHours()%12||12:"hh"===g?f=n(c.getHours()%12||12):"H"===g?f=c.getHours():"HH"===g?f=n(c.getHours()):"m"===g?f=c.getMinutes():"mm"===g?f=n(c.getMinutes()):"s"===g?f=c.getSeconds():"ss"===g?f=n(c.getSeconds()):"f"===g?f=a.floor(c.getMilliseconds()/100):"ff"===g?f=a.floor(c.getMilliseconds()/
10):"fff"===g?f=c.getMilliseconds():"tt"===g&&(f=12>c.getHours()?d.AM[0]:d.PM[0]);return f!==u?f:g.slice(1,g.length-1)})}if("number"===typeof c)return da(c,g,f)}return c!==u?c:""};K&&(ba=j(K.format,K));q.format=function(a){var c=arguments;return a.replace(g,function(a,g,f){a=c[parseInt(g,10)+1];return ba(a,f?f.substring(1):"")})};q._extractFormat=function(a){"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1));return a};q._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}};
q.toString=ba;var Da=function(a){return a.charAt(0)},ya=function(a,c){!c&&23===a.getHours()&&a.setHours(a.getHours()+2)},ia=function(a,c,g){if(!a)return null;var f=function(a){for(var g=0;c[A]===a;)g++,A++;0<g&&(A-=1);return g},d=function(c){var g=Wa[c]||RegExp("^\\d{1,"+c+"}");return(c=a.substr(q,c).match(g))?(c=c[0],q+=c.length,parseInt(c,10)):null},l=function(c){for(var g=0,f=c.length,d,l;g<f;g++)if(d=c[g],l=d.length,a.substr(q,l)==d)return q+=l,g+1;return null},k=function(){var g=!1;a.charAt(q)===
c[A]&&(q++,g=!0);return g};g=g.calendars.standard;var j=null,G=null,m=null,F=null,x=null,B=null,h=null,A=0,q=0,J=!1,H=g.twoDigitYearMax||2029,p=(new Date).getFullYear(),M,e,t,v,D,$,N,s;c||(c="d");(e=g.patterns[c])&&(c=e);c=c.split("");for(e=c.length;A<e;A++)if(M=c[A],J)"'"===M?J=!1:k();else if("d"===M){if(M=f("d"),m=3>M?d(2):l(g.days[3==M?"namesAbbr":"names"]),null===m||!(1<=m&&31>=m))return null}else if("M"===M){M=f("M");G=3>M?d(2):l(g.months[3==M?"namesAbbr":"names"]);if(null===G||!(1<=G&&12>=G))return null;
G-=1}else if("y"===M){M=f("y");j=d(M);if(null===j)return null;2==M&&("string"===typeof H&&(H=p+parseInt(H,10)),j=p-p%100+j,j>H&&(j-=100))}else if("h"===M){if(f("h"),F=d(2),12==F&&(F=0),null===F||!(0<=F&&11>=F))return null}else if("H"===M){if(f("H"),F=d(2),null===F||!(0<=F&&23>=F))return null}else if("m"===M){if(f("m"),x=d(2),null===x||!(0<=x&&59>=x))return null}else if("s"===M){if(f("s"),B=d(2),null===B||!(0<=B&&59>=B))return null}else if("f"===M){if(M=f("f"),h=d(M),null!==h&&3<M&&(h=parseInt(h.toString().substring(0,
3),10)),null===h||!(0<=h&&999>=h))return null}else if("t"===M){if(M=f("t"),$=g.AM,t=g.PM,1===M&&($=b.map($,Da),t=b.map(t,Da)),t=l(t),!t&&!l($))return null}else if("z"===M)if(v=!0,M=f("z"),"Z"===a.substr(q,1)){if(!D)return null;k()}else{$=a.substr(q,6).match(2<M?Xa:Ya);if(!$)return null;$=$[0];q=$.length;$=$.split(":");N=parseInt($[0],10);if(!(-12<=N&&13>=N)||2<M&&(s=parseInt($[1],10),isNaN(s)||!(0<=s&&59>=s)))return null}else if("T"===M)D=k();else if("'"===M)J=!0,k();else if(!k())return null;null===
j&&(j=p);t&&12>F&&(F+=12);null===m&&(m=1);v?(N&&(F+=-N),s&&(x+=-s),a=new Date(Date.UTC(j,G,m,F,x,B,h))):(a=new Date(j,G,m,F,x,B,h),ya(a,F));100>j&&a.setFullYear(j);return a.getDate()!==m&&v===u?null:a},J=/\u00A0/g,$=/[eE][\-+]?[0-9]+/,Ya=/[+|\-]\d{1,2}/,Xa=/[+|\-]\d{1,2}:\d{2}/,Za=/^\/Date\((.*?)\)\/$/,Oa="GgdFDymTt".split(""),Wa={2:/^\d{1,2}/,4:/^\d{4}/};q._adjustDate=ya;q.parseDate=function(a,c,g){if(a instanceof Date)return a;var f=0,d=null,l,j;if(a&&0===a.indexOf("/D")&&(d=Za.exec(a)))return new Date(parseInt(d[1],
10));g=q.getCulture(g);if(!c){c=[];j=g.calendar.patterns;for(l=Oa.length;f<l;f++)c[f]=j[Oa[f]];c[f]="ddd MMM dd yyyy HH:mm:ss";c[++f]="yyyy-MM-ddTHH:mm:ss.fffffffzzz";c[++f]="yyyy-MM-ddTHH:mm:ss.fffzzz";c[++f]="yyyy-MM-ddTHH:mm:sszzz";c[++f]="yyyy-MM-ddTHH:mmzzz";c[++f]="yyyy-MM-ddTHH:mmzz";c[++f]="yyyy-MM-ddTHH:mm:ss";c[++f]="yyyy-MM-ddTHH:mm";c[++f]="yyyy-MM-dd";f=0}c=k(c)?c:[c];for(l=c.length;f<l&&!(d=ia(a,c[f],g));f++);return d};q.parseInt=function(a,c){var g=q.parseFloat(a,c);g&&(g|=0);return g};
q.parseFloat=function(a,c,g){if(!a&&0!==a)return null;if("number"===typeof a)return a;a=a.toString();c=q.getCulture(c);c=c.numberFormat;var f=c.percent,d=c.currency,l=d.symbol,k=f.symbol,j=-1<a.indexOf("-"),b;if($.test(a))return a=parseFloat(a),isNaN(a)&&(a=null),a;-1<a.indexOf(l)||g&&-1<g.toLowerCase().indexOf("c")?(c=d,g=c.pattern[0].replace("$",l).split("n"),-1<a.indexOf(g[0])&&-1<a.indexOf(g[1])&&(a=a.replace(g[0],"").replace(g[1],""),j=!0)):-1<a.indexOf(k)&&(b=!0,c=f,l=k);a=a.replace("-","").replace(l,
"").replace(J," ").split(c[","].replace(J," ")).join("").replace(c["."],".");a=parseFloat(a);isNaN(a)?a=null:j&&(a*=-1);a&&b&&(a/=100);return a};K&&(q.parseDate=function(a,c,g){return a instanceof Date?a:K.parseDate(a,c,g)},q.parseFloat=function(a,c){return"number"===typeof a?a:a===u?null:K.parseFloat(a,c)});B.scrollbar=function(){var a=document.createElement("div"),c;a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both";a.innerHTML="&nbsp;";document.body.appendChild(a);c=a.offsetWidth-
a.scrollWidth;document.body.removeChild(a);return c};B.isRtl=function(a){return 0<b(a).closest(".k-rtl").length};var Ja=document.createElement("table");try{Ja.innerHTML="<tr><td></td></tr>",B.tbodyInnerHtml=!0}catch(nb){B.tbodyInnerHtml=!1}B.touch="ontouchstart"in window;B.pointers=navigator.msPointerEnabled;var za=B.transitions=!1,Ka=B.transforms=!1,Aa="HTMLElement"in window?HTMLElement.prototype:[];B.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||
"msPerspective"in document.documentElement.style;d(["Moz","webkit","O","ms"],function(){var a=this.toString(),c=typeof Ja.style[a+"Transition"]===G;if(c||typeof Ja.style[a+"Transform"]===G){var g=a.toLowerCase();Ka={css:"ms"!=g?"-"+g+"-":"",prefix:a,event:"o"===g||"webkit"===g?g:""};c&&(za=Ka,za.event=za.event?za.event+"TransitionEnd":"transitionend");return!1}});B.transforms=Ka;B.transitions=za;B.devicePixelRatio=window.devicePixelRatio===u?1:window.devicePixelRatio;B.screenWidth=window.outerWidth||
window.screen?window.screen.availWidth:window.innerWidth;B.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight;B.detectOS=function(a){var c=!1,g=[],f=!/mobile safari/i.test(a),d={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,
blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},k={tablet:/playbook|ipad|fire/i},j={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,
mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i},b;for(b in d)if(d.hasOwnProperty(b)&&(g=a.match(d[b]))){if("windows"==b&&"plugins"in navigator)return!1;c={};c.device=b;c.tablet=z(b,k,!1);c.browser=z(a,j,"default");c.name=z(b,l);c[c.name]=!0;c.majorVersion=g[2];c.minorVersion=g[3].replace("_",".");a=c.minorVersion.replace(".","").substr(0,2);c.flatVersion=c.majorVersion+a+Array(3-(3>a.length?a.length:2)).join("0");c.appMode=window.navigator.standalone||
/file|local/.test(window.location.protocol)||typeof window.PhoneGap!==P||typeof window.cordova!==P;if(c.android&&(1.5>B.devicePixelRatio&&400>c.flatVersion||f)&&(800<B.screenWidth||800<B.screenHeight))c.tablet=b;break}return c};var ra=B.mobileOS=B.detectOS(navigator.userAgent);B.kineticScrollNeeded=ra&&(B.touch||B.pointers);B.hasNativeScrolling=!1;if(ra.ios&&4<ra.majorVersion||ra.android&&2<ra.majorVersion||ra.wp)B.hasNativeScrolling=ra;B.mouseAndTouchPresent=B.touch&&!(B.mobileOS.ios||B.mobileOS.android);
var $a=B,ab=navigator.userAgent,Ba=!1,La=[],Ma={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Ea;for(Ea in Ma)if(Ma.hasOwnProperty(Ea)&&(La=ab.match(Ma[Ea]))){Ba={};Ba[Ea]=!0;Ba[La[1].toLowerCase()]=!0;Ba.version=parseInt(document.documentMode||La[2],10);break}$a.browser=Ba;var wa=B.browser,ma,bb=parseInt(wa.version,10);wa.msie?ma="ie":wa.mozilla?ma="ff":wa.safari?ma="safari":
wa.webkit?ma="webkit":wa.opera&&(ma="opera");ma&&b(document.documentElement).addClass("k-"+ma+" k-"+ma+bb);B.zoomLevel=function(){return B.touch?document.documentElement.clientWidth/window.innerWidth:B.pointers?window.outerWidth/window.innerWidth:1};B.eventCapture=document.documentElement.addEventListener;B.placeholder="placeholder"in document.createElement("input");var cb=B,ca=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});cb.stableSort=0===ca[0]&&1===ca[1]&&2===ca[2]&&3===ca[3]&&4===
ca[4]&&5===ca[5]&&6===ca[6]&&7===ca[7]&&8===ca[8]&&9===ca[9]&&10===ca[10]&&11===ca[11]&&12===ca[12];B.matchesSelector=Aa.webkitMatchesSelector||Aa.mozMatchesSelector||Aa.msMatchesSelector||Aa.oMatchesSelector||Aa.matchesSelector||function(a){a=document.querySelectorAll?(this.parentNode||document).querySelectorAll(a)||[]:b(a);for(var c=a.length;c--;)if(a[c]==this)return!0;return!1};var db={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},
bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};b.extend(s,{Element:function(a){this.element=b(a)},promise:function(a,c){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display");c.hide&&a.data("olddisplay",a.css("display")).hide();c.init&&c.init();c.completeCallback&&c.completeCallback(a);a.dequeue()},transitionPromise:function(a,c,g){q.wrap(a).append(c);a.hide();c.show();g.completeCallback&&g.completeCallback(a);return a}});"kendoAnimate"in b.fn||m(b.fn,{kendoStop:function(a,
c){return this.stop(a,c)},kendoAnimate:function(a,c,g,f){return h(this,a,c,g,f)},kendoAnimateTo:function(a,c,g,f,d){return s.transitionPromise(this,a,e(c,g,f,d))},kendoAddClass:function(a,c){return q.toggleClass(this,a,c,!0)},kendoRemoveClass:function(a,c){return q.toggleClass(this,a,c,!1)},kendoToggleClass:function(a,c,g){return q.toggleClass(this,a,c,g)}});var eb=/&/g,fb=/</g,gb=/>/g,Pa=function(a){return a.target};if(B.touch){var hb="chrome"==B.mobileOS.browser&&!B.mobileOS.ios,Pa=function(a){var c=
"originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null,g=hb?"screen":"client";return c?document.elementFromPoint(c[0][g+"X"],c[0][g+"Y"]):a.target};d("swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap".split(" "),function(a,c){b.fn[c]=function(a){return this.bind(c,a)}})}B.touch?B.mobileOS?(B.mousedown="touchstart",B.mouseup="touchend",B.mousemove="touchmove",B.mousecancel="touchcancel",B.click="touchend",B.resize="orientationchange"):(B.mousedown="mousedown touchstart",
B.mouseup="mouseup touchend",B.mousemove="mousemove touchmove",B.mousecancel="mouseleave touchcancel",B.click="click",B.resize="resize"):B.pointers?(B.mousemove="MSPointerMove",B.mousedown="MSPointerDown",B.mouseup="MSPointerUp",B.mousecancel="MSPointerCancel",B.click="MSPointerUp",B.resize="orientationchange resize"):(B.mousemove="mousemove",B.mousedown="mousedown",B.mouseup="mouseup",B.mousecancel="mouseleave",B.click="click",B.resize="resize");var ib=/^([a-z]+:)?\/\//i;m(q,{ui:q.ui||{},fx:q.fx||
s,mobile:q.mobile||{},data:q.data||{},dataviz:q.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:q.support||B,animate:q.animate||h,ns:"",attr:function(a){return"data-"+q.ns+a},wrap:function(c){var g=B.browser,d,l="rtl"==c.css("direction");if(c.parent().hasClass("k-animation-container")){var l=c.parent(".k-animation-container"),k=l[0].style;l.is(":hidden")&&
l.show();(d=f.test(k.width)||f.test(k.height))||l.css({width:c.outerWidth(),height:c.outerHeight()})}else{d=(k=c.css(q.support.transitions.css+"box-shadow")||c.css("box-shadow"))?k.match(F)||[0,0,0,0,0]:[0,0,0,0,0];var j=a.max(+d[3],+(d[4]||0)),k=-d[1]+j,G=+d[1]+j,j=+d[2]+j,m=c[0].style.width,x=c[0].style.height,h=f.test(m),A=f.test(x);g.opera&&(k=G=j=5);d=h||A;h||(m=c.outerWidth());A||(x=c.outerHeight());c.wrap(b("<div/>").addClass("k-animation-container").css({width:m,height:x,marginLeft:k*(l?1:
-1),paddingLeft:k,paddingRight:G,paddingBottom:j}));d&&c.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}g.msie&&7>=a.floor(g.version)&&c.css({zoom:1});return c.parent()},deepExtend:function(a){for(var c=1,g=arguments.length,c=1;c<g;c++)r(a,arguments[c]);return a},getComputedStyles:function(a,c){var g={},f;document.defaultView&&document.defaultView.getComputedStyle?(f=document.defaultView.getComputedStyle(a,""),c&&b.each(c,function(a,
c){g[c]=f.getPropertyValue(c)})):(f=a.currentStyle,c&&b.each(c,function(a,c){g[c]=f[c.replace(/\-(\w)/g,function(a,c){return c.toUpperCase()})]}));q.size(g)||(g=f);return g},size:function(a){var c=0,g;for(g in a)a.hasOwnProperty(g)&&"toJSON"!=g&&c++;return c},isNodeEmpty:function(a){return""===b.trim(b(a).contents().filter(function(){return 8!=this.nodeType}).html())},getOffset:q.getOffset||E,parseEffects:q.parseEffects||C,toggleClass:q.toggleClass||t,directions:q.directions||db,Observable:Q,Class:y,
Template:c,template:j(c.compile,c),render:j(c.render,c),stringify:j(l.stringify,l),eventTarget:Pa,htmlEncode:function(a){return(""+a).replace(eb,"&amp;").replace(fb,"&lt;").replace(gb,"&gt;")},isLocalUrl:function(a){return a&&!ib.test(a)},expr:function(a,c,g){a=a||"";typeof c==G&&(g=c,c=!1);g=g||"d";a&&"["!==a.charAt(0)&&(a="."+a);if(c){a=a.split(".");g=g||"d";var f,d,l,k=1;f=0;for(d=a.length;f<d;f++)l=a[f],""!==l&&(c=l.indexOf("["),0!==c&&(-1==c?l="."+l:(k++,l="."+l.substring(0,c)+" || {})"+l.substring(c))),
k++,g+=l+(f<d-1?" || {})":")"));a=Array(k).join("(")+g}else a=g+a;return a},getter:function(a,c){return L[a]=L[a]||new Function("d","return "+q.expr(a,c))},setter:function(a){return U[a]=U[a]||new Function("d,value",q.expr(a)+"=value")},accessor:function(a){return{get:q.getter(a),set:q.setter(a)}},guid:function(){var c="",g,f;for(g=0;32>g;g++){f=16*a.random()|0;if(8==g||12==g||16==g||20==g)c+="-";c+=(12==g?4:16==g?f&3|8:f).toString(16)}return c},roleSelector:function(a){return a.replace(/(\S+)/g,
"["+q.attr("role")+"=$1],").slice(0,-1)},logToConsole:function(a){var c=window.console;"undefined"!=typeof c&&c.log&&c.log(a)}});var Fa=Q.extend({init:function(a,c){this.element=q.jQuery(a).handler(this);Q.fn.init.call(this);c=this.options=m(!0,{},this.options,c);this.element.attr(q.attr("role"))||this.element.attr(q.attr("role"),(c.name||"").toLowerCase());this.element.data("kendo"+c.prefix+c.name,this);this.bind(this.events,c)},events:[],options:{prefix:""},_tabindex:function(a){a=a||this.wrapper;
var c=this.element,g=a.attr("tabindex")||c.attr("tabindex");c.removeAttr("tabindex");a.attr("tabindex",!isNaN(g)?g:0)},setOptions:function(a){for(var c=0,g=this.events.length,f;c<g;c++)f=this.events[c],this.options[f]&&a[f]&&this.unbind(f,this.options[f]);b.extend(this.options,a);this.bind(this.events,a)},destroy:function(){this.element.removeData("kendo"+this.options.prefix+this.options.name);this.unbind()}});q.notify=x;var Va=/template$/i,Ta=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Ua=
/^\{(\d+)(:[^\}]+)?\}/,Sa=/([A-Z])/g;q.initWidget=function(a,c,g){var f,d,l,k;g?g.roles&&(g=g.roles):g=q.ui.roles;a=a.nodeType?a:a[0];if(f=a.getAttribute("data-"+q.ns+"role"))if(g=-1===f.indexOf(".")?g[f]:q.getter(f)(window)){f=p(a,"dataSource");c=b.extend({},v(a,g.fn.options),c);f&&(c.dataSource=typeof f===G?q.getter(f)(window):f);d=0;for(l=g.fn.events.length;d<l;d++)f=g.fn.events[d],k=p(a,f),k!==u&&(c[f]=q.getter(k)(window));(f=b(a).data("kendo"+g.fn.options.prefix+g.fn.options.name))?f.setOptions(c):
f=new g(a,c);return f}};q.rolesFromNamespaces=function(a){var c=[],g,f;a[0]||(a=[q.ui,q.dataviz.ui]);g=0;for(f=a.length;g<f;g++)c[g]=a[g].roles;return m.apply(null,[{}].concat(c.reverse()))};q.init=function(a){var c=q.rolesFromNamespaces(I.call(arguments,1));b(a).find("[data-"+q.ns+"role]").andSelf().each(function(){q.initWidget(this,{},c)})};q.destroy=function(a){b(a).find("[data-"+q.ns+"role]").andSelf().each(function(){var a=b(this);(a=q.widgetInstance(a,q.ui)||q.widgetInstance(a,q.mobile.ui)||
q.widgetInstance(a,q.dataviz.ui))&&a.destroy()})};q.parseOptions=v;m(q.ui,{Widget:Fa,roles:{},progress:function(a,c){var g=a.find(".k-loading-mask");c?g.length||b("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").prependTo(a).css({top:a.scrollTop(),left:a.scrollLeft()}):g&&g.remove()},plugin:function(a,c,g){var f=a.fn.options.name;c=c||q.ui;g=g||"";c[f]=a;c.roles[f.toLowerCase()]=
a;c="getKendo"+g+f;f="kendo"+g+f;b.fn[f]=function(c){var g=this,d;typeof c===G?(d=I.call(arguments,1),this.each(function(){var a=b.data(this,f),l;if(!a)throw Error(q.format("Cannot call method '{0}' of {1} before it is initialized",c,f));l=a[c];if("function"!==typeof l)throw Error(q.format("Cannot find method '{0}' of {1}",c,f));a=l.apply(a,d);if(a!==u)return g=a,!1})):this.each(function(){new a(this,c)});return g};b.fn[c]=function(){return this.data(f)}}});var jb={bind:b.noop},kb=Fa.extend({init:function(a,
c){Fa.fn.init.call(this,a,c);this.element.autoApplyNS();this.wrapper=this.element},destroy:function(){Fa.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(q.roleSelector("view splitview modalview"));return q.widgetInstance(a,q.mobile.ui)},container:function(){var a=this.element.closest(q.roleSelector("view layout modalview"));return q.widgetInstance(a,q.mobile.ui)||jb}});m(q.mobile,{init:function(a){q.init(a,q.mobile.ui,
q.ui,q.dataviz.ui)},ui:{Widget:kb,roles:{},plugin:function(a){q.ui.plugin(a,q.mobile.ui,"Mobile")}}});q.touchScroller=function(a,c){return b(a).map(function(a,g){g=b(g);return B.kineticScrollNeeded&&q.mobile.ui.Scroller&&!g.data("kendoMobileScroller")?(g.kendoMobileScroller(c),g.data("kendoMobileScroller")):!1})[0]};q.preventDefault=function(a){a.preventDefault()};q.widgetInstance=function(a,c){var g=c.roles[a.data(q.ns+"role")];if(g)return a.data("kendo"+g.fn.options.prefix+g.fn.options.name)};q.onResize=
function(a){var c=a;B.mobileOS.android&&(c=function(){setTimeout(a,200)});b(window).on(B.resize,c)};q.attrValue=function(a,c){return a.data(q.ns+c)};q.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};b.extend(b.expr[":"],{focusable:function(a){var c=b.attr(a,"tabindex"),c=!isNaN(c)&&-1<c,g=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||c:c)&&!b(a).parents().andSelf().filter(function(){return"hidden"===b.css(this,
"visibility")||b.expr.filters.hidden(this)}).length}});var Qa="mousedown mousemove mouseenter mouseleave mouseover mouseout mouseup click".split(" "),Y={setupMouseMute:function(){var a=0,c=Qa.length,g=document.documentElement;if(!Y.mouseTrap&&B.eventCapture){Y.mouseTrap=!0;Y.bustClick=!1;Y.captureMouse=!1;for(var f=function(a){Y.captureMouse&&("click"===a.type?Y.bustClick&&!b(a.target).is("label, input, [data-rel=external]")&&(a.preventDefault(),a.stopPropagation()):a.stopPropagation())};a<c;a++)g.addEventListener(Qa[a],
f,!0)}},muteMouse:function(a){Y.captureMouse=!0;a.data.bustClick&&(Y.bustClick=!0);clearTimeout(Y.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Y.mouseTrapTimeoutID);Y.mouseTrapTimeoutID=setTimeout(function(){Y.captureMouse=!1;Y.bustClick=!1},400)}},Ga={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(B.touch&&(B.mobileOS.ios||B.mobileOS.android))Ga={down:"touchstart",move:"touchmove",up:"touchend touchcancel",
cancel:"touchcancel"};B.pointers&&(Ga={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"},jQuery.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(a,c){jQuery.event.special[a]={delegateType:c,bindType:c,handle:function(a){var g,f=a.relatedTarget,d=a.handleObj;if(!f||f!==this&&!jQuery.contains(this,f))a.type=d.origType,g=d.handler.apply(this,arguments),a.type=c;return g}}}));var lb=function(a){return Ga[a]||a},Ra=/([^ ]+)/g;
q.applyEventMap=function(a,c){a=a.replace(Ra,lb);c&&(a=a.replace(Ra,"$1."+c));return a};var Na=b.fn.on;m(!0,D,b);D.fn=D.prototype=new b;D.fn.constructor=D;D.fn.init=function(a,c){c&&(c instanceof b&&!(c instanceof D))&&(c=D(c));return b.fn.init.call(this,a,c,mb)};D.fn.init.prototype=D.fn;var mb=D(document);m(D.fn,{handler:function(a){this.data("handler",a);return this},autoApplyNS:function(a){this.data("kendoNS",a||q.guid());return this},on:function(){var a=this.data("kendoNS");if(1===arguments.length)return Na.call(this,
arguments[0]);var c=this,g=I.call(arguments);typeof g[g.length-1]===P&&g.pop();var f=g[g.length-1],a=q.applyEventMap(g[0],a);if(B.mouseAndTouchPresent&&-1<a.search(/mouse|click/)&&this[0]!==document.documentElement){Y.setupMouseMute();var d=2===g.length?null:g[1],l=-1<a.indexOf("click")&&-1<a.indexOf("touchend");Na.call(this,{touchstart:Y.muteMouse,touchend:Y.unMuteMouse},d,{bustClick:l})}typeof f===G&&(c=this.data("handler"),f=c[f],g[g.length-1]=function(a){f.call(c,a)});g[0]=a;Na.apply(this,g);
return this},kendoDestroy:function(a){(a=a||this.data("kendoNS"))&&this.off("."+a);return this}});q.jQuery=D;q.eventMap=Ga})(jQuery,eval);"undefined"===typeof kendo_module&&(kendo_module=function(){});
(function(b){var w=window.kendo,u=window.location,y=window.history,n=/^#*/,r=window.document.documentMode,r=w.support.browser.msie&&(!r||8>=r),z="onhashchange"in window&&!r,E=window.document,r=w.Observable.extend({start:function(b){b=b||{};this._pushState=(this._pushStateRequested=!!b.pushState)&&this._pushStateSupported();this.root=b.root||"/";this._interval=0;this.bind(["change","ready"],b);if(this._normalizeUrl())return!0;this.current=this._currentLocation();this._listenToLocationChange();this.trigger("ready",
{url:this.current})},stop:function(){b(window).unbind(".kendo");this.unbind("change");this.unbind("ready");clearInterval(this._interval)},_normalizeUrl:function(){var b,s=this.root==u.pathname;b=this._pushStateRequested&&!this._pushStateSupported()&&!s;s=this._pushState&&s&&u.hash;if(b)return u.replace(this.root+"#"+this._stripRoot(u.pathname)),!0;s&&(b=this._makePushStateUrl(u.hash.replace(n,"")),y.replaceState({},E.title,b));return!1},_listenToLocationChange:function(){var r=b.proxy(this._checkUrl,
this);this._pushState?b(window).bind("popstate.kendo",r):z?b(window).bind("hashchange.kendo",r):this._interval=setInterval(r,50)},_pushStateSupported:function(){return window.history&&window.history.pushState},_checkUrl:function(){var b=this._currentLocation();b!=this.current&&this.navigate(b)},_stripRoot:function(b){return 0===b.indexOf(this.root)?("/"+b.substr(this.root.length)).replace(/\/\//g,"/"):b},_makePushStateUrl:function(b){0!==b.indexOf(this.root)&&(b=(this.root+b).replace(/\/\//g,"/"));
return u.protocol+"//"+u.host+b},_currentLocation:function(){var b;return this._pushState?(b=u.pathname,u.search&&(b+=u.search),this._stripRoot(b)):u.hash.replace(n,"")},change:function(b){this.bind("change",b)},navigate:function(b,s){"#:back"===b?y.back():(b=b.replace(n,""),this.current===b||this.current===decodeURIComponent(b)||(!s&&this.trigger("change",{url:b})&&(b=this.current),this._pushState?(y.pushState({},E.title,this._makePushStateUrl(b)),this.current=b):u.hash=this.current=b))}});w.history=
new r})(window.kendo.jQuery);
(function(){function b(b,h){return h?b:"([^/]+)"}var w=window.kendo,u=w.history,y=w.Observable,n=/\((.*?)\)/g,r=/(\(\?)?:\w+/g,z=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g,C=w.Class.extend({init:function(e,h){e instanceof RegExp||(e=RegExp("^"+e.replace(E,"\\$&").replace(n,"(?:$1)?").replace(r,b).replace(z,"(.*?)")+"$"));this.route=e;this._callback=h},callback:function(b){b=this.route.exec(b).slice(1);for(var h=0,t=b.length;h<t;h++)"undefined"!==typeof b[h]&&(b[h]=decodeURIComponent(b[h]));this._callback.apply(null,
b)},worksWith:function(b){return this.route.test(b)?(this.callback(b),!0):!1}}),s=y.extend({init:function(b){y.fn.init.call(this);this.routes=[];this.bind(["init","routeMissing","change"],b)},destroy:function(){u.unbind("ready",this._readyProxy);u.unbind("change",this._urlChangedProxy);this.unbind()},start:function(){var b=this,h=function(h){h.url||(h.url="/");b.trigger("init",h)||b._urlChanged(h)},t=function(h){b._urlChanged(h)};w.history.start({ready:h,change:t});this._urlChangedProxy=t;this._readyProxy=
h},route:function(b,h){this.routes.push(new C(b,h))},navigate:function(b,h){w.history.navigate(b,h)},_urlChanged:function(b){var h=b.url;h||(h="/");if(this.trigger("change",{url:b.url}))b.preventDefault();else{b=0;for(var t=this.routes,p,v=t.length;b<v;b++)if(p=t[b],p.worksWith(h))return;this.trigger("routeMissing",{url:h})}}});w.Router=s})();
(function(b){var w=window.kendo,u=w.Observable,y=u.extend({init:function(b,n){n=n||{};u.fn.init.call(this);this.content=b;this.tagName=n.tagName||"div";this.model=n.model;this.bind(["init","show","hide"],n)},render:function(r){var n,u;this.element||(n=b("<"+this.tagName+" />"),u=b(document.getElementById(this.content)||this.content),n.append("SCRIPT"===u[0].tagName?u.html():u),this.element=n,w.bind(this.element,this.model),this.trigger("init"));r&&(this.trigger("show"),b(r).append(this.element));
return this.element},hide:function(){this.element.detach();this.trigger("hide")},destroy:function(){this.element&&(w.unbind(this.element),this.element.remove())}}),n=y.extend({init:function(b,n){y.fn.init.call(this,b,n);this.regions={}},showIn:function(b,n){var u=this.regions[b];u&&u.hide();n.render(this.render().find(b),u);this.regions[b]=n}});w.Layout=n;w.View=y})(window.kendo.jQuery);
(function(b,w){function u(a){return parseInt(a,10)}function y(a){var c=[],g;for(g in a)c.push(g);return c}function n(a){for(var c in a)-1!=F.indexOf(c)&&-1==G.indexOf(c)&&delete a[c];return a}function r(a,c){var g=[],f={},l,k,b;for(k in c)l=k.toLowerCase(),b=d&&-1!=F.indexOf(l),!q.hasHW3D&&b&&-1==G.indexOf(l)?delete c[k]:(l=c[k],b?g.push(k+"("+l+")"):f[k]=l);g.length&&(f[Q]=g.join(" "));return f}function z(c,g){if(d){var f=c.css(Q);if(f==U)return"scale"==g?1:0;var k=f.match(RegExp(g+"\\s*\\(([\\d\\w\\.]+)")),
b=0;k?b=u(k[1]):(k=f.match(a)||[0,0,0,0,0],g=g.toLowerCase(),l.test(g)?b=parseFloat(k[3]/k[2]):"translatey"==g?b=parseFloat(k[4]/k[2]):"scale"==g?b=parseFloat(k[2]):"rotate"==g&&(b=parseFloat(Math.atan2(k[2],k[1]))));return b}return parseFloat(c.css(g))}function E(a){return a.toUpperCase()}function C(a,c){var g=ga.extend(c),f=g.prototype.directions;P[a]=g;t.Element.prototype[a]=function(a,c,f,d){return new g(this.element,a,c,f,d)};p(f,function(c,f){t.Element.prototype[a+f.replace(/^./,E)]=function(a,
c,d){return new g(this.element,f,a,c,d)}})}function s(a,c,g){C(a,{directions:sa,restore:[c],startValue:function(a){this._startValue=a;return this},endValue:function(a){this._endValue=a;return this},shouldHide:function(){return"out"===this._direction&&this._end()===g?!this._reverse:this._reverse},_end:function(){return this._endValue||g},_start:function(){return this._startValue||1},prepare:function(a,g){var f=this.element.data(c),d=this.shouldHide(),f=isNaN(f)||""===f?this._start():f;a[c]=g[c]=this._end();
d?a[c]=f:g[c]=f}})}function e(a,c){var g=a[h.directions[c].vertical?K:I]()/2+"px";return fa[c].replace("$size",g)}var h=window.kendo,t=h.fx,p=b.each,v=b.extend,D=b.proxy,q=h.support,m=q.browser,d=q.transforms,j=q.transitions,k={scale:0,scalex:0,scaley:0,scale3d:0},x={translate:0,translatex:0,translatey:0,translate3d:0},A="undefined"!==typeof document.documentElement.style.zoom&&!d,a=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,c=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,
l=/translatex?$/i,B=/(zoom|fade|expand)(\w+)/,f=/(zoom|fade|expand)/,g=/[xy]$/i,F="perspective rotate rotatex rotatey rotatez rotate3d scale scalex scaley scalez scale3d skew skewx skewy translate translatex translatey translatez translate3d matrix matrix3d".split(" "),G="rotate scale scalex scaley skew skewx skewy translate translatex translatey matrix".split(" "),H={rotate:"deg",scale:"",skew:"px",translate:"px"},N=d.css,P={},L=Math.round,U="none",I="width",K="height",O="overflow",V=N+"transition",
Q=N+"transform",W=N+"backface-visibility",R=N+"perspective",aa={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},
vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};h.directions=aa;v(b.fn,{kendoStop:function(a,c){return j?h.fx.stopQueue(this,a||!1,c||!1):this.stop(a,c)}});if(d&&!j){p(G,function(a,c){b.fn[c]=function(a){if("undefined"==typeof a)return z(this,c);var f=b(this)[0];a=c+"("+a+H[c.replace(g,"")]+")";-1==f.style.cssText.indexOf(Q)?b(this).css(Q,a):f.style.cssText=f.style.cssText.replace(RegExp(c+"\\(.*?\\)","i"),a);return this};b.fx.step[c]=function(a){b(a.elem)[c](a.now)}});var na=b.fx.prototype.cur;
b.fx.prototype.cur=function(){return-1!=G.indexOf(this.prop)?parseFloat(b(this.elem)[this.prop]()):na.apply(this,arguments)}}h.toggleClass=function(a,c,g,f){c&&(c=c.split(" "),j&&(g=v({exclusive:"all",duration:400,ease:"ease-out"},g),a.css(V,g.exclusive+" "+g.duration+"ms "+g.ease),setTimeout(function(){a.css(V,"").css(K)},g.duration)),p(c,function(c,g){a.toggleClass(g,f)}));return a};h.parseEffects=function(a,c){var g={};"string"===typeof a?p(a.split(" "),function(a,d){var l=!f.test(d),k=d.replace(B,
function(a,c,g){return c+":"+g.toLowerCase()}).split(":"),b=k[1],j={};1<k.length&&(j.direction=c&&l?aa[b].reverse:b);g[k[0]]=j}):p(a,function(a){var d=this.direction;d&&(c&&!f.test(a))&&(this.direction=aa[d].reverse);g[a]=this});return g};j&&v(h.fx,{transition:function(a,c,g){var f=0,d=a.data("keys")||[],l;g=v({duration:200,ease:"ease-out",complete:null,exclusive:"all"},g);var k=!1,G=function(){k||(k=!0,l&&(clearTimeout(l),l=null),a.removeData("abortId").dequeue().css(V,"").css(V),g.complete.call(a))};
g.duration=b.fx?b.fx.speeds[g.duration]||g.duration:g.duration;c=r(a,c);b.merge(d,y(c));a.data("keys",b.unique(d)).height();a.css(V,g.exclusive+" "+g.duration+"ms "+g.ease).css(V);a.css(c).css(Q);j.event&&(a.one(j.event,G),0!==g.duration&&(f=500));l=setTimeout(G,g.duration+f);a.data("abortId",l);a.data("completeCallback",G)},stopQueue:function(a,c,g){var f,d=a.data("keys");g=!g&&d;var l=a.data("completeCallback");g&&(f=h.getComputedStyles(a[0],d));l&&l();g&&a.css(f);return a.removeData("keys").stop(c)}});
var M=h.Class.extend({init:function(a,c){this.element=a;this.effects=[];this.options=c;this.restore=[]},run:function(a){var c,g,f=a.length,l=this.element,k=this.options,G=b.Deferred(),m={},F={},x,B;this.effects=a;G.then(b.proxy(this,"complete"));l.data("animating",!0);for(g=0;g<f;g++){c=a[g];c.setReverse(k.reverse);c.setOptions(k);this.addRestoreProperties(c.restore);c.prepare(m,F);x=c.children();c=0;for(B=x.length;c<B;c++)x[c].duration(k.duration).run()}for(var A in k.effects)v(F,k.effects[A].properties);
l.is(":visible")||v(m,{display:l.data("olddisplay")||"block"});d&&!k.reset&&(g=l.data("targetTransform"))&&(m=v(g,m));m=r(l,m);d&&!j&&(m=n(m));l.css(m).css(Q);for(g=0;g<f;g++)a[g].setup();k.init&&k.init();l.data("targetTransform",F);h.fx.animate(l,F,v({},k,{complete:G.resolve}));return G.promise()},stop:function(){b(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var c=this.element,g,f=0,d=a.length;f<d;f++)g=a[f],this.restore.push(g),c.data(g)||c.data(g,c.css(g))},restoreCallback:function(){for(var a=
this.element,c=0,g=this.restore.length;c<g;c++){var f=this.restore[c];a.css(f,a.data(f))}},complete:function(){var a=0,c=this.element,g=this.options,f=this.effects,l=f.length;c.removeData("animating").dequeue();g.hide&&c.data("olddisplay",c.css("display")).hide();this.restoreCallback();for(A&&!d&&setTimeout(b.proxy(this,"restoreCallback"),0);a<l;a++)f[a].teardown();g.completeCallback&&g.completeCallback(c)}});h.fx.promise=function(a,c){var g=[],f,d=new M(a,c),l=h.parseEffects(c.effects);c.effects=
l;for(var k in l)if(f=P[k])f=new f(a,l[k].direction),g.push(f);g[0]?d.run(g):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),c.init&&c.init(),a.dequeue(),d.complete())};h.fx.transitionPromise=function(a,c,g){h.fx.animateTo(a,c,g);return a};v(h.fx,{animate:function(a,g,f){var l=!1!==f.transition;delete f.transition;j&&"transition"in t&&l?t.transition(a,g,f):d?a.animate(n(g),{queue:!1,show:!1,hide:!1,duration:f.duration,complete:f.complete}):a.each(function(){var a=
b(this),l={};p(F,function(f,b){var j,m=g?g[b]+" ":null;if(m){if(b in k&&g[b]!==w)j=m.match(c),d&&v(g,{scale:+j[0]});else if(b in x&&g[b]!==w){var G=a.css("position"),G="absolute"==G||"fixed"==G;a.data("translate")||(G?a.data("translate",{top:u(a.css("top"))||0,left:u(a.css("left"))||0,bottom:u(a.css("bottom")),right:u(a.css("right"))}):a.data("translate",{top:u(a.css("marginTop"))||0,left:u(a.css("marginLeft"))||0}));var F=a.data("translate");if(j=m.match(c))m="translatey"==b?0:+j[1],j="translatey"==
b?+j[1]:+j[2],G?(isNaN(F.right)?isNaN(m)||v(g,{left:F.left+m}):isNaN(m)||v(g,{right:F.right-m}),isNaN(F.bottom)?isNaN(j)||v(g,{top:F.top+j}):isNaN(j)||v(g,{bottom:F.bottom-j})):(isNaN(m)||v(g,{marginLeft:F.left+m}),isNaN(j)||v(g,{marginTop:F.top+j}))}!d&&("scale"!=b&&b in g)&&delete g[b];g&&v(l,g)}});m.msie&&delete l.scale;a.animate(l,{queue:!1,show:!1,hide:!1,duration:f.duration,complete:f.complete})})},animateTo:function(a,c,g){function f(k){c[0].style.cssText="";a[0].style.cssText="";q.mobileOS.android||
d.css(O,l);g.completeCallback&&g.completeCallback.call(a,k)}var d=a.parents().filter(c.parents()).first(),l,k=g,j=k.effects;"zoom"===j&&(j="zoom:in fade:in");"fade"===j&&(j="fade:in");"slide"===j&&(j="tile:left");/^slide:(.+)$/.test(j)&&(j="tile:"+RegExp.$1);"overlay"===j&&(j="slideIn:left");/^overlay:(.+)$/.test(j)&&(j="slideIn:"+RegExp.$1);k.effects=h.parseEffects(j);g=k;q.mobileOS.android||(l=d.css(O),d.css(O,"hidden"));b.each(g.effects,function(){});g.complete=m.msie?function(){setTimeout(f,0)}:
f;g.previous=g.reverse?c:a;g.reset=!0;(g.reverse?a:c).each(function(){b(this).kendoAnimate(v(!0,{},g));g.complete=null;g.previous=null})}});var ga=h.Class.extend({init:function(a,c){this.element=a;this._direction=c;this.options={};this._additionalEffects=[];this.restore||(this.restore=[])},reverse:function(){this._reverse=!0;return this.run()},play:function(){this._reverse=!1;return this.run()},add:function(a){this._additionalEffects.push(a);return this},direction:function(a){this._direction=a;return this},
duration:function(a){this._duration=a;return this},compositeRun:function(){var a=new M(this.element,{reverse:this._reverse,duration:this._duration}),c=this._additionalEffects.concat([this]);return a.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var a=this.element,c=0,g=this.restore,f=g.length,l,k=b.Deferred(),m={},G={},F=this.children(),x=F.length;k.then(b.proxy(this,"_complete"));a.data("animating",!0);for(c=0;c<f;c++)l=g[c],a.data(l)||a.data(l,
a.css(l));for(c=0;c<x;c++)F[c].duration(this._duration).run();this.prepare(m,G);a.is(":visible")||v(m,{display:a.data("olddisplay")||"block"});d&&(c=a.data("targetTransform"))&&(m=v(c,m));m=r(a,m);d&&!j&&(m=n(m));a.css(m).css(Q);this.setup();a.data("targetTransform",G);h.fx.animate(a,G,{duration:this._duration,complete:k.resolve});return k.promise()},stop:function(){for(var a=0,c=this.children(),g=c.length,a=0;a<g;a++)c[a].stop();b(this.element).kendoStop(!0,!0);return this},restoreCallback:function(){for(var a=
this.element,c=0,g=this.restore.length;c<g;c++){var f=this.restore[c];a.css(f,a.data(f))}},_complete:function(){var a=this.element;a.removeData("animating").dequeue();this.restoreCallback();this.shouldHide()&&a.data("olddisplay",a.css("display")).hide();A&&!d&&setTimeout(b.proxy(this,"restoreCallback"),0);this.teardown()},setOptions:function(a){v(!0,this.options,a)},children:function(){return[]},shouldHide:b.noop,setup:b.noop,prepare:b.noop,teardown:b.noop,directions:[],setReverse:function(a){this._reverse=
a;return this}}),N=["left","right","up","down"],sa=["in","out"];C("slideIn",{directions:N,prepare:function(a,c){var g;g=this.element;var f=aa[this._direction],l=-f.modifier*(f.vertical?g.outerHeight():g.outerWidth())/(this.options&&this.options.divisor||1)+"px";this._reverse&&(g=a,a=c,c=g);d?(a[f.transition]=l,c[f.transition]="0px"):(a[f.property]=l,c[f.property]="0px")}});C("tile",{directions:N,init:function(a,c,g){ga.prototype.init.call(this,a,c);this.options={previous:g}},children:function(){var a=
this._reverse,c=this.options.previous,g=this._direction,f=[t(this.element).slideIn(g).setReverse(a)];c&&f.push(t(c).slideIn(aa[g].reverse).setReverse(!a));return f}});s("fade","opacity",0);s("zoom","scale",0.01);C("slideMargin",{prepare:function(a,c){var g=this.element,f=this.options,d=g.data("origin"),l=f.offset,k=this._reverse;!k&&null===d&&g.data("origin",parseFloat(g.css("margin-"+f.axis)));g=g.data("origin")||0;c["margin-"+f.axis]=!k?g+l:g}});C("slideTo",{prepare:function(a,c){var g=this.element,
f=this.options.offset.split(","),l=this._reverse;d?(c.translatex=!l?f[0]:0,c.translatey=!l?f[1]:0):(c.left=!l?f[0]:0,c.top=!l?f[1]:0);g.css("left")}});C("expand",{directions:["horizontal","vertical"],restore:[O],prepare:function(a,c){var g=this.element,f=this.options,d=this._reverse,l="vertical"===this._direction?K:I,k=g[0].style[l],b=g.data(l),j=parseFloat(b||k),m=L(g.css(l,"auto")[l]());a.overflow="hidden";j=f&&f.reset?m||j:j||m;c[l]=(d?0:j)+"px";a[l]=(d?j:0)+"px";b===w&&g.data(l,k)},shouldHide:function(){return this._reverse},
teardown:function(){var a=this.element,c="vertical"===this._direction?K:I,g=a.data(c);("auto"==g||""===g)&&setTimeout(function(){a.css(c,"auto").css(c)},0)}});var pa={position:"absolute",marginLeft:0,marginTop:0,scale:1};C("transfer",{init:function(a,c){this.element=a;this.options={target:c};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,c){var g=this.element,f=this._reverse,d=this.options.target,l,k=z(g,"scale"),b=d.offset(),j=d.outerHeight()/g.outerHeight();
v(a,pa);c.scale=1;g.css(Q,"scale(1)").css(Q);l=g.offset();g.css(Q,"scale("+k+")");var k=b.left-l.left,b=b.top-l.top,g=0+g.outerWidth(),m=k+d.outerWidth(),d=(b-0)/(k-0),k=(b-0)/(m-g),k=(0-0*d+k*g)/(k-d);a.top=l.top;a.left=l.left;a.transformOrigin=k+"px "+(0+d*(k-0))+"px";f?a.scale=j:c.scale=j}});var fa={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},oa={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",
end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};C("turningPage",{directions:N,init:function(a,c,g){ga.prototype.init.call(this,a,c);this._container=g},prepare:function(a,c){var g=this._reverse,f=g?aa[this._direction].reverse:this._direction,d=oa[f];a.zIndex=1;this._clipInHalf&&(a.clip=e(this._container,h.directions[f].reverse));a[W]="hidden";c[Q]="perspective(800px)"+(g?d.start:d.end);a[Q]="perspective(800px)"+(g?d.end:
d.start)},setup:function(){this._container.append(this.element)},face:function(a){this._face=a;return this},shouldHide:function(){var a=this._reverse,c=this._face;return a&&!c||!a&&c},clipInHalf:function(a){this._clipInHalf=a;return this},temporary:function(a){this._temporary=a;return this},teardown:function(){this._temporary&&this.element.remove()}});C("staticPage",{directions:N,init:function(a,c,g){ga.prototype.init.call(this,a,c);this._container=g},restore:["clip"],prepare:function(a){a.clip=e(this._container,
this._reverse?aa[this._direction].reverse:this._direction)},shouldHide:function(){var a=this._reverse,c=this._face;return a&&!c||!a&&c},face:function(a){this._face=a;return this}});C("pageturn",{directions:["horizontal","vertical"],init:function(a,c,g,f){ga.prototype.init.call(this,a,c);this.options={};this.options.face=g;this.options.back=f},children:function(){var a=this.options,c="horizontal"===this._direction?"left":"top",g=h.directions[c].reverse,f=this._reverse,d,l=a.face.clone(!0).removeAttr("id"),
k=a.back.clone(!0).removeAttr("id"),b=this.element;f&&(d=c,c=g,g=d);return[t(a.face).staticPage(c,b).face(!0).setReverse(f),t(a.back).staticPage(g,b).setReverse(f),t(l).turningPage(c,b).face(!0).clipInHalf(!0).temporary(!0).setReverse(f),t(k).turningPage(g,b).clipInHalf(!0).temporary(!0).setReverse(f)]},prepare:function(a){a[R]="800px";a.transformStyle="preserve-3d"},teardown:function(){this.element.find(".temp-pages").remove()}});C("flip",{directions:["horizontal","vertical"],init:function(a,c,g,
f){ga.prototype.init.call(this,a,c);this.options={};this.options.face=g;this.options.back=f},children:function(){var a=this.options,c="horizontal"===this._direction?"left":"top",g=h.directions[c].reverse,f=this._reverse,d,l=this.element;f&&(d=c,c=g,g=d);return[t(a.face).turningPage(c,l).face(!0).setReverse(f),t(a.back).turningPage(g,l).setReverse(f)]},prepare:function(a){a[R]="800px";a.transformStyle="preserve-3d"}});var S=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)},ea=h.Class.extend({init:function(){this._tickProxy=D(this._tick,this);this._started=!1},tick:b.noop,done:b.noop,onEnd:b.noop,onCancel:b.noop,start:function(){this.done()||(this._started=!0,S(this._tickProxy))},cancel:function(){this._started=!1;this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):S(this._tickProxy))}}),N=ea.extend({init:function(a){v(this,
a);ea.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,Date.now()-this.startDate)},moveTo:function(a){this.initial=this.movable[this.axis];this.delta=a.location-this.initial;this.duration=a.duration||300;this.tick=this._easeProxy(a.ease);this.startDate=Date.now();this.start()},_easeProxy:function(a){var c=this;return function(){c.movable.moveAxis(c.axis,a(c.timePassed(),c.initial,c.delta,c.duration))}}});v(N,{easeOutExpo:function(a,
c,g,f){return a==f?c+g:g*(-Math.pow(2,-10*a/f)+1)+c},easeOutBack:function(a,c,g,f,d){d=1.70158;return g*((a=a/f-1)*a*((d+1)*a+d)+1)+c}});t.Animation=ea;t.Transition=N;t.createEffect=C;t.Effects=P})(window.kendo.jQuery);
(function(b,w){function u(n){var s=[],e=n.logic||"and",h,t,p,v,D,q,m,d=n.filters;h=0;for(t=d.length;h<t;h++){n=d[h];p=n.field;q=n.value;D=n.operator;if(n.filters)n=u(n);else if(m=n.ignoreCase,p=p.replace(/\./g,"/"),(n=r[D])&&q!==w)v=b.type(q),"string"===v?(v="'{1}'",q=q.replace(/'/g,"''"),!0===m&&(p="tolower("+p+")")):v="date"===v?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",3<n.length?"substringof"!==n?v="{0}({2},"+v+")":(v="{0}("+v+",{2})","doesnotcontain"===D&&(v+=" eq false")):v="{2} {0} "+v,n=y.format(v,
n,q,p);s.push(n)}n=s.join(" "+e+" ");1<s.length&&(n="("+n+")");return n}var y=window.kendo,n=b.extend,r={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},z={pageSize:b.noop,page:b.noop,filter:function(b,s){s&&(b.$filter=u(s))},sort:function(n,s){var e=b.map(s,function(b){var e=b.field.replace(/\./g,"/");"desc"===b.dir&&(e+=" desc");return e}).join(",");e&&(n.$orderby=e)},skip:function(b,s){s&&(b.$skip=
s)},take:function(b,s){s&&(b.$top=s)}},E={read:{dataType:"jsonp"}};n(!0,y.data,{schemas:{odata:{type:"json",data:function(b){return b.d.results||[b.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(b,s){var e,h,t;b=b||{};s=s||"read";
t=(t=(this.options||E)[s])?t.dataType:"json";if("read"===s)for(h in e={$inlinecount:"allpages"},"json"!=t&&(e.$format="json"),b)if(z[h])z[h](e,b[h]);else e[h]=b[h];else{if("json"!==t)throw Error("Only json dataType can be used for "+s+" operation.");if("destroy"!==s){for(h in b)e=b[h],"number"===typeof e&&(b[h]=e+"");e=y.stringify(b)}}return e}}}})})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=b.isArray,n=b.isPlainObject,r=b.map,z=b.each,E=b.extend,C=u.getter,s=u.Class.extend({init:function(b){var h=this,t=b.total,p=b.model,v=b.parse,D=b.errors,q=b.data;if(p){if(n(p)){p.fields&&z(p.fields,function(d,k){k=n(k)&&k.field?E(k,{field:h.getter(k.field)}):{field:h.getter(k)};p.fields[d]=k});if(b=p.id){var m={};m[h.xpathToMember(b,!0)]={field:h.getter(b)};p.fields=E(m,p.fields);p.id=h.xpathToMember(b)}p=u.data.Model.define(p)}h.model=p}t&&("string"==typeof t?
(t=h.getter(t),h.total=function(d){return parseInt(t(d),10)}):"function"==typeof t&&(h.total=t));D&&("string"==typeof D?(D=h.getter(D),h.errors=function(d){return D(d)||null}):"function"==typeof D&&(h.errors=D));q&&("string"==typeof q?(q=h.xpathToMember(q),h.data=function(d){d=h.evaluate(d,q);var k;d=y(d)?d:[d];return h.model&&p.fields?(k=new h.model,r(d,function(d){if(d){var b={},a;for(a in p.fields)b[a]=k._parse(a,p.fields[a].field(d));return b}})):d}):"function"==typeof q&&(h.data=q));if("function"==
typeof v){var d=h.parse;h.parse=function(b){b=v.call(h,b);return d.call(h,b)}}},total:function(b){return this.data(b).length},errors:function(b){return b?b.errors:null},parseDOM:function(b){var h={},t,p,v;p=b.attributes;v=p.length;var D;for(D=0;D<v;D++)t=p[D],h["@"+t.nodeName]=t.nodeValue;for(b=b.firstChild;b;b=b.nextSibling)t=b.nodeType,3===t||4===t?h["#text"]=b.nodeValue:1===t&&(t=this.parseDOM(b),p=b.nodeName,v=h[p],y(v)?v.push(t):v=v!==w?[v,t]:t,h[p]=v);return h},evaluate:function(b,h){for(var t=
h.split("."),p,v,D;p=t.shift();)if(b=b[p],y(b)){p=[];h=t.join(".");D=0;for(t=b.length;D<t;D++)v=this.evaluate(b[D],h),v=y(v)?v:[v],p.push.apply(p,v);return p}return b},parse:function(e){var h,t={};e=e.documentElement||b.parseXML(e).documentElement;h=this.parseDOM(e);t[e.nodeName]=h;return t},xpathToMember:function(b,h){if(!b)return"";b=b.replace(/^\//,"").replace(/\//g,".");return 0<=b.indexOf("@")?b.replace(/\.?(@.*)/,h?"$1":'["$1"]'):0<=b.indexOf("text()")?b.replace(/(\.?text\(\))/,h?"#text":'["#text"]'):
b},getter:function(b){return C(this.xpathToMember(b),!0)}});b.extend(!0,u.data,{XmlDataReader:s,readers:{xml:s}})})(window.kendo.jQuery);
(function(b,w){function u(a,c,g,f){return function(d){var l={},k;for(k in d)l[k]=d[k];l.field=f?g+"."+d.field:g;a.trigger(c,l)}}function y(a,c){if(a===c)return!0;var g=b.type(a),f=b.type(c),d;if(g!==f)return!1;if("date"===g)return a.getTime()===c.getTime();if("object"!==g&&"array"!==g)return!1;for(d in a)if(!y(a[d],c[d]))return!1;return!0}function n(a){this.data=a||[]}function r(a,c){if(a){var f=typeof a===K?{field:a,dir:c}:a,f=g(f)?f:f!==w?[f]:[];return F(f,function(a){return!!a.dir})}}function z(a){var c,
g,f,d=a.filters;if(d){a=0;for(c=d.length;a<c;a++){g=d[a];if((f=g.operator)&&typeof f===K)g.operator=ha[f.toLowerCase()]||f;z(g)}}}function E(a){if(a&&!f(a)){if(g(a)||!a.filters)a={logic:"and",filters:g(a)?a:[a]};z(a);return a}}function C(a,c){var f=typeof a===K?{field:a,dir:c}:a,f=g(f)?f:f!==w?[f]:[];return H(f,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function s(a){var c,g=a.length,f=Array(g);for(c=0;c<g;c++)f[c]=a[c].toJSON();return f}function e(a,c){c=c||{};var g=
new n(a),f=c.aggregate,d=c.filter;d&&(g=g.filter(d));return g.aggregate(f)}function h(a,c,g){var f,d,l,k;l=0;for(k=a.length;l<k;l++)for(d in f=a[l],c)f[d]=g._parse(d,c[d](f))}function t(a,c,g){var f,d,l;d=0;for(l=a.length;d<l;d++)f=a[d],f.value=g._parse(f.field,f.value),f.hasSubgroups?t(f.items,c,g):h(f.items,c,g)}function p(a,c,g,d){return function(l){if((l=a(l))&&!f(d))"[object Array]"!==fa.call(l)&&!(l instanceof X)&&(l=[l]),g(l,d,new c);return l||[]}}function v(a,c,g,f){for(var d,l=0,k;c.length&&
f&&!(d=c[l],k=d.items,a&&a.field===d.field&&a.value===d.value?(a.hasSubgroups&&a.items.length?v(a.items[a.items.length-1],d.items,g,f):(k=k.slice(g,f),f-=k.length,a.items=a.items.concat(k)),c.splice(l--,1)):(k=k.slice(g,f),f-=k.length,d.items=k,d.items.length||c.splice(l--,1)),g=0,++l>=c.length););}function D(a){var c,g,f=[];c=0;for(g=a.length;c<g;c++)f=a[c].hasSubgroups?f.concat(D(a[c].items)):f.concat(a[c].items.slice());return f}function q(a,c){var g,f,d,l;if(c){g=0;for(f=a.length;g<f;g++)d=a[g],
l=d.items,d.hasSubgroups?q(l,c):l.length&&!(l[0]instanceof c)&&(l.type=c,l.wrapAll(l,l))}}function m(a,c){var g,f;g=0;for(f=a.length;g<f;g++)if(a[g].hasSubgroups){if(m(a[g].items,c))return!0}else if(c(a[g].items,a[g]))return!0}function d(a,c){var g,f,d;for(d=a.length-1;0<=d;d--)f=a[d],g={value:c.get(f.field),field:f.field,items:g?[g]:[c],hasSubgroups:!!g,aggregates:{}};return g}function j(a,c){return c?x(a,function(a){return a[c.idField]===c.id}):-1}function k(a,c){return c?x(a,function(a){return a.uid==
c.uid}):-1}function x(a,c){var g,f;g=0;for(f=a.length;g<f;g++)if(c(a[g]))return g;return-1}function A(a,c){var g=b(a).children(),f,d,l=[],k,j=c[0].field,m=c[1]&&c[1].field,G=c[2]&&c[2].field,F=c[3]&&c[3].field,x,B,h,q;f=0;for(d=g.length;f<d;f++){k={};x=g.eq(f);h=x[0].firstChild;q=x.children();a=q.filter("ul");q=q.filter(":not(ul)");if(B=x.attr("data-id"))k.id=B;h&&(k[j]=3==h.nodeType?h.nodeValue:q.text());m&&(k[m]=q.find("a").attr("href"));F&&(k[F]=q.find("img").attr("src"));G&&(B=q.find(".k-sprite").prop("className"),
k[G]=B&&b.trim(B.replace("k-sprite","")));a.length&&(k.items=A(a.eq(0),c));"true"==x.attr("data-hasChildren")&&(k.hasChildren=!0);l.push(k)}return l}var a=b.extend,c=b.proxy,l=b.isFunction,B=b.isPlainObject,f=b.isEmptyObject,g=b.isArray,F=b.grep,G=b.ajax,H,N=b.each,P=b.noop,L=window.kendo,U=L.Observable,I=L.Class,K="string",O=["create","read","update","destroy"],V=function(a){return a},Q=L.getter,W=L.stringify,R=Math,aa=[].push,na=[].pop,M=[].splice,ga=[].shift,sa=[].slice,pa=[].unshift,fa={}.toString,
oa=L.support.stableSort,S=/^\/Date\((.*?)\)\/$/,ea=/(\r+|\n+)/g,Ha=/(?=['\\])/g,X=U.extend({init:function(a,c){this.type=c||Z;U.fn.init.call(this);this.length=a.length;this.wrapAll(a,this)},toJSON:function(){var a,c=this.length,g,f=Array(c);for(a=0;a<c;a++)g=this[a],g instanceof Z&&(g=g.toJSON()),f[a]=g;return f},parent:P,wrapAll:function(a,c){var g=this,f,d,l=function(){return g};c=c||[];f=0;for(d=a.length;f<d;f++)c[f]=g.wrap(a[f],l);return c},wrap:function(a,c){var g=this,f;null!==a&&"[object Object]"===
fa.call(a)&&(f=a instanceof g.type||a instanceof da,f||(a=a instanceof Z?a.toJSON():a,a=new g.type(a)),a.parent=c,a.bind("change",function(a){g.trigger("change",{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemchange":"itemchange"})}));return a},push:function(){var a=this.length,c=this.wrapAll(arguments),g;g=aa.apply(this,c);this.trigger("change",{action:"add",index:a,items:c});return g},slice:sa,join:[].join,pop:function(){var a=this.length,c=na.apply(this);
a&&this.trigger("change",{action:"remove",index:a-1,items:[c]});return c},splice:function(a,c,g){var f=this.wrapAll(sa.call(arguments,2)),d,l,k;d=M.apply(this,[a,c].concat(f));if(d.length){this.trigger("change",{action:"remove",index:a,items:d});l=0;for(k=d.length;l<k;l++)d[l].children&&d[l].unbind("change")}g&&this.trigger("change",{action:"add",index:a,items:f});return d},shift:function(){var a=this.length,c=ga.apply(this);a&&this.trigger("change",{action:"remove",index:0,items:[c]});return c},
unshift:function(){var a=this.wrapAll(arguments),c;c=pa.apply(this,a);this.trigger("change",{action:"add",index:0,items:a});return c},indexOf:function(a){var c,g;c=0;for(g=this.length;c<g;c++)if(this[c]===a)return c;return-1},forEach:function(a){for(var c=0,g=this.length;c<g;c++)a(this[c],c,this)},map:function(a){for(var c=0,g=[],f=this.length;c<f;c++)g[c]=a(this[c],c,this);return g},filter:function(a){for(var c=0,g=[],f,d=this.length;c<d;c++)f=this[c],a(f,c,this)&&(g[g.length]=f);return g},find:function(a){for(var c=
0,g,f=this.length;c<f;c++)if(g=this[c],a(g,c,this))return g},every:function(a){for(var c=0,g,f=this.length;c<f;c++)if(g=this[c],!a(g,c,this))return!1;return!0},some:function(a){for(var c=0,g,f=this.length;c<f;c++)if(g=this[c],a(g,c,this))return!0;return!1},remove:function(a){this.splice(this.indexOf(a),1)}}),Z=U.extend({init:function(a){var c=this,g,f,d=function(){return c};U.fn.init.call(this);for(f in a)g=a[f],"_"!=f.charAt(0)&&(g=c.wrap(g,f,d)),c[f]=g;c.uid=L.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&
"_events"!==a&&"function"!==typeof this[a]&&"uid"!==a},forEach:function(a){for(var c in this)this.shouldSerialize(c)&&a(this[c],c)},toJSON:function(){var a={},c,g;for(g in this)if(this.shouldSerialize(g)){c=this[g];if(c instanceof Z||c instanceof X)c=c.toJSON();a[g]=c}return a},get:function(a){this.trigger("get",{field:a});return"this"===a?this:L.getter(a,!0)(this)},_set:function(a,c){if(a.indexOf("."))for(var g=a.split("."),f="";1<g.length;){var f=f+g.shift(),d=L.getter(f,!0)(this);if(d instanceof
Z){d.set(g.join("."),c);return}f+="."}L.setter(a)(this,c)},set:function(a,c){var g=this;L.getter(a,!0)(g)!==c&&!g.trigger("set",{field:a,value:c})&&(g._set(a,g.wrap(c,a,function(){return g})),g.trigger("change",{field:a}))},parent:P,wrap:function(a,c,g){var f=fa.call(a);if(null!==a&&("[object Object]"===f||"[object Array]"===f)){var d=a instanceof X,l=a instanceof ba;if("[object Object]"===f&&!l&&!d)a instanceof Z||(a=new Z(a)),a.parent()!=g()&&(a.bind("get",u(this,"get",c,!0)),a.bind("change",u(this,
"change",c,!0)));else if("[object Array]"===f||d||l)!d&&!l&&(a=new X(a)),a.parent()!=g()&&a.bind("change",u(this,"change",c,!1));a.parent=g}return a}}),ta={number:function(a){return L.parseFloat(a)},date:function(a){return L.parseDate(a)},"boolean":function(a){return typeof a===K?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},xa={string:"",number:0,date:new Date,"boolean":!1,"default":""},da=Z.extend({init:function(a){if(!a||b.isEmptyObject(a))a=
b.extend({},this.defaults,a);Z.fn.init.call(this,a);this.dirty=!1;this.idField&&(this.id=this.get(this.idField),this.id===w&&(this.id=this._defaultId))},shouldSerialize:function(a){return Z.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,c){var g=a,f=this.fields||{},d;a=f[a];if(!a)a:{var l,k;for(k in f)if(l=f[k],B(l)&&l.field&&l.field===g){a=l;break a}else if(l===g){a=l;break a}a=null}a&&(d=a.parse,!d&&a.type&&(d=ta[a.type.toLowerCase()]));
return d?d(c):c},editable:function(a){return(a=(this.fields||{})[a])?!1!==a.editable:!0},set:function(a,c,g){this.editable(a)&&(c=this._parse(a,c),y(c,this.get(a))||(this.dirty=!0,Z.fn.set.call(this,a,c,g)))},accept:function(a){var c=this,g=function(){return c},f;for(f in a)c._set(f,c.wrap(a[f],f,g));c.idField&&(c.id=c.get(c.idField));c.dirty=!1},isNew:function(){return this.id===this._defaultId}});da.define=function(c,g){g===w&&(g=c,c=da);var f,d=a({defaults:{}},g),l,k,b,j,m;b={};if(k=d.id)d.idField=
k;d.id&&delete d.id;k&&(d.defaults[k]=d._defaultId="");if("[object Array]"===fa.call(d.fields)){j=0;for(m=d.fields.length;j<m;j++)k=d.fields[j],typeof k===K?b[k]={}:k.field&&(b[k.field]=k);d.fields=b}for(l in d.fields)k=d.fields[l],b=k.type||"default",j=null,l=typeof k.field===K?k.field:l,k.nullable||(j=d.defaults[l]=k.defaultValue!==w?k.defaultValue:xa[b.toLowerCase()]),g.id===l&&(d._defaultId=j),d.defaults[l]=j,k.parse=k.parse||ta[b];f=c.extend(d);f.define=function(a){return da.define(f,a)};d.fields&&
(f.fields=d.fields,f.idField=d.idField);return f};var va={selector:function(a){return l(a)?a:Q(a)},asc:function(a){var c=this.selector(a);return function(a,g){a=c(a);g=c(g);return null==a&&null==g?0:a&&!g&&0<a||null==g?1:g&&!a&&0<g?-1:a>g?1:a<g?-1:0}},desc:function(a){var c=this.selector(a);return function(a,g){a=c(a);g=c(g);return null==a&&null==g?0:a&&!g&&0<a||null==g?-1:g&&!a&&0<g||null==a?1:a<g?1:a>g?-1:0}},create:function(a){return this[a.dir.toLowerCase()](a.field)},combine:function(a){return function(c,
g){var f=a[0](c,g),d,l;d=1;for(l=a.length;d<l;d++)f=f||a[d](c,g);return f}}},Ia=a({},va,{asc:function(a){var c=this.selector(a);return function(a,g){var f=c(a),d=c(g);f&&(f.getTime&&d&&d.getTime)&&(f=f.getTime(),d=d.getTime());return f===d?a.__position-g.__position:null==d?1:f>d?1:f<d?-1:0}},desc:function(a){var c=this.selector(a);return function(a,g){var f=c(a),d=c(g);f&&(f.getTime&&d&&d.getTime)&&(f=f.getTime(),d=d.getTime());return f===d?a.__position-g.__position:f<d?1:f>d?-1:0}}});H=function(a,
c){var g,f=a.length,d=Array(f);for(g=0;g<f;g++)d[g]=c(a[g],g,a);return d};var Ca,qa=function(a){return a.replace(Ha,"\\").replace(ea,"")},T=function(a,c,g,f){var d;null!=g&&(typeof g===K&&(g=qa(g),(d=S.exec(g))?g=new Date(+d[1]):f?(g="'"+g.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):g="'"+g+"'"),g.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",g=g.getTime()));return c+" "+a+" "+g};Ca={eq:function(a,c,g){return T("==",a,c,g)},neq:function(a,c,g){return T("!=",a,c,g)},gt:function(a,c,g){return T(">",
a,c,g)},gte:function(a,c,g){return T(">=",a,c,g)},lt:function(a,c,g){return T("<",a,c,g)},lte:function(a,c,g){return T("<=",a,c,g)},startswith:function(a,c,g){g&&(a+=".toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=qa(c));return a+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(a,c,g){g&&(a+=".toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=qa(c));return a+".indexOf('"+c+"', "+a+".length - "+(c||"").length+") >= 0"},contains:function(a,c,g){g&&(a="("+a+" || '').toLowerCase()",c&&(c=c.toLowerCase()));
c&&(c=qa(c));return a+".indexOf('"+c+"') >= 0"},doesnotcontain:function(a,c,g){g&&(a="("+a+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=qa(c));return a+".indexOf('"+c+"') == -1"}};n.filterExpr=function(a){var c=[],g,f,d,l,k=[],b=[],j,m,G=a.filters;g=0;for(f=G.length;g<f;g++)d=G[g],j=d.field,m=d.operator,d.filters?(l=n.filterExpr(d),d=l.expression.replace(/__o\[(\d+)\]/g,function(a,c){return"__o["+(b.length+ +c)+"]"}).replace(/__f\[(\d+)\]/g,function(a,c){return"__f["+(k.length+ +c)+"]"}),
b.push.apply(b,l.operators),k.push.apply(k,l.fields)):("function"===typeof j?(l="__f["+k.length+"](d)",k.push(j)):l=L.expr(j),"function"===typeof m?(d="__o["+b.length+"]("+l+", "+d.value+")",b.push(m)):d=Ca[(m||"eq").toLowerCase()](l,d.value,d.ignoreCase!==w?d.ignoreCase:!0)),c.push(d);return{expression:"("+c.join({and:" && ",or:" || "}[a.logic])+")",fields:k,operators:b}};var ha={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",
notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};n.normalizeFilter=E;n.prototype={toArray:function(){return this.data},range:function(a,c){return new n(this.data.slice(a,a+c))},skip:function(a){return new n(this.data.slice(a))},take:function(a){return new n(this.data.slice(0,
a))},select:function(a){return new n(H(this.data,a))},orderBy:function(a){var c=this.data.slice(0);a=l(a)||!a?va.asc(a):a.compare;return new n(c.sort(a))},orderByDescending:function(a){return new n(this.data.slice(0).sort(va.desc(a)))},sort:function(a,c,g){var f=r(a,c),d=[];g=g||va;if(f.length){a=0;for(c=f.length;a<c;a++)d.push(g.create(f[a]));return this.orderBy({compare:g.combine(d)})}return this},filter:function(a){var c,g,f,d=this.data,l,k,b=[],j;a=E(a);if(!a||0===a.filters.length)return this;
a=n.filterExpr(a);l=a.fields;k=a.operators;f=j=new Function("d, __f, __o","return "+a.expression);if(l.length||k.length)j=function(a){return f(a,l,k)};a=0;for(g=d.length;a<g;a++)c=d[a],j(c)&&b.push(c);return new n(b)},group:function(a,c){a=C(a||[]);c=c||this.data;var g=new n(this.data),f;0<a.length&&(f=a[0],g=g.groupBy(f).select(function(g){var d=(new n(c)).filter([{field:g.field,operator:"eq",value:g.value}]);return{field:g.field,value:g.value,items:1<a.length?(new n(g.items)).group(a.slice(1),d.toArray()).toArray():
g.items,hasSubgroups:1<a.length,aggregates:d.aggregate(f.aggregates)}}));return g},groupBy:function(a){if(f(a)||!this.data.length)return new n([]);var c=a.field;a=this._sortForGrouping(c,a.dir||"asc");var g=L.accessor(c),d,l=g.get(a[0],c),k={field:c,value:l,items:[]},b,j,m,G=[k];j=0;for(m=a.length;j<m;j++){d=a[j];b=g.get(d,c);var F;F=l;var x=b;F=F&&F.getTime&&x&&x.getTime?F.getTime()===x.getTime():F===x;F||(l=b,k={field:c,value:l,items:[]},G.push(k));k.items.push(d)}return new n(G)},_sortForGrouping:function(a,
c){var g,f,d=this.data;if(!oa){g=0;for(f=d.length;g<f;g++)d[g].__position=g;d=(new n(d)).sort(a,c,Ia).toArray();g=0;for(f=d.length;g<f;g++)delete d[g].__position;return d}return this.sort(a,c).toArray()},aggregate:function(a){var c,g,f={};if(a&&a.length){c=0;for(g=this.data.length;c<g;c++)for(var d=f,l=a,k=this.data[c],b=c,j=g,l=l||[],m=void 0,G=void 0,F=void 0,x=l.length,m=0;m<x;m++)G=l[m],F=G.aggregate,G=G.field,d[G]=d[G]||{},d[G][F]=ua[F.toLowerCase()](d[G][F],k,L.accessor(G),b,j)}return f}};var ua=
{sum:function(a,c,g){return(a||0)+g.get(c)},count:function(a){return(a||0)+1},average:function(a,c,g,f,d){a=(a||0)+g.get(c);f==d-1&&(a/=d);return a},max:function(a,c,g){c=g.get(c);a=a||0;a<c&&(a=c);return a},min:function(a,c,g){c=g.get(c);a=a||c;a>c&&(a=c);return a}};n.process=function(a,c){c=c||{};var g=new n(a),f=c.group,d=C(f||[]).concat(r(c.sort||[])),l,k=c.filter,b=c.skip,j=c.take;k&&(g=g.filter(k),l=g.toArray().length);d&&(g=g.sort(d),f&&(a=g.toArray()));b!==w&&j!==w&&(g=g.range(b,j));f&&(g=
g.group(f,a));return{total:l,data:g.toArray()}};var ja=I.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),ka=I.extend({init:function(c){var g;c=this.options=a({},this.options,c);N(O,function(a,g){typeof c[g]===K&&(c[g]={url:c[g]})});this.cache=c.cache?la.create(c.cache):{find:P,add:P};g=c.parameterMap;this.parameterMap=l(g)?g:function(a){var c={};N(a,
function(a,f){a in g&&(a=g[a],B(a)&&(f=a.value(f),a=a.key));c[a]=f});return c}},options:{parameterMap:V},create:function(a){return G(this.setup(a,"create"))},read:function(a){var c,g,f=this.cache;a=this.setup(a,"read");c=a.success||P;g=f.find(a.data);g!==w?c(g):(a.success=function(g){f.add(a.data,g);c(g)},b.ajax(a))},update:function(a){return G(this.setup(a,"update"))},destroy:function(a){return G(this.setup(a,"destroy"))},setup:function(c,g){c=c||{};var f;f=this.options[g];var d=l(f.data)?f.data(c.data):
f.data;c=a(!0,{},f,c);f=a(!0,{},d,c.data);c.data=this.parameterMap(f,g);l(c.url)&&(c.url=c.url(f));return c}}),la=I.extend({init:function(){this._store={}},add:function(a,c){a!==w&&(this._store[W(a)]=c)},find:function(a){return this._store[W(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[W(a)]}});la.create=function(a){return B(a)&&l(a.find)?a:!0===a?new la:{inmemory:function(){return new la}}[a]()};var I=I.extend({init:function(a){var g,f;a=a||{};for(g in a)f=a[g],this[g]=
typeof f===K?Q(f):f;a=a.modelBase||da;B(this.model)&&(this.model=a=a.define(this.model));if(this.model){g=c(this.data,this);f=c(this.groups,this);var d={};a=this.model;a.fields&&N(a.fields,function(a,c){B(c)&&c.field?d[c.field]=Q(c.field):d[a]=Q(a)});this.data=p(g,a,h,d);this.groups=p(f,a,t,d)}},errors:function(a){return a?a.errors:null},parse:V,data:V,total:function(a){return a.length},groups:V,status:function(a){return a.status},aggregates:function(){return{}}}),ba=U.extend({init:function(c){var g;
c&&(g=c.data);c=this.options=a({},this.options,c);this._map={};this._prefetch={};this._data=[];this._ranges=[];this._view=[];this._pristine=[];this._destroyed=[];this._pageSize=c.pageSize;this._page=c.page||(c.pageSize?1:w);this._sort=r(c.sort);this._filter=E(c.filter);this._group=C(c.group);this._aggregate=c.aggregate;this._total=c.total;U.fn.init.call(this);this.transport=Da.create(c,g);this.reader=new L.data.readers[c.schema.type||"json"](c.schema);this._data=this._observe(this._data);this.bind("error change requestStart sync requestEnd progress".split(" "),
c)},options:{data:[],schema:{modelBase:da},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_flatData:function(a){return this._isServerGrouped()?D(a):a},parent:P,get:function(a){var c,g,f=this._flatData(this._data);c=0;for(g=f.length;c<g;c++)if(f[c].id==a)return f[c]},getByUid:function(a){var c,g,f=this._flatData(this._data);if(f){c=0;for(g=f.length;c<
g;c++)if(f[c].uid==a)return f[c]}},indexOf:function(a){return k(this._data,a)},at:function(a){return this._data[a]},data:function(a){if(a!==w)this._data=this._observe(a),this._ranges=[],this._addRange(this._data),this._total=this._data.length,this._process(this._data);else return this._data},view:function(){return this._view},add:function(a){return this.insert(this._data.length,a)},insert:function(a,c){c||(c=a,a=0);c instanceof da||(c=this.reader.model?new this.reader.model(c):new Z(c));this._isServerGrouped()?
this._data.splice(a,0,d(this.group(),c)):this._data.splice(a,0,c);return c},remove:function(a){var c,g=this,f=g._isServerGrouped();this._eachItem(g._data,function(d){a:{var l=a,k,b;k=0;for(b=d.length;k<b;k++)if(d[k].uid==l.uid){l=d[k];d.splice(k,1);c=l;break a}c=void 0}if(c&&f)return(!c.isNew||!c.isNew())&&g._destroyed.push(c),!0});return a},sync:function(){var a=this,c,g,f=[],d=[],l=a._destroyed,k=a._flatData(a._data);if(a.reader.model){c=0;for(g=k.length;c<g;c++)k[c].isNew()?f.push(k[c]):k[c].dirty&&
d.push(k[c]);c=a._send("create",f);c.push.apply(c,a._send("update",d));c.push.apply(c,a._send("destroy",l));b.when.apply(null,c).then(function(){var c,g;c=0;for(g=arguments.length;c<g;c++)a._accept(arguments[c]);a._change({action:"sync"});a.trigger("sync")})}},cancelChanges:function(a){var c=this._readData(this._pristine);a instanceof L.data.Model?this._cancelModel(a):(this._destroyed=[],this._data=this._observe(c),this.options.serverPaging&&(this._total=this.reader.total(this._pristine)),this._change())},
hasChanges:function(){var a,c,g=this._data;if(this._destroyed.length)return!0;a=0;for(c=g.length;a<c;a++)if(g[a].isNew()||g[a].dirty)return!0;return!1},_accept:function(a){var c=a.models,g=a.response,f=0,l=this._isServerGrouped(),k=this._readData(this._pristine);a=a.type;var j;this.trigger("requestEnd",{response:g,type:a});if(g){g=this.reader.parse(g);if(this._handleCustomErrors(g))return;g=this.reader.data(g);b.isArray(g)||(g=[g])}else g=b.map(c,function(a){return a.toJSON()});"destroy"===a&&(this._destroyed=
[]);f=0;for(j=c.length;f<j;f++)"destroy"!==a?(c[f].accept(g[f]),"create"===a?k.push(l?d(this.group(),c[f]):g[f]):"update"===a&&this._updatePristineForModel(c[f],g[f])):this._removePristineForModel(c[f])},_updatePristineForModel:function(c,g){this._executeOnPristineForModel(c,function(c,f){a(!0,f[c],g)})},_executeOnPristineForModel:function(a,c){this._eachPristineItem(function(g){var f=j(g,a);if(-1<f)return c(f,g),!0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,
c){c.splice(a,1)})},_readData:function(a){return(!this._isServerGrouped()?this.reader.data:this.reader.groups)(a)},_eachPristineItem:function(a){this._eachItem(this._readData(this._pristine),a)},_eachItem:function(a,c){a&&a.length&&(this._isServerGrouped()?m(a,c):c(a))},_pristineForModel:function(a){var c,g;this._eachPristineItem(function(f){g=j(f,a);if(-1<g)return c=f[g],!0});return c},_cancelModel:function(a){var c=this._pristineForModel(a),g;this._eachItem(this._data,function(f){g=k(f,a);-1!=g&&
(!a.isNew()&&c?f[g].accept(c):f.splice(g,1))})},_promise:function(c,g,f){var d=this,l=d.transport;return b.Deferred(function(k){l[f].call(l,a({success:function(a){k.resolve({response:a,models:g,type:f})},error:function(a,c,g){k.reject(a);d.error(a,c,g)}},c))}).promise()},_send:function(a,c){var g,f,d=[];if(this.options.batch)c.length&&d.push(this._promise({data:{models:s(c)}},c,a));else{g=0;for(f=c.length;g<f;g++)d.push(this._promise({data:c[g].toJSON()},[c[g]],a))}return d},read:function(a){var g=
this,f=g._params(a);g._queueRequest(f,function(){g.trigger("requestStart")?g._dequeueRequest():(g.trigger("progress"),g._ranges=[],g.transport.read({data:f,success:c(g.success,g),error:c(g.error,g)}))})},success:function(a){var c=this.options;this.trigger("requestEnd",{response:a,type:"read"});a=this.reader.parse(a);this._handleCustomErrors(a)?this._dequeueRequest():(this._pristine=B(a)?b.extend(!0,{},a):a.slice?a.slice(0):a,this._total=this.reader.total(a),this._aggregate&&c.serverAggregates&&(this._aggregateResult=
this.reader.aggregates(a)),a=this._readData(a),this._data=this._observe(a),this._addRange(this._data),this._dequeueRequest(),this._process(this._data))},_addRange:function(a){var c=this._skip||0,g=c+this._flatData(a).length;this._ranges.push({start:c,end:g,data:a});this._ranges.sort(function(a,c){return a.start-c.start})},error:function(a,c,g){this._dequeueRequest();this.trigger("requestEnd",{});this.trigger("error",{xhr:a,status:c,errorThrown:g})},_params:function(c){c=a({take:this.take(),skip:this.skip(),
page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},c);this.options.serverPaging||(delete c.take,delete c.skip,delete c.page,delete c.pageSize);this.options.serverGrouping||delete c.group;this.options.serverFiltering||delete c.filter;this.options.serverSorting||delete c.sort;this.options.serverAggregates||delete c.aggregate;return c},_queueRequest:function(a,g){this._requestInProgress?this._pending={callback:c(g,this),options:a}:
(this._requestInProgress=!0,this._pending=w,g())},_dequeueRequest:function(){this._requestInProgress=!1;this._pending&&this._queueRequest(this._pending.options,this._pending.callback)},_handleCustomErrors:function(a){return this.reader.errors&&(a=this.reader.errors(a))?(this.trigger("error",{xhr:null,status:"customerror",errorThrown:"custom error",errors:a}),!0):!1},_observe:function(a){var g=this,f=g.reader.model,d=!1;f&&a.length&&(d=!(a[0]instanceof f));a instanceof X?d&&(a.type=g.reader.model,
a.wrapAll(a,a)):(a=new X(a,g.reader.model),a.parent=function(){return g.parent()});g._isServerGrouped()&&q(a,f);return a.bind("change",c(g._change,g))},_change:function(a){var c,g,f=a?a.action:"";if("remove"===f){c=0;for(g=a.items.length;c<g;c++)(!a.items[c].isNew||!a.items[c].isNew())&&this._destroyed.push(a.items[c])}this.options.autoSync&&("add"===f||"remove"===f||"itemchange"===f)?this.sync():(c=this._total||this.reader.total(this._pristine),"add"===f?c++:"remove"===f?c--:"itemchange"!==f&&("sync"!==
f&&!this.options.serverPaging)&&(c=this.reader.total(this._pristine)),this._total=c,this._process(this._data,a))},_process:function(a,c){var g={};!0!==this.options.serverPaging&&(g.skip=this._skip,g.take=this._take||this._pageSize,g.skip===w&&(this._page!==w&&this._pageSize!==w)&&(g.skip=(this._page-1)*this._pageSize));!0!==this.options.serverSorting&&(g.sort=this._sort);!0!==this.options.serverFiltering&&(g.filter=this._filter);!0!==this.options.serverGrouping&&(g.group=this._group);!0!==this.options.serverAggregates&&
(g.aggregate=this._aggregate,this._aggregateResult=e(a,g));g=n.process(a,g);this._view=g.data;g.total!==w&&!this.options.serverFiltering&&(this._total=g.total);c=c||{};c.items=c.items||this._view;this.trigger("change",c)},_mergeState:function(a){a!==w&&(this._pageSize=a.pageSize,this._page=a.page,this._sort=a.sort,this._filter=a.filter,this._group=a.group,this._aggregate=a.aggregate,this._skip=a.skip,this._take=a.take,this._skip===w&&(this._skip=this.skip(),a.skip=this.skip()),this._take===w&&this._pageSize!==
w&&(this._take=this._pageSize,a.take=this._take),a.sort&&(this._sort=a.sort=r(a.sort)),a.filter&&(this._filter=a.filter=E(a.filter)),a.group&&(this._group=a.group=C(a.group)),a.aggregate&&(this._aggregate=a.aggregate=g(a.aggregate)?a.aggregate:[a.aggregate]));return a},query:function(a){var c;this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||this._data===w||0===this._data.length?this.read(this._mergeState(a)):
this.trigger("requestStart")||(this.trigger("progress"),c=n.process(this._data,this._mergeState(a)),this.options.serverFiltering||(this._total=c.total!==w?c.total:this._data.length),this._view=c.data,this._aggregateResult=e(this._data,a),this.trigger("requestEnd",{}),this.trigger("change",{items:c.data}))},fetch:function(a){if(a&&l(a))this.one("change",a);this._query()},_query:function(c){this.query(a({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),
aggregate:this.aggregate()},c))},next:function(a){var c=this.page(),g=this.total();a=a||{};if(c&&!(g&&c+1>this.totalPages()))return this._skip=c*this.take(),c+=1,a.page=c,this._query(a),c},prev:function(a){var c=this.page();a=a||{};if(c&&1!==c)return this._skip-=this.take(),c-=1,a.page=c,this._query(a),c},page:function(a){if(a!==w)a=R.max(R.min(R.max(a,1),this.totalPages()),1),this._query({page:a});else return a=this.skip(),a!==w?R.round((a||0)/(this.take()||1))+1:w},pageSize:function(a){if(a!==w)this._query({pageSize:a,
page:1});else return this.take()},sort:function(a){if(a!==w)this._query({sort:a});else return this._sort},filter:function(a){if(a===w)return this._filter;this._query({filter:a,page:1})},group:function(a){if(a!==w)this._query({group:a});else return this._group},total:function(){return this._total||0},aggregate:function(a){if(a!==w)this._query({aggregate:a});else return this._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a=this.pageSize()||this.total();return R.ceil((this.total()||
0)/a)},inRange:function(a,c){var g=R.min(a+c,this.total());return!this.options.serverPaging&&0<this.data.length?!0:0<this._findRange(a,g).length},range:function(a,c){a=R.min(a||0,this.total());var g=this,f=R.max(R.floor(a/c),0)*c,d=R.min(f+c,g.total()),l;l=g._findRange(a,R.min(a+c,g.total()));if(l.length){g._skip=a>g.skip()?R.min(d,(g.totalPages()-1)*g.take()):f;g._take=c;var k=g.options.serverPaging,b=g.options.serverSorting,j=g.options.serverFiltering;try{g.options.serverPaging=!0,g.options.serverSorting=
!0,g.options.serverFiltering=!0,k&&(g._data=l=g._observe(l)),g._process(l)}finally{g.options.serverPaging=k,g.options.serverSorting=b,g.options.serverFiltering=j}}else c!==w&&(g._rangeExists(f,d)?f<a&&g.prefetch(d,c,function(){g.range(a,c)}):g.prefetch(f,c,function(){a>f&&d<g.total()&&!g._rangeExists(d,R.min(d+c,g.total()))?g.prefetch(d,c,function(){g.range(a,c)}):g.range(a,c)}))},_findRange:function(a,c){var g=this._ranges,f,d=[],l,k,b,j,m;f=this.options;var G=f.serverSorting||f.serverPaging||f.serverFiltering||
f.serverGrouping||f.serverAggregates,F,x;l=0;for(x=g.length;l<x;l++)if(f=g[l],a>=f.start&&a<=f.end){for(F=0;l<x;l++)if(f=g[l],b=this._flatData(f.data),b.length&&a+F>=f.start&&(j=f.data,m=f.end,G||(j=C(this.group()||[]).concat(r(this.sort()||[])),k=n.process(f.data,{sort:j,filter:this.filter()}),b=j=k.data,k.total!==w&&(m=k.total)),k=0,a+F>f.start&&(k=a+F-f.start),b=b.length,m>c&&(b-=m-c),F+=b-k,d=this._mergeGroups(d,j,k,b),c<=f.end&&F==c-a))return d;break}return[]},_mergeGroups:function(a,c,g,f){if(this._isServerGrouped()){c=
c.toJSON();var d;a.length&&(d=a[a.length-1]);v(d,c,g,f);return a.concat(c)}return a.concat(c.slice(g,f))},skip:function(){return this._skip===w?this._page!==w?(this._page-1)*(this.take()||1):w:this._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,c,g){var f=this;return function(d){var l=!1,k={start:a,end:c,data:[]},b,j;f._dequeueRequest();b=0;for(j=f._ranges.length;b<j;b++)if(f._ranges[b].start===a){l=!0;k=f._ranges[b];break}l||f._ranges.push(k);d=f.reader.parse(d);
k.data=f._observe(f._readData(d));k.end=k.start+f._flatData(k.data).length;f._ranges.sort(function(a,c){return a.start-c.start});f._total=f.reader.total(d);g&&g()}},prefetch:function(a,c,g){var f=this,d=R.min(a+c,f.total()),l={take:c,skip:a,page:a/c+1,pageSize:c,sort:f._sort,filter:f._filter,group:f._group,aggregate:f._aggregate};f._rangeExists(a,d)?g&&g():(clearTimeout(f._timeout),f._timeout=setTimeout(function(){f._queueRequest(l,function(){f.transport.read({data:l,success:f._prefetchSuccessHandler(a,
d,g)})})},100))},_rangeExists:function(a,c){var g=this._ranges,f,d;f=0;for(d=g.length;f<d;f++)if(g[f].start<=a&&g[f].end>=c)return!0;return!1}}),Da={create:function(c,g){var f,d=c.transport;d?(d.read=typeof d.read===K?{url:d.read}:d.read,c.type&&(L.data.transports[c.type]&&!B(L.data.transports[c.type])?f=new L.data.transports[c.type](a(d,{data:g})):d=a(!0,{},L.data.transports[c.type],d),c.schema=a(!0,{},L.data.schemas[c.type],c.schema)),f||(f=l(d.read)?d:new ka(d))):f=new ja({data:c.data});return f}};
ba.create=function(c){c=(c=c&&c.push?{data:c}:c)||{};var g=c.data,d=c.fields,l=c.table,k=c.select,j={},m;if(!g&&d&&!c.transport)if(l){for(var g=(g=b(l)[0].tBodies[0])?g.rows:[],G=d.length,F=[],x,B,h,A,l=0,k=g.length;l<k;l++){B={};A=!0;x=g[l].cells;for(m=0;m<G;m++)h=x[m],"th"!==h.nodeName.toLowerCase()&&(A=!1,B[d[m].field]=h.innerHTML);A||F.push(B)}g=F}else if(k){g=b(k)[0].children;m=[];F=d[0];x=d[1];l=0;for(k=g.length;l<k;l++)G={},h=g[l],h.disabled||(G[F.field]=h.text,B=(B=h.attributes.value)&&B.specified?
h.value:h.text,G[x.field]=B,m.push(G));g=m}if(L.data.Model&&d&&(!c.schema||!c.schema.model)){l=0;for(k=d.length;l<k;l++)m=d[l],m.type&&(j[m.field]=m);f(j)||(c.schema=a(!0,c.schema,{model:{fields:j}}))}c.data=g;return c instanceof ba?c:new ba(c)};var ya=da.define({init:function(c){var g=this.hasChildren||c&&c.hasChildren,f="items",d={};L.data.Model.fn.init.call(this,c);typeof this.children===K&&(f=this.children);d={schema:{data:f,model:{hasChildren:g,id:this.idField}}};typeof this.children!==K&&a(d,
this.children);d.data=c;g||(g=d.schema.data);typeof g===K&&(g=L.getter(g));l(g)&&(this.hasChildren=!!g.call(this,this));this._childrenOptions=d;this.hasChildren&&this._initChildren();this._loaded=!(!c||!c[f])},_initChildren:function(){var a=this;a.children instanceof ia||(a.children=new ia(a._childrenOptions),a.children.parent=function(){return a},a.children.bind("change",function(c){c.node=c.node||a;a.trigger("change",c)}),a._updateChildrenField())},append:function(a){this._initChildren();this.loaded(!0);
this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),c=0;a&&a.parentNode;)c++,a=a.parentNode?a.parentNode():null;return c},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},load:function(){var a=this,c={};a.hasChildren&&(a._initChildren(),c[a.idField||"id"]=a.id,a._loaded||(a.children._data=w),a.children.one("change",function(){a._loaded=!0;a._updateChildrenField()})._query(c))},parentNode:function(){return this.parent().parent()},
loaded:function(a){if(a!==w)this._loaded=a;else return this._loaded},shouldSerialize:function(a){return da.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),ia=ba.extend({init:function(c){var g=ya.define({children:c});ba.fn.init.call(this,a(!0,{},{schema:{modelBase:g,model:g}},c))},remove:function(a){var c=a.parentNode(),g=this;c&&(g=c.children);a=ba.fn.remove.call(g,a);c&&!g.data().length&&(c.hasChildren=!1);return a},insert:function(a,c){var g=
this.parent();g&&(g.hasChildren=!0,g._initChildren());return ba.fn.insert.call(this,a,c)},_find:function(a,c){var g,f,d,l;if(d=ba.fn[a].call(this,c))return d;if(l=this._flatData(this.data())){g=0;for(f=l.length;g<f;g++)if(d=l[g].children,d instanceof ia&&(d=d[a](c)))return d}},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});ia.create=function(a){a=(a=a&&a.push?{data:a}:a)||{};var c=a.data,g=a.fields,f=a.list;if(c&&c._dataSource)return c._dataSource;
!c&&g&&!a.transport&&f&&(c=A(f,g));a.data=c;return a instanceof ia?a:new ia(a)};a(!0,L.data,{readers:{json:I},Query:n,DataSource:ba,HierarchicalDataSource:ia,Node:ya,ObservableObject:Z,ObservableArray:X,LocalTransport:ja,RemoteTransport:ka,Cache:la,DataReader:I,Model:da})})(window.kendo.jQuery);
(function(b,w){function u(a){var c,f,d=[];c=0;for(f=a.length;c<f;c++)d=a[c].hasSubgroups?d.concat(u(a[c].items)):d.concat(a[c].items);return d}function y(a){var c={},f,d,l,k,b;b=a.match(B);a=0;for(f=b.length;a<f;a++)d=b[a],l=d.indexOf(":"),k=d.substring(0,l),d=d.substring(l+1),"{"==d.charAt(0)&&(d=y(d)),c[k]=d;return c}function n(a,c,f){var d,l={};for(d in a)l[d]=new f(c,a[d]);return l}function r(a,b,j,m){var B=a.getAttribute("data-"+s.ns+"role"),h=a.getAttribute("data-"+s.ns+"bind"),q=a.children,
p=[],e=!0,t={},v;m=m||[b];(B||h)&&E(a);B&&(v=(v=j[B])?new l(s.initWidget(a,v.options,j)):void 0);h&&(h=y(h.replace(f,"")),v||(t=s.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:d}),t.roles=j,v=new c(a,t)),v.source=b,B=n(h,m,k),t.template&&(B.template=new A(m,"",t.template)),B.click&&(h.events=h.events||{},h.events.click=h.click,delete B.click),B.source&&(e=!1),h.attr&&(B.attr=n(h.attr,m,k)),h.style&&(B.style=n(h.style,m,k)),h.events&&(B.events=n(h.events,m,x)),v.bind(B));v&&(a.kendoBindingTarget=
v);if(e&&q){for(a=0;a<q.length;a++)p[a]=q[a];for(a=0;a<p.length;a++)r(p[a],b,j,m)}}function z(a,c){var f,d,l=s.rolesFromNamespaces([].slice.call(arguments,2));c=s.observable(c);a=b(a);f=0;for(d=a.length;f<d;f++)r(a[f],c,l)}function E(a){var c=a.kendoBindingTarget;c&&(c.destroy(),b.support.deleteExpando?delete a.kendoBindingTarget:a.removeAttribute?a.removeAttribute("kendoBindingTarget"):a.kendoBindingTarget=null)}function C(a){var c,f=a.children;E(a);if(f){a=0;for(c=f.length;a<c;a++)C(f[a])}}var s=
window.kendo,e=s.Observable,h=s.data.ObservableObject,t=s.data.ObservableArray,p={}.toString,v={},D=s.Class,q,m=b.proxy,d="change",j=document.createElement("a");j.innerText!==w?q="innerText":j.textContent!==w&&(q="textContent");var k=e.extend({init:function(a,c){var f=this;e.fn.init.call(f);f.source=a[0];f.parents=a;f.path=c;f.dependencies={};f.dependencies[c]=!0;f.observable=f.source instanceof e;f._access=function(a){f.dependencies[a.field]=!0};f.observable&&(f._change=function(a){f.change(a)},
f.source.bind(d,f._change))},change:function(a){var c,f,l=a.field;if("this"===this.path)this.trigger(d,a);else for(c in this.dependencies)if(0===c.indexOf(l)&&(f=c.charAt(l.length),!f||"."===f||"["===f)){this.trigger(d,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this.source,c=0,f=this.path,l=a;if(!this.observable)return l;this.start(this.source);for(l=a.get(f);l===w&&a;)a=this.parents[++c],a instanceof h&&(l=a.get(f));
"function"===typeof l&&(c=f.lastIndexOf("."),0<c&&(a=a.get(f.substring(0,c))),this.start(a),l=l.call(a,this.source),this.stop(a));a&&a!==this.source&&(this.currentSource=a,a.unbind(d,this._change).bind(d,this._change));this.stop(this.source);return l},set:function(a){(this.currentSource||this.source).set(this.path,a)},destroy:function(){this.observable&&this.source.unbind(d,this._change)}}),x=k.extend({get:function(){var a=this.source,c=this.path,f=0,d;for(d=a.get(c);!d&&a;)a=this.parents[++f],a instanceof
h&&(d=a.get(c));return m(d,a)}}),A=k.extend({init:function(a,c,f){k.fn.init.call(this,a,c);this.template=f},render:function(a){this.start(this.source);a=s.render(this.template,a);this.stop(this.source);return a}}),a=D.extend({init:function(a,c,f){this.element=a;this.bindings=c;this.options=f},bind:function(a,c){var f=this;a=c?a[c]:a;a.bind(d,function(a){f.refresh(c||a)});f.refresh(c)},destroy:function(){}});v.attr=a.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}});
v.style=a.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()}});v.enabled=a.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}});v.readonly=a.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}});v.disabled=a.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled",
"disabled"):this.element.removeAttribute("disabled")}});v.events=a.extend({init:function(c,f,d){a.fn.init.call(this,c,f,d);this.handlers={}},refresh:function(a){var c=b(this.element),f=this.bindings.events[a],d=this.handlers[a];d&&c.off(a,d);d=this.handlers[a]=f.get();c.on(a,f.source,d)},destroy:function(){var a=b(this.element),c;for(c in this.handlers)a.off(c,this.handlers[c])}});v.text=a.extend({refresh:function(){var a=this.bindings.text.get();null==a&&(a="");this.element[q]=a}});v.visible=a.extend({refresh:function(){this.element.style.display=
this.bindings.visible.get()?"":"none"}});v.invisible=a.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}});v.html=a.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});v.value=a.extend({init:function(c,f,l){a.fn.init.call(this,c,f,l);this._change=m(this.change,this);this.eventName=l.valueUpdate||d;b(this.element).on(this.eventName,this._change);this._initChange=!1},change:function(){this._initChange=this.eventName!=d;this.bindings.value.set(this.element.value);
this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings.value.get();null==a&&(a="");this.element.value=a}this._initChange=!1},destroy:function(){b(this.element).off(this.eventName,this._change)}});v.source=a.extend({init:function(c,f,d){a.fn.init.call(this,c,f,d)},refresh:function(a){this.bindings.source.get()instanceof t?(a=a||{},"add"==a.action?this.add(a.index,a.items):"remove"==a.action?this.remove(a.index,a.items):"itemchange"!=a.action&&this.render()):this.render()},
container:function(){var a=this.element;"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]);return a},template:function(){var a=this.options,c=a.template,f=this.container().nodeName.toLowerCase();c||(c="select"==f?a.valueField||a.textField?s.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==f?"<tr><td>#:data#</td></tr>":"ul"==f||"ol"==f?"<li>#:data#</li>":
"#:data#",c=s.template(c));return c},destroy:function(){this.bindings.source.get().unbind(d,this._change)},add:function(a,c){var f=this.container(),d,l,k,j=f.cloneNode(!1),m=f.children[a];b(j).html(s.render(this.template(),c));if(j.children.length){d=0;for(l=c.length;d<l;d++)k=j.children[0],f.insertBefore(k,m||null),r(k,c[d],this.options.roles,[c[d]].concat(this.bindings.source.parents))}},remove:function(a,c){var f,d=this.container();for(f=0;f<c.length;f++)d.removeChild(d.children[a])},render:function(){var a=
this.bindings.source.get(),c,f,d=this.container();c=this.template();!(a instanceof t)&&"[object Array]"!==p.call(a)&&(a.parent&&(f=a.parent),a=new t([a]),a.parent&&(a.parent=f));if(this.bindings.template){if(b(d).html(this.bindings.template.render(a)),d.children.length){c=0;for(f=a.length;c<f;c++)r(d.children[c],a[c],this.options.roles,[a[c]].concat(this.bindings.source.parents))}}else b(d).html(s.render(c,a))}});v.input={checked:a.extend({init:function(c,f,d){a.fn.init.call(this,c,f,d);this._change=
m(this.change,this);b(this.element).change(this._change)},change:function(){var a=this.element,c=this.value();if("radio"==a.type)this.bindings.checked.set(c);else if("checkbox"==a.type){var a=this.bindings.checked.get(),f;a instanceof t?(c=this.element.value,"on"!==c&&"off"!==c&&(f=a.indexOf(c),-1<f?a.splice(f,1):a.push(c))):this.bindings.checked.set(c)}},refresh:function(){var a=this.bindings.checked.get(),c=a,f=this.element;"checkbox"==f.type?(c instanceof t&&(a=this.element.value,0<=c.indexOf(a)&&
(a=!0)),f.checked=!0===a):"radio"==f.type&&null!=a&&f.value===a.toString()&&(f.checked=!0)},value:function(){var a=this.element,c=a.value;"checkbox"==a.type&&(c=a.checked);return c},destroy:function(){b(this.element).off(d,this._change)}})};v.select={value:a.extend({init:function(c,f,d){a.fn.init.call(this,c,f,d);this._change=m(this.change,this);b(this.element).change(this._change)},change:function(){var a=[],c=this.element,f=this.options.valueField||this.options.textField,d,l,k,b;k=0;for(b=c.options.length;k<
b;k++)d=c.options[k],d.selected&&(l=(l=d.attributes.value)&&l.specified?d.value:d.text,a.push(l));if(f){c=this.bindings.source.get();for(d=0;d<a.length;d++){k=0;for(b=c.length;k<b;k++)if(c[k].get(f)==a[d]){a[d]=c[k];break}}}l=this.bindings.value.get();l instanceof t?l.splice.apply(l,[0,l.length].concat(a)):l instanceof h||!f?this.bindings.value.set(a[0]):this.bindings.value.set(a[0].get(f))},refresh:function(){var a;a=this.element;var c=a.options,f=this.bindings.value.get(),d=f,l=this.options.valueField||
this.options.textField,k;d instanceof t||(d=new t([f]));a.selectedIndex=-1;for(var b=0;b<d.length;b++){f=d[b];l&&f instanceof h&&(f=f.get(l));for(a=0;a<c.length;a++)k=c[a].value,""===k&&""!==f&&(k=c[a].text),k==f&&(c[a].selected=!0)}},destroy:function(){b(this.element).off(d,this._change)}})};v.widget={events:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c;this.handlers={}},refresh:function(a){var c=this.bindings.events[a],f=this.handlers[a];f&&this.widget.unbind(a,
f);f=c.get();this.handlers[a]=function(a){a.data=c.source;f(a);a.data===c.source&&delete a.data};this.widget.bind(a,this.handlers[a])},destroy:function(){for(var a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:a.extend({init:function(c,f,l){a.fn.init.call(this,c.element[0],f,l);this.widget=c;this._change=m(this.change,this);this.widget.bind(d,this._change)},change:function(){this.bindings.checked.set(this.value())},refresh:function(){this.widget.check(!0===this.bindings.checked.get())},
value:function(){var a=this.element,c=a.value;if("on"==c||"off"==c)c=a.checked;return c},destroy:function(){this.widget.unbind(d,this._change)}}),visible:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=
a?"none":""}}),enabled:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:a.extend({init:function(c,f,d){a.fn.init.call(this,c.element[0],f,d);this.widget=c;this._dataBinding=m(this.dataBinding,
this);this._dataBound=m(this.dataBound,this);this._itemChange=m(this.itemChange,this)},itemChange:function(a){r(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings.source.parents))},dataBinding:function(){var a,c,f=this.widget.items();a=0;for(c=f.length;a<c;a++)C(f[a])},_ns:function(a){a=a||s.ui;var c=[s.ui,s.dataviz.ui,s.mobile.ui];c.splice(b.inArray(a,c),1);c.unshift(a);return s.rolesFromNamespaces(c)},dataBound:function(a){var c,f,d=this.widget,l=d.items();c=d.dataSource;d=c.view();c=
c.group()||[];if(l.length){c.length&&(d=u(d));c=0;for(f=d.length;c<f;c++)r(l[c],d[c],this._ns(a.ns),[d[c]].concat(this.bindings.source.parents))}},refresh:function(a){var c=this.widget;a=a||{};a.action||(this.destroy(),c.bind("dataBinding",this._dataBinding),c.bind("dataBound",this._dataBound),c.bind("itemChange",this._itemChange),a=this.bindings.source.get(),c.dataSource instanceof s.data.DataSource&&c.dataSource!=a&&(a instanceof s.data.DataSource?c.setDataSource(a):a&&a._dataSource?c.setDataSource(a._dataSource):
c.dataSource.data(a)))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding);a.unbind("dataBound",this._dataBound);a.unbind("itemChange",this._itemChange)}}),value:a.extend({init:function(c,f,l){a.fn.init.call(this,c.element[0],f,l);this.widget=c;this._change=b.proxy(this.change,this);this.widget.first(d,this._change);c=this.bindings.value.get();this._valueIsObservableObject=null==c||c instanceof h;this._valueIsObservableArray=c instanceof t;this._initChange=!1},change:function(){var a=
this.widget.value(),c=this.options.dataValueField||this.options.dataTextField,f="[object Array]"===p.call(a),d=this._valueIsObservableObject,l,k,b=[],j,m,x,B,h;this._initChange=!0;if(c)if(this.bindings.source&&(h=this.bindings.source.get()),""===a&&d)a=null;else{if(!h||h instanceof s.data.DataSource)h=this.widget.dataSource.view();f&&(k=a.length,b=a.slice(0));x=0;for(B=h.length;x<B;x++)if(j=h[x],m=j.get(c),f)for(l=0;l<k;l++){if(m==b[l]){b[l]=j;break}}else if(m==a){a=d?j:m;break}b[0]&&(a=this._valueIsObservableArray?
b:d||!c?b[0]:b[0].get(c))}this.bindings.value.set(a);this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.options.dataValueField||this.options.dataTextField,c=this.bindings.value.get(),f=0,d,l=[];if(a)if(c instanceof t){for(d=c.length;f<d;f++)l[f]=c[f].get(a);c=l}else c instanceof h&&(c=c.get(a));this.widget.value(c)}this._initChange=!1},destroy:function(){this.widget.unbind(d,this._change)}})};var c=D.extend({init:function(a,c){this.target=a;this.options=c;this.toDestroy=[]},
bind:function(a){var c=this.target.nodeName.toLowerCase(),f,d,l,k,c=v[c]||{};for(f in a)"value"==f?d=!0:"source"==f?l=!0:"events"==f?k=!0:this.applyBinding(f,a,c);l&&this.applyBinding("source",a,c);d&&this.applyBinding("value",a,c);k&&this.applyBinding("events",a,c)},applyBinding:function(a,c,f){f=f[a]||v[a];var d=this.toDestroy,l,b=c[a];if(f)if(f=new f(this.target,c,this.options),d.push(f),b instanceof k)f.bind(b),d.push(b);else for(l in b)f.bind(b,l),d.push(b[l]);else if("template"!==a)throw Error("The "+
a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){var a,c,f=this.toDestroy;a=0;for(c=f.length;a<c;a++)f[a].destroy()}}),l=c.extend({bind:function(a){var c,f=!1,d=!1;for(c in a)"value"==c?f=!0:"source"==c?d=!0:this.applyBinding(c,a);d&&this.applyBinding("source",a);f&&this.applyBinding("value",a)},applyBinding:function(a,c){var f=v.widget[a],d=this.toDestroy,l,b=c[a];if(f)if(f=new f(this.target,c,this.target.options),d.push(f),b instanceof k)f.bind(b),
d.push(b);else for(l in b)f.bind(b,l),d.push(b[l]);else throw Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");}}),B=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,f=/\s/g;s.unbind=function(a){var c,f;a=b(a);c=0;for(f=a.length;c<f;c++)C(a[c])};s.bind=z;s.data.binders=v;s.data.Binder=a;s.notify=function(a,c){var f=a.element,d=f[0].kendoBindingTarget;d&&z(f,d.source,c)};s.observable=function(a){a instanceof h||(a=new h(a));return a};s.observableHierarchy=function(a){function c(a){var f,
g;for(f=0;f<a.length;f++)a[f]._initChildren(),g=a[f].children,g.fetch(),a[f].items=g.data(),c(a[f].items)}a=s.data.HierarchicalDataSource.create(a);a.fetch();c(a.data());a._data._dataSource=a;return a._data}})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.ui.Widget,n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,r=
/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,
z=b.proxy,E=function(b,e){"string"===typeof e&&(e=RegExp("^(?:"+e+")$"));return e.test(b)},C=function(b,e,p){var v=b.val();return b.filter(e).length&&""!==v?E(v,p):!0},s=/("|'|\[|\]|\$|\.|\:|\+)/g;u.ui.validator||(u.ui.validator={rules:{},messages:{}});var e=y.extend({init:function(h,e){var p=u.ui.validator.ruleResolvers||{},v={},D;for(D in p)b.extend(!0,v,p[D].resolve(h));e=e||{};e.rules=b.extend({},u.ui.validator.rules,v.rules,e.rules);e.messages=b.extend({},u.ui.validator.messages,v.messages,e.messages);
y.fn.init.call(this,h,e);this._errorTemplate=u.template(this.options.errorTemplate);this.element.is("form")&&this.element.attr("novalidate","novalidate");this._errors={};this._attachEvents()},options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",
step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(b){var e=b.filter("[type=checkbox]").length&&"checked"!==b.attr("checked"),p=b.val();b=b.length?b[0].attributes.required!==w:!1;return!(b&&(""===p||!p||e))},pattern:function(b){return b.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==b.val()?E(b.val(),b.attr("pattern")):!0},min:function(b){if(b.filter("[type=number],[type=range],["+
u.attr("type")+"=number]").filter("[min]").length&&""!==b.val()){var e=parseFloat(b.attr("min"))||0;b=parseFloat(b.val());return e<=b}return!0},max:function(b){if(b.filter("[type=number],[type=range],["+u.attr("type")+"=number]").filter("[max]").length&&""!==b.val()){var e=parseFloat(b.attr("max"))||0;b=parseFloat(b.val());return e>=b}return!0},step:function(b){if(b.filter("[type=number],[type=range],["+u.attr("type")+"=number]").filter("[step]").length&&""!==b.val()){var e=parseFloat(b.attr("min"))||
0,p=parseFloat(b.attr("step"))||1;b=parseFloat(b.val());var v;v=(p+"").split(".");v=1<v.length?v[1].length:0;var D;return v?(D=Math.pow(10,v),0===(b-e)*D%(p*D)/Math.pow(100,v)):0===(b-e)%p}return!0},email:function(b){return C(b,"[type=email],["+u.attr("type")+"=email]",n)},url:function(b){return C(b,"[type=url],["+u.attr("type")+"=url]",r)},date:function(b){return b.filter("[type^=date],["+u.attr("type")+"=date]").length&&""!==b.val()?null!==u.parseDate(b.val(),b.attr(u.attr("format"))):!0}},validateOnBlur:!0},
destroy:function(){y.fn.destroy.call(this);this.element.off(".kendoValidator")},_submit:function(b){return!this.validate()?(b.stopPropagation(),b.stopImmediatePropagation(),b.preventDefault(),!1):!0},_attachEvents:function(){var h=this;if(h.element.is("form"))h.element.on("submit.kendoValidator",z(h._submit,h));if(h.options.validateOnBlur)if(h.element.is(":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])")){if(h.element.on("blur.kendoValidator",function(){h.validateInput(h.element)}),
h.element.is(":checkbox:not([disabled],[readonly])"))h.element.on("click.kendoValidator",function(){h.validateInput(h.element)})}else h.element.on("blur.kendoValidator",":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",function(){h.validateInput(b(this))}),h.element.on("click.kendoValidator",":checkbox:not([disabled],[readonly])",function(){h.validateInput(b(this))})},validate:function(){var b,e,p=!1,v;this._errors={};if(!this.element.is(":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])")){b=
this.element.find(":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])");e=0;for(v=b.length;e<v;e++)this.validateInput(b.eq(e))||(p=!0);return!p}return this.validateInput(this.element)},validateInput:function(h){h=b(h);var e=this._errorTemplate,p=this._checkValidity(h),v=p.valid,D=h.attr("name")||"",q=this._findMessageContainer(D).add(h.next(".k-invalid-msg")).hide();h.removeAttr("aria-invalid");v||(p=this._extractMessage(h,p.key),this._errors[D]=p,e=b(e({message:p.replace(/&amp/g,
"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")})),this._decorateMessageContainer(e,D),q.replaceWith(e).length||e.insertAfter(h),e.show(),h.attr("aria-invalid",!0));h.toggleClass("k-invalid",!v);return v},hideMessages:function(){var b=this.element;b.is(":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])")?b.next(".k-invalid-msg").hide():b.find(".k-invalid-msg").hide()},_findMessageContainer:function(b){var e=u.ui.validator.messageLocators,
p,v=this.element.find(".k-invalid-msg["+u.attr("for")+"="+b.replace(s,"\\$1")+"]");for(p in e)v=v.add(e[p].locate(this.element,b));return v},_decorateMessageContainer:function(b,e){var p=u.ui.validator.messageLocators,v;b.addClass("k-invalid-msg").attr(u.attr("for"),e||"");for(v in p)p[v].decorate(b,e);b.attr("role","alert")},_extractMessage:function(h,e){var p=this.options.messages[e],v=h.attr("name"),p=b.isFunction(p)?p(h):p;return u.format(h.attr(u.attr(e+"-msg"))||h.attr("validationMessage")||
h.attr("title")||p||"",v,h.attr(e))},_checkValidity:function(b){var e=this.options.rules,p;for(p in e)if(!e[p](b))return{valid:!1,key:p};return{valid:!0}},errors:function(){var b=[],e=this._errors,p;for(p in e)b.push(e[p]);return b}});u.ui.plugin(e)})(window.kendo.jQuery);
(function(b){function w(b,m){var d=b.x.location,j=b.y.location,k=m.x.location,x=m.y.location,A=d-k,a=j-x;return{center:{x:(d+k)/2,y:(j+x)/2},distance:Math.sqrt(A*A+a*a)}}function u(b){var m=[],d=b.originalEvent,j=b.currentTarget,k=0,x,A;if(b.api)m.push({id:2,event:b,target:b.target,currentTarget:b.target,location:b});else if(b.type.match(/touch/)){x=d?d.changedTouches:[];for(d=x.length;k<d;k++)A=x[k],m.push({location:A,event:b,target:A.target,currentTarget:j,id:A.identifier})}else n.pointers?m.push({location:d,
event:b,target:b.target,currentTarget:j,id:d.pointerId}):m.push({id:1,event:b,target:b.target,currentTarget:j,location:b});return m}var y=window.kendo,n=y.support,r=n.pointers,z=b(window.document.documentElement),E=y.Class,C=y.Observable,s=b.now,e=b.extend,h=n.mobileOS,t=h&&h.android,p=E.extend({init:function(b,m){this.axis=b;this._updateLocationData(m);this.startLocation=this.location;this.velocity=this.delta=0;this.timeStamp=s()},move:function(b){var m=b["page"+this.axis],d=s(),j=d-this.timeStamp||
1;if(m||!t)this.delta=m-this.location,this._updateLocationData(b),this.initialDelta=m-this.startLocation,this.velocity=this.delta/j,this.timeStamp=d},_updateLocationData:function(b){var m=this.axis;this.location=b["page"+m];this.client=b["client"+m];this.screen=b["screen"+m]}}),v=E.extend({init:function(b,m,d){var j=this;e(j,{x:new p("X",d.location),y:new p("Y",d.location),userEvents:b,target:m,currentTarget:d.currentTarget,initialTouch:d.target,id:d.id,_moved:!1,_finished:!1});j.notifyInit=function(){j._trigger("press",
d)}},move:function(b){if(!this._finished){this.x.move(b.location);this.y.move(b.location);if(!this._moved){if(this._withinIgnoreThreshold())return;if(!D.current||D.current===this.userEvents)this._start(b);else return this.dispose()}this._finished||this._trigger("move",b)}},end:function(b){this.endTime=s();this._finished||(this._moved?this._trigger("end",b):this._trigger("tap",b),this.dispose())},dispose:function(){var h=this.userEvents.touches;this._finished=!0;h.splice(b.inArray(this,h),1)},skip:function(){this.dispose()},
cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(b){this.startTime=s();this._moved=!0;this._trigger("start",b)},_trigger:function(b,m){var d=m.event;this.userEvents.notify(b,{touch:this,x:this.x,y:this.y,target:this.target,event:d})&&d.preventDefault()},_withinIgnoreThreshold:function(){var b=this.x.initialDelta,m=this.y.initialDelta;return Math.sqrt(b*b+m*m)<=this.userEvents.threshold}}),D=C.extend({init:function(h,m){var d=this,j,k=y.guid();m=m||{};j=d.filter=
m.filter;d.threshold=m.threshold||0;d.touches=[];d._maxTouches=m.multiTouch?2:1;d.allowSelection=m.allowSelection;d.eventNS=k;h=b(h).handler(d);C.fn.init.call(d);e(d,{element:h,surface:m.global?z:m.surface||h,stopPropagation:m.stopPropagation,pressed:!1});d.surface.handler(d).on(y.applyEventMap("move",k),"_move").on(y.applyEventMap("up cancel",k),"_end");h.on(y.applyEventMap("down",k),j,"_start");r&&h.css("-ms-touch-action","pinch-zoom double-tap-zoom");if(m.preventDragEvent)h.on(y.applyEventMap("dragstart",
k),y.preventDefault);h.on(y.applyEventMap("mousedown selectstart",k),j,{root:h},"_select");if(n.eventCapture){j=y.eventMap.up.split(" ");for(var k=0,x=j.length,A=d.surface[0],a=function(a){d._isMoved()&&a.preventDefault()};k<x;k++)A.addEventListener(j[k],a,!0)}d.bind("press tap start move end cancel gesturestart gesturechange gestureend gesturetap select".split(" "),m)},destroy:function(){this.element.kendoDestroy(this.eventNS);this.surface.kendoDestroy(this.eventNS);this._disposeAll();this.unbind()},
capture:function(){D.current=this},cancel:function(){this._disposeAll();this.trigger("cancel")},notify:function(b,m){var d=this.touches;if(this._isMultiTouch()){switch(b){case "move":b="gesturechange";break;case "end":b="gestureend";break;case "tap":b="gesturetap"}e(m,{touches:d},w(d[0],d[1]))}return this.trigger(b,m)},press:function(b,m,d){this._apiCall("_start",b,m,d)},move:function(b,m){this._apiCall("_move",b,m)},end:function(b,m){this._apiCall("_end",b,m)},_isMultiTouch:function(){return 1<this.touches.length},
_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){b.each(this.touches,function(){this.dispose()})},_isMoved:function(){return b.grep(this.touches,function(b){return b.isMoved()}).length},_select:function(h){if(!this.allowSelection||this.trigger("select",{event:h})){h.preventDefault();var m=b(h.data.root),d=m.closest(".k-widget").parent();d[0]||(d=m.parent());d.trigger(b.Event(h.type,{target:m[0]}))}},_start:function(h){var m=0,d=this.filter,j=u(h),
k=j.length,x;if(!this._maxTouchesReached()){D.current=null;this.currentTarget=h.currentTarget;for(this.stopPropagation&&h.stopPropagation();m<k&&!this._maxTouchesReached();m++)x=j[m],h=d?b(x.currentTarget):this.element,h.length&&(x=new v(this,h,x),this.touches.push(x),x.notifyInit(),this._isMultiTouch()&&this.notify("gesturestart",{}))}},_move:function(b){this._eachTouch("move",b)},_end:function(b){this._eachTouch("end",b)},_eachTouch:function(b,m){var d={},j=u(m),k=this.touches,x,A;for(x=0;x<k.length;x++)A=
k[x],d[A.id]=A;for(x=0;x<j.length;x++)if(k=j[x],A=d[k.id])A[b](k)},_apiCall:function(h,m,d,j){this[h]({api:!0,pageX:m,pageY:d,target:j||this.element,stopPropagation:b.noop,preventDefault:b.noop})}});y.getTouches=u;y.touchDelta=w;y.UserEvents=D})(window.kendo.jQuery);
(function(b,w){function u(a){return j?z.elementFromPoint(a.x.screen,a.y.screen):z.elementFromPoint(a.x.client,a.y.client)}function y(a,c){var f=p(a),g=f.left+(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),f=f.top+(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),d=g+a.width()-c.outerWidth(!0),l=f+a.height()-c.outerHeight(!0);return{x:{min:g,max:d},y:{min:f,max:l}}}var n=window.kendo,r=n.support,z=window.document,E=n.Class,C=n.ui.Widget,
s=n.Observable,e=n.UserEvents,h=b.proxy,t=b.extend,p=n.getOffset,v={},D={},q={},m,d=r.mobileOS,j=d&&d.android&&"chrome"==d.browser,d=s.extend({init:function(a,c){var f=this,g=a[0];f.capture=!1;b.each(n.eventMap.down.split(" "),function(){g.addEventListener(this,h(f._press,f),!0)});b.each(n.eventMap.up.split(" "),function(){g.addEventListener(this,h(f._release,f),!0)});s.fn.init.call(f);f.bind(["press","release"],c||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=
!1},_press:function(a){this.trigger("press");this.capture&&a.preventDefault()},_release:function(a){this.trigger("release");this.capture&&(a.preventDefault(),this.cancelCapture())}}),k=s.extend({init:function(a){s.fn.init.call(this);this.forcedEnabled=!1;b.extend(this,a);this.scale=1;this.max=0;this.horizontal?(this.measure="width",this.scrollSize="scrollWidth",this.axis="x"):(this.measure="height",this.scrollSize="scrollHeight",this.axis="y")},outOfBounds:function(a){return a>this.max||a<this.min},
forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var c=this.getTotal(),f=c*this.scale,g=this.getSize();this.size=g;this.total=f;this.min=Math.min(this.max,this.size-f);this.minScale=this.size/c;this.enabled=this.forcedEnabled||f>g;a||this.trigger("change",this)}}),x=s.extend({init:function(a){var c=h(this.refresh,this);s.fn.init.call(this);
this.x=new k(t({horizontal:!0},a));this.y=new k(t({horizontal:!1},a));this.forcedMinScale=a.minScale;this.bind("change",a);n.onResize(c)},rescale:function(a){this.x.rescale(a);this.y.rescale(a);this.refresh()},refresh:function(){this.x.update();this.y.update();this.enabled=this.x.enabled||this.y.enabled;this.minScale=this.forcedMinScale||Math.max(this.x.minScale,this.y.minScale);this.trigger("change")}}),A=s.extend({init:function(a){t(this,a);s.fn.init.call(this)},dragMove:function(a){var c=this.dimension,
f=this.axis,g=this.movable,d=g[f]+a;if(c.enabled){if(d<c.min&&0>a||d>c.max&&0<a)a*=this.resistance;g.translateAxis(f,a);this.trigger("change",this)}}}),E=E.extend({init:function(a){var c=this,f,g,d;t(c,{elastic:!0},a);a=c.elastic?0.5:0;d=c.movable;c.x=f=new A({axis:"x",dimension:c.dimensions.x,resistance:a,movable:d});c.y=g=new A({axis:"y",dimension:c.dimensions.y,resistance:a,movable:d});c.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){c.gesture=a},gesturechange:function(a){var l,
b;l=c.gesture;b=l.center;var k=a.center,j=a.distance/l.distance;d.scale<=c.dimensions.minScale&&1>j&&(j+=0.8*(1-j));l=(d.x-b.x)*j+k.x-d.x;b=(d.y-b.y)*j+k.y-d.y;d.scaleWith(j);f.dragMove(l);g.dragMove(b);c.dimensions.rescale(d.scale);c.gesture=a},move:function(a){f.dimension.enabled||g.dimension.enabled?(f.dragMove(a.x.delta),g.dragMove(a.y.delta),a.preventDefault()):a.touch.skip()},end:function(a){a.preventDefault()}})}}),a=r.transitions.prefix+"Transform",c=Math.round,l;l=r.hasHW3D?function(a,f,
g){return"translate3d("+c(a)+"px,"+c(f)+"px,0) scale("+g+")"}:function(a,f,g){return"translate("+c(a)+"px,"+c(f)+"px) scale("+g+")"};var B=s.extend({init:function(a){s.fn.init.call(this);this.element=b(a);this.element[0].style.webkitTransformOrigin="left top";this.y=this.x=0;this.scale=1;this._saveCoordinates(l(this.x,this.y,this.scale))},translateAxis:function(a,c){this[a]+=c;this.refresh()},scaleTo:function(a){this.scale=a;this.refresh()},scaleWith:function(a){this.scale*=a;this.refresh()},translate:function(a){this.x+=
a.x;this.y+=a.y;this.refresh()},moveAxis:function(a,c){this[a]=c;this.refresh()},moveTo:function(a){t(this,a);this.refresh()},refresh:function(){var c=l(this.x,this.y,this.scale);c!=this.coordinates&&(this.element[0].style[a]=c,this._saveCoordinates(c),this.trigger("change"))},_saveCoordinates:function(a){this.coordinates=a}}),f=C.extend({init:function(a,c){C.fn.init.call(this,a,c);var f=this.options.group;f in D?D[f].push(this):D[f]=[this]},events:["dragenter","dragleave","drop"],options:{name:"DropTarget",
group:"default"},destroy:function(){var a=this.options.group,c=D[a]||q[a];if(1<c.length){C.fn.destroy.call(this);for(a=0;a<c.length;a++)if(c[a]==this){c.splice(a,1);break}}else f.destroyGroup(a)},_trigger:function(a,c){var f=v[this.options.group];if(f)return this.trigger(a,t({},c.event,{draggable:f,dropTarget:c.dropTarget}))},_over:function(a){this._trigger("dragenter",a)},_out:function(a){this._trigger("dragleave",a)},_drop:function(a){var c=v[this.options.group];c&&(c.dropped=!this._trigger("drop",
a))}});f.destroyGroup=function(a){var c=D[a]||q[a],f;if(c){for(f=0;f<c.length;f++)C.fn.destroy.call(c[f]);c.length=0;delete D[a];delete q[a]}};f._cache=D;var g=f.extend({init:function(a,c){C.fn.init.call(this,a,c);var f=this.options.group;f in q?q[f].push(this):q[f]=[this]},options:{name:"DropTargetArea",group:"default",filter:null}}),F=C.extend({init:function(a,c){var f=this;C.fn.init.call(f,a,c);f.userEvents=new e(f.element,{global:!0,stopPropagation:!0,filter:f.options.filter,threshold:f.options.distance,
start:h(f._start,f),move:h(f._drag,f),end:h(f._end,f),cancel:h(f._cancel,f)});f._afterEndHandler=h(f._afterEnd,f);f.captureEscape=function(a){a.keyCode===n.keys.ESC&&(f._trigger("dragcancel",{event:a}),f.userEvents.cancel())}},events:["dragstart","drag","dragend","dragcancel"],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(a){var c=this.boundaries,f=this.options.axis,g=this.options.cursorOffset;g?a={left:a.x.location+
g.left,top:a.y.location+g.top}:(this.hintOffset.left+=a.x.delta,this.hintOffset.top+=a.y.delta,a=b.extend({},this.hintOffset));c&&(a.top=Math.min(Math.max(a.top,c.y.min),c.y.max),a.left=Math.min(Math.max(a.left,c.x.min),c.x.max));"x"===f?delete a.top:"y"===f&&delete a.left;this.hint.css(a)},_start:function(a){var c=this.options,f=c.container,g=c.hint;this.currentTarget=a.target;this.currentTargetOffset=p(this.currentTarget);g&&(this.hint&&this.hint.stop(!0,!0).remove(),this.hint=b.isFunction(g)?b(g.call(this,
this.currentTarget)):g,this.hintOffset=g=p(this.currentTarget),this.hint.css({position:"absolute",zIndex:2E4,left:g.left,top:g.top}).appendTo(z.body));v[c.group]=this;this.dropped=!1;f&&(this.boundaries=y(f,this.hint));this._trigger("dragstart",a)&&(this.userEvents.cancel(),this._afterEnd());b(z).on("keyup",this.captureEscape)},_drag:function(a){a.preventDefault();this._withDropTarget(a,function(c,f){if(c){if(m){if(f===m.targetElement)return;m._trigger("dragleave",t(a,{dropTarget:b(m.targetElement)}))}c._trigger("dragenter",
t(a,{dropTarget:b(f)}));m=t(c,{targetElement:f})}else m&&(m._trigger("dragleave",t(a,{dropTarget:b(m.targetElement)})),m=null)});this._trigger("drag",a);this.hint&&this._updateHint(a)},_end:function(a){this._withDropTarget(a,function(c,f){c&&(c._drop(t({},a,{dropTarget:b(f)})),m=null)});this._trigger("dragend",a);this._cancel(a.event)},_cancel:function(){var a=this;a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},
_trigger:function(a,c){return this.trigger(a,t({},c.event,{x:c.x,y:c.y,currentTarget:this.currentTarget,dropTarget:c.dropTarget}))},_withDropTarget:function(a,c){var f,g,d=this.options;g=D[d.group];d=q[d.group];if(g&&g.length||d&&d.length){f=u(a);var l;if(l=this.hint){var k=this.hint[0],j=f;try{l=b.contains(k,j)||k==j}catch(m){l=!1}}l&&(this.hint.hide(),(f=u(a))||(f=u(a)),this.hint.show());a:{var x;l=0;k=g&&g.length;for(j=d&&d.length;f&&f.parentNode;){for(l=0;l<k;l++)if(x=g[l],x.element[0]===f){g=
{target:x,targetElement:f};break a}for(l=0;l<j;l++)if(x=d[l],r.matchesSelector.call(f,x.options.filter)){g={target:x,targetElement:f};break a}f=f.parentNode}g=w}g?c(g.target,g.targetElement):c()}},destroy:function(){C.fn.destroy.call(this);this._afterEnd();this.userEvents.destroy()},_afterEnd:function(){this.hint&&this.hint.remove();delete v[this.options.group];this.trigger("destroy");b(z).off("keyup",this.captureEscape)}});n.ui.plugin(f);n.ui.plugin(g);n.ui.plugin(F);n.TapCapture=d;n.containerBoundaries=
y;t(n.ui,{Pane:E,PaneDimensions:x,Movable:B})})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.fx,y=w.mobile.ui,n=b.proxy,r=b.extend,z=y.Widget,E=w.Class,C=w.ui.Movable,s=w.ui.Pane,e=w.ui.PaneDimensions,h=u.Transition,t=u.Animation,p=Math.abs,v=t.extend({init:function(b){t.fn.init.call(this);r(this,b);this.userEvents.bind("gestureend",n(this.start,this));this.tapCapture.bind("press",n(this.cancel,this))},done:function(){return 0.01>this.dimensions.minScale-this.movable.scale},tick:function(){var b=this.movable;b.scaleWith(1.1);this.dimensions.rescale(b.scale)},
onEnd:function(){var b=this.movable;b.scaleTo(this.dimensions.minScale);this.dimensions.rescale(b.scale)}}),D=t.extend({init:function(b){var d=this;t.fn.init.call(d);r(d,b,{transition:new h({axis:b.axis,movable:b.movable,onEnd:function(){d._end()}})});d.tapCapture.bind("press",function(){d.cancel()});d.userEvents.bind("end",n(d.start,d));d.userEvents.bind("gestureend",n(d.start,d));d.userEvents.bind("tap",n(d.onEnd,d))},onCancel:function(){this.transition.cancel()},freeze:function(b){this.cancel();
this._moveTo(b)},onEnd:function(){this._outOfBounds()?this._snapBack():this._end()},done:function(){return 1>p(this.velocity)},start:function(b){if(this.dimension.enabled)if(this._outOfBounds())this._snapBack();else if(this.velocity=16*b.touch[this.axis].velocity)this.tapCapture.captureNext(),t.fn.start.call(this)},tick:function(){var b=this.dimension,d=this._outOfBounds()?0.5:0.93,d=this.velocity*=d,d=this.movable[this.axis]+d;!this.elastic&&b.outOfBounds(d)&&(d=Math.max(Math.min(d,b.max),b.min),
this.velocity=0);this.movable.moveAxis(this.axis,d)},_end:function(){this.tapCapture.cancelCapture();this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var b=this.dimension;this._moveTo(this.movable[this.axis]>b.max?b.max:b.min)},_moveTo:function(b){this.transition.moveTo({location:b,duration:500,ease:h.easeOutExpo})}}),q=E.extend({init:function(m){var d="x"===m.axis,j=b('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+
'-scrollbar" />');r(this,m,{element:j,elementSize:0,movable:new C(j),scrollMovable:m.movable,size:d?"width":"height"});this.scrollMovable.bind("change",n(this._move,this));this.container.append(j)},_move:function(){var b=this.axis,d=this.dimension,j=d.size,k=j/d.total,d=Math.round(-this.scrollMovable[b]*k),k=Math.round(j*k);d+k>j?k=j-d:0>d&&(k+=d,d=0);this.elementSize!=k&&(this.element.css(this.size,k+"px"),this.elementSize=k);this.movable.moveAxis(b,d)},show:function(){this.element.css({opacity:0.7,
visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),u=z.extend({init:function(m,d){var j=this;z.fn.init.call(j,m,d);m=j.element;if(j.options.useNative&&w.support.hasNativeScrolling)m.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),r(j,{scrollElement:m,fixedContainer:m.children().first()});else{m.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var k=m.children().eq(1),
x=new w.TapCapture(m),A=new C(k),a=new e({element:k,container:m,forcedEnabled:j.options.zoom,change:function(){j.trigger("resize")}}),c=new w.UserEvents(m,{allowSelection:!0,preventDragEvent:!0,multiTouch:j.options.zoom,start:function(f){a.refresh();var g=p(f.x.velocity);f=p(f.y.velocity);a.x.enabled&&2*g>=f||a.y.enabled&&2*f>=g?c.capture():c.cancel()}}),l=new s({movable:A,dimensions:a,userEvents:c,elastic:j.options.elastic}),B=new v({movable:A,dimensions:a,userEvents:c,tapCapture:x});A.bind("change",
function(){j.scrollTop=-A.y;j.scrollLeft=-A.x;j.trigger("scroll",{scrollTop:j.scrollTop,scrollLeft:j.scrollLeft})});r(j,{movable:A,dimensions:a,zoomSnapBack:B,userEvents:c,pane:l,tapCapture:x,pulled:!1,scrollElement:k,fixedContainer:m.children().first()});j._initAxis("x");j._initAxis("y");a.refresh();j.options.pullToRefresh&&j._initPullToRefresh();w.onResize(b.proxy(j.reset,j))}},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},
options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:["pull","scroll","resize"],setOptions:function(b){z.fn.setOptions.call(this,b);b.pullToRefresh&&this._initPullToRefresh()},reset:function(){this.movable.moveTo({x:0,y:0})},scrollTo:function(b,d){this.movable.moveTo({x:b,y:d})},pullHandled:function(){this.refreshHint.removeClass("km-scroller-refresh");this.hintContainer.html(this.pullTemplate({}));
this.yinertia.onEnd();this.xinertia.onEnd()},destroy:function(){z.fn.destroy.call(this);this.userEvents.destroy()},_initPullToRefresh:function(){this.dimensions.y.forceEnabled();this.pullTemplate=w.template(this.options.pullTemplate);this.releaseTemplate=w.template(this.options.releaseTemplate);this.refreshTemplate=w.template(this.options.refreshTemplate);this.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-template">'+this.pullTemplate({})+"</span></span>");
this.refreshHint=this.scrollElement.children().first();this.hintContainer=this.refreshHint.children(".km-template");this.pane.y.bind("change",n(this._paneChange,this));this.userEvents.bind("end",n(this._dragEnd,this))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release").addClass("km-scroller-refresh"),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){this.movable.y/
0.5>this.options.pullOffset?this.pulled||(this.pulled=!0,this.refreshHint.removeClass("km-scroller-refresh").addClass("km-scroller-release"),this.hintContainer.html(this.releaseTemplate({}))):this.pulled&&(this.pulled=!1,this.refreshHint.removeClass("km-scroller-release"),this.hintContainer.html(this.pullTemplate({})))},_initAxis:function(b){var d=this.movable,j=this.dimensions[b],k=this.tapCapture,x=new q({axis:b,movable:d,dimension:j,container:this.element}),d=new D({axis:b,movable:d,tapCapture:k,
userEvents:this.userEvents,dimension:j,elastic:this.options.elastic,end:function(){x.hide()}});this[b+"inertia"]=d;this.pane[b].bind("change",function(){x.show()})}});y.plugin(u)})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.ui.Widget,y=b.proxy,n=w.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),
r=function(s){return b('<div class="k-header k-drag-clue" />').css({width:s.width(),paddingLeft:s.css("paddingLeft"),paddingRight:s.css("paddingRight"),lineHeight:s.height()+"px",paddingTop:s.css("paddingTop"),paddingBottom:s.css("paddingBottom")}).html(s.attr(w.attr("title"))||s.attr(w.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},z=b('<div class="k-grouping-dropclue"/>'),E=/("|'|\[|\]|\$|\.|\:|\+)/g,C=u.extend({init:function(s,e){var h=this,t,p=w.guid(),v=y(h._intializePositions,
h),D=h._dropCuePositions=[];u.fn.init.call(h,s,e);h.draggable=p=h.options.draggable||new w.ui.Draggable(h.element,{filter:h.options.draggableElements,hint:r,group:p});t=h.groupContainer=b(h.options.groupContainer,h.element).kendoDropTarget({group:p.options.group,dragenter:function(b){h._canDrag(b.draggable.currentTarget)&&(b.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),z.css({top:t.position().top+3,left:0}).appendTo(t))},dragleave:function(b){b.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");
z.remove()},drop:function(q){var m=q.draggable.currentTarget;q=m.attr(w.attr("field"));var d=m.attr(w.attr("title")),j=h.indicator(q),k=h._dropCuePositions,k=k[k.length-1];if(m.hasClass("k-group-indicator")||h._canDrag(m))if(k){if((m=h._dropCuePosition(w.getOffset(z).left+parseInt(k.element.css("marginLeft"),10)+parseInt(k.element.css("marginRight"),10)))&&h._canDrop(b(j),m.element,m.left))m.before?m.element.before(j||h.buildIndicator(q,d)):m.element.after(j||h.buildIndicator(q,d)),h._change()}else h.groupContainer.append(h.buildIndicator(q,
d)),h._change()}}).kendoDraggable({filter:"div.k-group-indicator",hint:r,group:p.options.group,dragcancel:y(h._dragCancel,h),dragstart:function(b){b=b.currentTarget;var m=parseInt(b.css("marginLeft"),10);b=b.position().left-m;v();z.css({top:t.position().top+3,left:b}).appendTo(t);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){h._dragEnd(this)},drag:y(h._drag,h)}).on("click.kendoGroupable",".k-button",function(q){q.preventDefault();h._removeIndicator(b(this).parent())}).on("click.kendoGroupable",
".k-link",function(q){var m=b(this).parent(),d=h.buildIndicator(m.attr(w.attr("field")),m.attr(w.attr("title")),"asc"==m.attr(w.attr("dir"))?"desc":"asc");m.before(d).remove();h._change();q.preventDefault()});p.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){h._dragEnd(this)},dragcancel:y(h._dragCancel,h),dragstart:function(b){!h.options.allowDrag&&!h._canDrag(b.currentTarget)?b.preventDefault():(v(),D.length&&(b=D[D.length-1].element,parseInt(b.css("marginRight"),10),b.position(),
b.outerWidth()))},drag:y(h._drag,h)});h.dataSource=h.options.dataSource;h.dataSource&&(h._refreshHandler=y(h.refresh,h),h.dataSource.bind("change",h._refreshHandler))},refresh:function(){var s=this,e=s.dataSource;s.groupContainer.empty().append(b.map(e.group()||[],function(b){var e=b.field.replace(E,"\\$1"),e=s.element.find(s.options.filter).filter("["+w.attr("field")+"="+e+"]");return s.buildIndicator(b.field,e.attr(w.attr("title")),b.dir)}).join(""));s._invalidateGroupContainer()},destroy:function(){u.fn.destroy.call(this);
this.groupContainer.off(".kendoGroupable").kendoDropTarget("destroy").kendoDraggable("destroy");this.options.draggable||this.draggable.destroy();this.dataSource&&this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(s){var e=b(".k-group-indicator",this.groupContainer);return b.grep(e,function(h){return b(h).attr(w.attr("field"))===
s})[0]},buildIndicator:function(b,e,h){return n({field:b.replace(/"/g,"'"),dir:h,title:e,ns:w.ns})},descriptors:function(){var s=b(".k-group-indicator",this.groupContainer),e,h,t,p,v;e=this.element.find(this.options.filter).map(function(){var e=b(this),q=e.attr(w.attr("aggregates")),e=e.attr(w.attr("field"));if(q&&""!==q){h=q.split(",");q=[];p=0;for(v=h.length;p<v;p++)q.push({field:e,aggregate:h[p]})}return q}).toArray();return b.map(s,function(h){h=b(h);t=h.attr(w.attr("field"));return{field:t,dir:h.attr(w.attr("dir")),
aggregates:e||[]}})},_removeIndicator:function(b){b.remove();this._invalidateGroupContainer();this._change()},_change:function(){this.dataSource&&this.dataSource.group(this.descriptors())},_dropCuePosition:function(s){var e=this._dropCuePositions;if(z.is(":visible")&&0!==e.length){s=Math.ceil(s);var h=e[e.length-1],t=h.right,p=parseInt(h.element.css("marginLeft"),10),v=parseInt(h.element.css("marginRight"),10);s>=t?s={left:h.element.position().left+h.element.outerWidth()+v,element:h.element,before:!1}:
(s=b.grep(e,function(b){return b.left<=s&&s<=b.right})[0])&&(s={left:s.element.position().left-p,element:s.element,before:!0});return s}},_drag:function(b){(b=this._dropCuePosition(b.x.location))&&z.css({left:b.left})},_canDrag:function(b){var e=b.attr(w.attr("field"));return"false"!=b.attr(w.attr("groupable"))&&e&&(b.hasClass("k-group-indicator")||!this.indicator(e))},_canDrop:function(b,e,h){var t=b.next();return b[0]!==e[0]&&(!t[0]||e[0]!==t[0]||h>t.position().left)},_dragEnd:function(s){var e=
s.currentTarget.attr(w.attr("field")),e=this.indicator(e);s!==this.options.draggable&&(!s.dropped&&e)&&this._removeIndicator(b(e));this._dragCancel()},_dragCancel:function(){z.remove();this._dropCuePositions=[]},_intializePositions:function(){var s=b(".k-group-indicator",this.groupContainer),e;this._dropCuePositions=b.map(s,function(h){h=b(h);e=w.getOffset(h).left;return{left:parseInt(e,10),right:parseInt(e+h.outerWidth(),10),element:h}})},_invalidateGroupContainer:function(){var b=this.groupContainer;
b.is(":empty")&&b.html(this.options.messages.empty)}});w.ui.plugin(C)})(window.kendo.jQuery);
(function(b){function w(n,u){n=b(n);u?n.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):n.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var u=window.kendo,y=u.ui.Widget,n=y.extend({init:function(n,z){var E=this,C,s=u.guid()+"-reorderable";y.fn.init.call(E,n,z);n=E.element.addClass("k-reorderable");z=E.options;E.draggable=C=z.draggable||new u.ui.Draggable(n,{group:s,filter:z.filter,hint:z.hint});E.reorderDropCue=b('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');
n.find(C.options.filter).kendoDropTarget({group:C.options.group,dragenter:function(b){if(E._draggable){var h=this.element,t=h[0]===E._draggable[0];w(b.draggable.hint,t);t||(b=u.getOffset(h),E.reorderDropCue.css({height:h.outerHeight(),top:b.top,left:b.left+(h.index()>E._draggable.index()?h.outerWidth():0)}).appendTo(document.body))}},dragleave:function(b){w(b.draggable.hint,!0);E.reorderDropCue.remove()},drop:function(){if(E._draggable){var b=E._draggable[0],h=this.element[0],t;b!==h&&(t=n.find(C.options.filter),
E.trigger("change",{element:E._draggable,oldIndex:t.index(b),newIndex:t.index(h)}))}}});C.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){E.reorderDropCue.remove();E._draggable=null},dragend:function(){E.reorderDropCue.remove();E._draggable=null},dragstart:function(b){E._draggable=b.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:["change"],destroy:function(){y.fn.destroy.call(this);this.draggable&&this.draggable.destroy();u.destroy(this.element)}});u.ui.plugin(n)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.ui,n=y.Widget,r=b.proxy,z=b.isFunction,E=b.extend,C=n.extend({init:function(b,e){n.fn.init.call(this,b,e);this.orientation="vertical"!=this.options.orientation.toLowerCase()?"horizontal":"vertical";this._positionMouse="horizontal"==this.orientation?"x":"y";this._position="horizontal"==this.orientation?"left":"top";this._sizingDom="horizontal"==this.orientation?"outerWidth":"outerHeight";this.draggable=new y.Draggable(b,{distance:0,filter:e.handle,drag:r(this._resize,
this),dragcancel:r(this._cancel,this),dragstart:r(this._start,this),dragend:r(this._stop,this)});this.userEvents=this.draggable.userEvents},events:["resize","resizeend","start"],options:{name:"Resizable",orientation:"horizontal"},_max:function(b){var e=this.hint?this.hint[this._sizingDom]():0,h=this.options.max;return z(h)?h(b):h!==w?this._initialElementPosition+h-e:h},_min:function(b){var e=this.options.min;return z(e)?e(b):e!==w?this._initialElementPosition+e:e},_start:function(s){var e=this.options.hint,
h=b(s.currentTarget);this._initialElementPosition=h.position()[this._position];this._initialMousePosition=s[this._positionMouse].startLocation;e&&(this.hint=z(e)?b(e(h)):e,this.hint.css({position:"absolute"}).css(this._position,this._initialElementPosition).appendTo(this.element));this.trigger("start",s);this._maxPosition=this._max(s);this._minPosition=this._min(s);b(document.body).css("cursor",h.css("cursor"))},_resize:function(s){b(s.currentTarget);var e=this._maxPosition,h=this._minPosition,t=
this._initialElementPosition+(s[this._positionMouse].location-this._initialMousePosition),t=h!==w?Math.max(h,t):t;this.position=t=e!==w?Math.min(e,t):t;this.hint&&this.hint.toggleClass(this.options.invalidClass||"",t==e||t==h).css(this._position,t);this.resizing=!0;this.trigger("resize",E(s,{position:t}))},_stop:function(s){this.hint&&this.hint.remove();this.resizing=!1;this.trigger("resizeend",E(s,{position:this.position}));b(document.body).css("cursor","")},_cancel:function(b){this.hint&&(this.position=
w,this.hint.css(this._position,this._initialElementPosition),this._stop(b))},destroy:function(){n.fn.destroy.call(this);this.draggable&&this.draggable.destroy()},press:function(b){if(b){var e=b.position();this.userEvents.press(e.left,e.top,b[0]);this.targetPosition=e;this.target=b}},move:function(b){var e=this._position,h=this.targetPosition,t=this.position;t===w&&(t=h[e]);h[e]=t+b;this.userEvents.move(h.left,h.top)},end:function(){this.userEvents.end();this.target=this.position=w}});u.ui.plugin(C)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=b.proxy,n=u.ui.Widget,r=n.extend({init:function(b,r){var u;n.fn.init.call(this,b,r);this._refreshHandler=y(this.refresh,this);this.dataSource=this.options.dataSource.bind("change",this._refreshHandler);u=this.element.find(".k-link");u[0]||(u=this.element.wrapInner('<a class="k-link" href="#"/>').find(".k-link"));this.link=u;this.element.on("click.kendoSortable",y(this._click,this))},options:{name:"Sortable",mode:"single",allowUnsort:!0},destroy:function(){n.fn.destroy.call(this);
this.element.off(".kendoSortable");this.dataSource.unbind("change",this._refreshHandler)},refresh:function(){var n=this.dataSource.sort()||[],r,w,s,e=this.element,h=e.attr(u.attr("field"));e.removeAttr(u.attr("dir"));e.removeAttr("aria-sort");r=0;for(w=n.length;r<w;r++)s=n[r],h==s.field&&e.attr(u.attr("dir"),s.dir);n=e.attr(u.attr("dir"));e.find(".k-i-arrow-n,.k-i-arrow-s").remove();"asc"===n?(b('<span class="k-icon k-i-arrow-n" />').appendTo(this.link),e.attr("aria-sort","ascending")):"desc"===n&&
(b('<span class="k-icon k-i-arrow-s" />').appendTo(this.link),e.attr("aria-sort","descending"))},_click:function(b){var n=this.element,r=n.attr(u.attr("field")),n=n.attr(u.attr("dir")),s=this.options,e=this.dataSource.sort()||[],h,n="asc"===n?"desc":"desc"===n&&s.allowUnsort?w:"asc";if("single"===s.mode)e=[{field:r,dir:n}];else if("multiple"===s.mode){s=0;for(h=e.length;s<h;s++)if(e[s].field===r){e.splice(s,1);break}e.push({field:r,dir:n})}b.preventDefault();this.dataSource.sort(e)}});u.ui.plugin(r)})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.ui.Widget,y=b.proxy,n=Math.abs,r=!1;b('<div class="parent"><span /></div>').on("click",">*",function(){r=!0}).find("span").click().end().off();var z=u.extend({init:function(n,z){var s;u.fn.init.call(this,n,z);this._marquee=b("<div class='k-marquee'></div>");this._lastActive=null;this.element.addClass("k-selectable");s=this.options.multiple;this.userEvents=new w.UserEvents(this.element,{global:!0,allowSelection:!0,filter:(!r?".k-selectable ":"")+this.options.filter,
tap:y(this._tap,this)});s&&this.userEvents.bind("start",y(this._start,this)).bind("move",y(this._move,this)).bind("end",y(this._end,this)).bind("select",y(this._select,this))},events:["change"],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(n){var r=b(n.target),s=n.event.ctrlKey,e=this.options.multiple,h=e&&n.event.shiftKey,t;t=n.event.which;n=n.event.button;r.closest(".k-selectable")[0]!==this.element[0]||(t&&3==t||n&&2==n)||(t=r.hasClass("k-state-selected"),(!e||!s)&&this.clear(),
h?this.selectRange(this._firstSelectee(),r):(t&&s?(this._unselect(r),this._notify("change")):this.value(r),this._lastActive=this._downTarget=r))},_start:function(n){var r=b(n.target),s=r.hasClass("k-state-selected"),e=n.event.ctrlKey;this._downTarget=r;r.closest(".k-selectable")[0]!==this.element[0]?(this.userEvents.cancel(),this._downTarget=null):(this._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),e||this.clear(),s&&(this._selectElement(r,!0),e&&r.addClass("k-state-unselecting")))},
_move:function(b){var r={left:b.x.startLocation>b.x.location?b.x.location:b.x.startLocation,top:b.y.startLocation>b.y.location?b.y.location:b.y.startLocation,width:n(b.x.initialDelta),height:n(b.y.initialDelta)},s=this.element.find(this.options.filter);this._marquee.css(r);var e=this._downTarget[0],h=b.event.ctrlKey,t,p,v;t=0;for(p=s.length;t<p;t++){var D=v=s.eq(t),q=r,m=w.getOffset(D),d=q.left+q.width,j=q.top+q.height;m.right=m.left+D.outerWidth();m.bottom=m.top+D.outerHeight();!(m.left>d||m.right<
q.left||m.top>j||m.bottom<q.top)?v.hasClass("k-state-selected")?h&&e!==v[0]&&v.removeClass("k-state-selected").addClass("k-state-unselecting"):!v.hasClass("k-state-selecting")&&!v.hasClass("k-state-unselecting")&&v.addClass("k-state-selecting"):v.hasClass("k-state-selecting")?v.removeClass("k-state-selecting"):h&&v.hasClass("k-state-unselecting")&&v.removeClass("k-state-unselecting").addClass("k-state-selected")}b.preventDefault()},_end:function(){this._marquee.remove();this._unselect(this.element.find(this.options.filter+
".k-state-unselecting")).removeClass("k-state-unselecting");this.value(this.element.find(this.options.filter+".k-state-selecting"));this._lastActive=this._downTarget},value:function(b){var n=y(this._selectElement,this);if(b)b.each(function(){n(this)}),this._notify("change");else return this.element.find(this.options.filter+".k-state-selected")},_firstSelectee:function(){var b;if(null!==this._lastActive)return this._lastActive;b=this.value();return 0<b.length?b[0]:this.element.find(this.options.filter)},
_selectElement:function(n,r){var s=b(n),e=!r&&this._notify("select",{element:n});s.removeClass("k-state-selecting");e||(s.addClass("k-state-selected"),this.options.aria&&s.attr("aria-selected",!0))},_notify:function(b,n){n=n||{};return this.trigger(b,n)},_unselect:function(b){b.removeClass("k-state-selected");this.options.aria&&b.attr("aria-selected",!1);return b},_select:function(n){b(n.event.target).is("input,a,textarea")?(this.userEvents.cancel(),this._downTarget=null):n.preventDefault()},clear:function(){var b=
this.element.find(this.options.filter+".k-state-selected");this._unselect(b)},selectRange:function(n,r){var s=!1,e,h,t,p=this.element.find(this.options.filter),v=y(this._selectElement,this);n=b(n)[0];r=b(r)[0];e=0;for(h=p.length;e<h;e++)t=p[e],s?(v(t),s=t!==r):t===n?(s=n!==r,v(t)):t===r?(s=n,n=r,r=s,s=!0,v(t)):b(t).removeClass("k-state-selected");this._notify("change")},destroy:function(){u.fn.destroy.call(this);this.element.off(".kendoSelectable");this.userEvents.destroy()}});w.ui.plugin(z)})(window.kendo.jQuery);
(function(b,w){function u(b,e,p,v){return b({idx:e,text:p,ns:r.ns,numeric:v})}function y(b,e){return s({className:b.substring(1),text:e})}function n(b,e,p,v){b.find(e).parent().attr(r.attr("page"),p).attr("tabindex",-1).toggleClass("k-state-disabled",v)}var r=window.kendo,z=r.ui,E=z.Widget,C=b.proxy,s=r.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),e=E.extend({init:function(h,e){var p,v;E.fn.init.call(this,h,e);e=this.options;this.dataSource=
r.data.DataSource.create(e.dataSource);this.linkTemplate=r.template(this.options.linkTemplate);this.selectTemplate=r.template(this.options.selectTemplate);p=this.page();v=this.totalPages();this._refreshHandler=C(this.refresh,this);this.dataSource.bind("change",this._refreshHandler);e.previousNext&&(this.element.find(".k-i-seek-w").length||(this.element.append(y(".k-i-seek-w",e.messages.first)),n(this.element,".k-i-seek-w",1,1>=p)),this.element.find(".k-i-arrow-w").length||(this.element.append(y(".k-i-arrow-w",
e.messages.previous)),n(this.element,".k-i-arrow-w",Math.max(1,p-1),1>=p)));e.numeric&&(this.list=this.element.find(".k-pager-numbers"),this.list.length||(this.list=b('<ul class="k-pager-numbers k-reset" />').appendTo(this.element)));e.input&&(this.element.find(".k-pager-input").length||this.element.append('<span class="k-pager-input k-label">'+e.messages.page+'<input class="k-textbox">'+r.format(e.messages.of,v)+"</span>"),this.element.on("keydown.kendoPager",".k-pager-input input",C(this._keydown,
this)));e.previousNext&&(this.element.find(".k-i-arrow-e").length||(this.element.append(y(".k-i-arrow-e",e.messages.next)),n(this.element,".k-i-arrow-e",Math.min(v,p+1),p>=v)),this.element.find(".k-i-seek-e").length||(this.element.append(y(".k-i-seek-e",e.messages.last)),n(this.element,".k-i-seek-e",v,p>=v)));e.pageSizes&&(this.element.find(".k-pager-sizes").length||b('<span class="k-pager-sizes k-label"><select/>'+e.messages.itemsPerPage+"</span>").appendTo(this.element).find("select").html(b.map(b.isArray(e.pageSizes)?
e.pageSizes:[5,10,20],function(b){return"<option>"+b+"</option>"}).join("")).end().appendTo(this.element),this.element.find(".k-pager-sizes select").val(this.pageSize()),r.ui.DropDownList&&this.element.find(".k-pager-sizes select").show().kendoDropDownList(),this.element.on("change.kendoPager",".k-pager-sizes select",C(this._change,this)));e.refresh&&(this.element.find(".k-pager-refresh").length||this.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+e.messages.refresh+'"><span class="k-icon k-i-refresh">'+
e.messages.refresh+"</span></a>"),this.element.on("click.kendoPager",".k-pager-refresh",C(this._refreshClick,this)));e.info&&(this.element.find(".k-pager-info").length||this.element.append('<span class="k-pager-info k-label" />'));this.element.on("click.kendoPager","a",C(this._click,this)).addClass("k-pager-wrap k-widget");e.autoBind&&this.refresh();r.notify(this)},destroy:function(){E.fn.destroy.call(this);this.element.off(".kendoPager");this.dataSource.unbind("change",this._refreshHandler)},events:["change"],
options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",
last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(b){this.dataSource.unbind("change",this._refreshHandler);this.dataSource=this.options.dataSource=b;b.bind("change",this._refreshHandler);this.options.autoBind&&b.fetch()},refresh:function(){var b,e;b=1;var p="",v=this.page(),D=this.options,q=this.pageSize(),m=this.dataSource.total(),d=this.totalPages(),j=this.linkTemplate;e=D.buttonCount;if(D.numeric){v>e&&(b=v%e,b=0===b?v-e+1:v-b+1);e=Math.min(b+e-1,d);for(1<b&&(p+=u(j,b-1,"...",
!1));b<=e;b++)p+=u(b==v?this.selectTemplate:j,b,b,!0);e<d&&(p+=u(j,b,"...",!1));""===p&&(p=this.selectTemplate({text:0}));this.list.html(p)}D.info&&(p=0<m?r.format(D.messages.display,(v-1)*q+1,Math.min(v*q,m),m):D.messages.empty,this.element.find(".k-pager-info").html(p));D.input&&this.element.find(".k-pager-input").html(this.options.messages.page+'<input class="k-textbox">'+r.format(D.messages.of,d)).find("input").val(v).attr("disabled",1>m).toggleClass("k-state-disabled",1>m);D.previousNext&&(n(this.element,
".k-i-seek-w",1,1>=v),n(this.element,".k-i-arrow-w",Math.max(1,v-1),1>=v),n(this.element,".k-i-arrow-e",Math.min(d,v+1),v>=d),n(this.element,".k-i-seek-e",d,v>=d));D.pageSizes&&this.element.find(".k-pager-sizes select").val(q).filter("["+r.attr("role")+"=dropdownlist]").kendoDropDownList("value",q).kendoDropDownList("text",q)},_keydown:function(b){if(b.keyCode===r.keys.ENTER){b=this.element.find(".k-pager-input").find("input");var e=parseInt(b.val(),10);if(isNaN(e)||1>e||e>this.totalPages())e=this.page();
b.val(e);this.page(e)}},_refreshClick:function(b){b.preventDefault();this.dataSource.read()},_change:function(b){b=parseInt(b.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(h){var e=b(h.currentTarget);h.preventDefault();e.is(".k-state-disabled")||this.page(e.attr(r.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(b){if(b!==
w)this.dataSource.page(b),this.trigger("change",{index:b});else return 0<this.dataSource.total()?this.dataSource.page():0}});z.plugin(e)})(window.kendo.jQuery);
(function(b){function w(h,e){return h===e||b.contains(h,e)}var u=window.kendo,y=u.ui,n=y.Widget,r=u.support,z=u.getOffset,E=u._activeElement,C=b(window),s=b(document.documentElement),e=r.transitions.css+"transform",h=b.extend,t="font-family font-size font-stretch font-style font-weight line-height".split(" "),p=n.extend({init:function(e,p){var q=this,m;p=p||{};p.isRtl&&(p.origin=p.origin||"bottom right",p.position=p.position||"top right");n.fn.init.call(q,e,p);e=q.element;p=q.options;q.collisions=
p.collision?p.collision.split(" "):[];1===q.collisions.length&&q.collisions.push(q.collisions[0]);m=b(q.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");p.appendTo=b(b(p.appendTo)[0]||m[0]||"body");q.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!p.isRtl).css({position:"absolute"}).appendTo(p.appendTo).on("mouseenter.kendoPopup",function(){q._hovered=!0}).on("mouseleave.kendoPopup",function(){q._hovered=!1});q.wrapper=b();!1===p.animation&&(p.animation=
{open:{effects:{}},close:{hide:!0,effects:{}}});h(p.animation.open,{complete:function(){q.wrapper.css({overflow:"visible"});q.trigger("activate")}});h(p.animation.close,{complete:function(){q.wrapper.hide();var d=q.wrapper.data("location"),j=b(p.anchor),k;d&&q.wrapper.css(d);"body"!=p.anchor&&(d=j.hasClass("k-state-border-down")?"down":"up",k="k-state-border-"+d,j.removeClass(k).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").removeClass("k-state-active").removeClass(k),e.removeClass("k-state-border-"+
u.directions[d].reverse));q._closing=!1;q.trigger("deactivate")}});q._mousedownProxy=function(d){q._mousedown(d)};q._resizeProxy=function(d){q._resize(d)};if(p.toggleTarget)b(p.toggleTarget).on(p.toggleEvent+".kendoPopup",b.proxy(q.toggle,q))},events:["open","activate","close","deactivate"],options:{name:"Popup",toggleEvent:"click",origin:"bottom left",position:"top left",anchor:"body",collision:"flip fit",viewport:window,copyAnchorStyles:!0,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},
close:{duration:100,hide:!0}}},destroy:function(){var h=this.options,e=this.element.off(".kendoPopup");n.fn.destroy.call(this);h.toggleTarget&&b(h.toggleTarget).off(".kendoPopup");s.unbind("down",this._mousedownProxy);C.unbind("resize scroll",this._resizeProxy);h.appendTo[0]===document.body&&(h=e.parent(".k-animation-container"),h[0]?h.remove():e.remove());u.destroy(this.element.children())},open:function(p,D){var q={isFixed:!isNaN(parseInt(D,10)),x:p,y:D},m=this.element,d=this.options,j="down",k,
x=b(d.anchor);this.visible()||(d.copyAnchorStyles&&m.css(u.getComputedStyles(x[0],t)),!m.data("animating")&&!this.trigger("open")&&(s.unbind("down",this._mousedownProxy).bind("down",this._mousedownProxy),!r.mobileOS.ios&&!r.mobileOS.android&&C.unbind("resize scroll",this._resizeProxy).bind("resize scroll",this._resizeProxy),this.wrapper=k=u.wrap(m).css({overflow:"hidden",display:"block",position:"absolute"}),r.mobileOS.android&&k.add(x).css(e,"translatez(0)"),k.css("position"),b(d.appendTo)[0]==document.body&&
k.css("top","-10000px"),k=h(!0,{},d.animation.open),this.flipped=this._position(q),k.effects=u.parseEffects(k.effects,this.flipped),j=k.effects.slideIn?k.effects.slideIn.direction:j,"body"!=d.anchor&&(q="k-state-border-"+j,m.addClass("k-state-border-"+u.directions[j].reverse),x.addClass(q).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").addClass("k-state-active").addClass(q)),m.data("effects",k.effects).kendoStop(!0).kendoAnimate(k)))},toggle:function(){this[this.visible()?"close":"open"]()},
visible:function(){return this.element.is(":visible")},close:function(){var e=this.options,p,q,m;this.visible()&&(p=this.wrapper[0]?this.wrapper:u.wrap(this.element).hide(),!this._closing&&!this.trigger("close")&&(this.element.find(".k-popup").each(function(){var d=b(this).data("kendoPopup");d&&d.close()}),s.unbind("down",this._mousedownProxy),C.unbind("resize scroll",this._resizeProxy),e=h(!0,{},e.animation.close),q=this.element.data("effects"),m=e.effects,!m&&(!u.size(m)&&q&&u.size(q))&&(e.effects=
q,e.reverse=!0),this._closing=!0,this.element.kendoStop(!0),p.css({overflow:"hidden"}),this.element.kendoAnimate(e)))},_resize:function(b){var h=this;"resize"===b.type?(clearTimeout(h._resizeTimeout),h._resizeTimeout=setTimeout(function(){h._position();h._resizeTimeout=null},50)):!h._hovered&&!w(h.element[0],E())&&h.close()},_mousedown:function(h){var e=this.element[0],q=this.options,m=b(q.anchor)[0],q=q.toggleTarget;h=u.eventTarget(h);var d=b(h).closest(".k-popup")[0];d&&d!==this.element[0]||!w(e,
h)&&(!w(m,h)&&(!q||!w(b(q)[0],h)))&&this.close()},_fit:function(b,h,q){var m=0;b+h>q&&(m=q-(b+h));0>b&&(m=-b);return m},_flip:function(b,h,q,m,d,j,k){var x=0;j!==d&&("center"!==j&&"center"!==d)&&(b+(k||h)>m&&(x+=-(q+h)),0>b+x&&(x+=q+h));return x},_position:function(e){var p=this.element.css("position",""),q=this.wrapper,m=this.options,d=b(m.viewport),j=b(d).offset(),k=b(m.anchor),x=m.origin.toLowerCase().split(" "),m=m.position.toLowerCase().split(" "),A=this.collisions,a=r.zoomLevel(),c,l,B=10002,
f=0,g;c=k.parents().filter(q.siblings());if(c[0])if(l=Number(b(c).css("zIndex")))B=l+1;else{c=k.parentsUntil(c);for(g=c.length;f<g;f++)(l=Number(b(c[f]).css("zIndex")))&&B<l&&(B=l+1)}q.css("zIndex",B);e&&e.isFixed?q.css({left:e.x,top:e.y}):q.css(this._align(x,m));e=z(q,"position",k[0]===q.offsetParent()[0]);l=z(q);k.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(e=z(q,"position",!0),l=z(q));d[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,
l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=j.top,l.left-=j.left);this.wrapper.data("location")||q.data("location",h({},e));j=h({},l);e=h({},e);"fit"===A[0]&&(e.top+=this._fit(j.top,q.outerHeight(),d.height()/a));"fit"===A[1]&&(e.left+=this._fit(j.left,q.outerWidth(),d.width()/a));l=h({},e);"flip"===A[0]&&(e.top+=this._flip(j.top,p.outerHeight(),k.outerHeight(),d.height()/a,x[0],m[0],q.outerHeight()));"flip"===A[1]&&(e.left+=this._flip(j.left,p.outerWidth(),k.outerWidth(),
d.width()/a,x[1],m[1],q.outerWidth()));p.css("position","absolute");q.css(e);return e.left!=l.left||e.top!=l.top},_align:function(h,e){var q=this.wrapper,m=b(this.options.anchor),d=h[0],j=h[1],k=e[0],x=e[1],A=z(m),a=b(this.options.appendTo),c=q.outerWidth(),q=q.outerHeight(),l=m.outerWidth(),m=m.outerHeight(),B=A.top,A=A.left,f=Math.round;a[0]!=document.body&&(a=z(a),B-=a.top,A-=a.left);"bottom"===d&&(B+=m);"center"===d&&(B+=f(m/2));"bottom"===k&&(B-=q);"center"===k&&(B-=f(q/2));"right"===j&&(A+=
l);"center"===j&&(A+=f(l/2));"right"===x&&(A-=c);"center"===x&&(A-=f(c/2));return{top:B,left:A}}});y.plugin(p)})(window.kendo.jQuery);
(function(b){function w(d){for(;d.length;){var b=d,k=b.data(y.ns+"title");k&&(b.attr("title",k),b.removeData(y.ns+"title"));d=d.parent()}}function u(d){for(;d.length;){var b=d,k=b.attr("title");k&&(b.data(y.ns+"title",k),b.attr("title",""));d=d.parent()}}var y=window.kendo,n=y.ui.Widget,r=y.ui.Popup,z=b.isFunction,E=b.isPlainObject,C=b.extend,s=b.proxy,e=b(document),h=y.isLocalUrl,t=y.template("<iframe frameborder='0' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),
p={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},v={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},D={bottom:"n",top:"s",left:"e",right:"w",center:"n"},q={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",
size:"width"}},m=n.extend({init:function(d,b){var k;n.fn.init.call(this,d,b);k=this.options.position.match(/left|right/)?"horizontal":"vertical";this.dimensions=q[k];this._documentKeyDownHandler=s(this._documentKeyDown,this);this.element.on(this.options.showOn+".kendoTooltip",this.options.filter,s(this._showOn,this)).on("mouseenter.kendoTooltip",this.options.filter,s(this._mouseenter,this));if(this.options.autoHide)this.element.on("mouseleave.kendoTooltip",this.options.filter,s(this._mouseleave,this))},
options:{name:"Tooltip",filter:"",content:function(d){return d.target.data(y.ns+"title")},showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:["show","hide","contentLoad","error","requestStart"],_mouseenter:function(d){u(b(d.currentTarget))},_showOn:function(d){var j=this;j.options.showOn&&j.options.showOn.match(/click|focus/)?j._show(b(d.currentTarget)):(clearTimeout(j.timeout),
j.timeout=setTimeout(function(){j._show(b(d.currentTarget))},j.options.showAfter))},_appendContent:function(d){var b=this,k=b.options.content,m=b.content,A=b.options.iframe;E(k)&&k.url?("iframe"in b.options||(A=!h(k.url)),b.trigger("requestStart",{options:k,target:d}),A?(m.hide(),(d=m.find(".k-content-frame")[0])?d.src=k.url||d.src:m.html(t({content:k})),m.find(".k-content-frame").off("load.kendoTooltip").on("load.kendoTooltip",function(){b.trigger("contentLoad");m.show()})):(m.empty(),y.ui.progress(m,
!0),b._ajaxRequest(k))):(k&&z(k)&&(k=k({target:d})),b.content.html(k))},_ajaxRequest:function(d){var b=this;jQuery.ajax(C({type:"GET",dataType:"html",cache:!1,error:function(d,m){y.ui.progress(b.content,!1);b.trigger("error",{status:m,xhr:d})},success:s(function(d){y.ui.progress(b.content,!1);b.content.html(d);b.trigger("contentLoad")},b)},d))},_documentKeyDown:function(d){d.keyCode===y.keys.ESC&&this.hide()},hide:function(){this.popup&&this.popup.close()},show:function(d){u(d);this._show(d)},_show:function(d){var b=
this,k=b.target();b.popup||b._initPopup();k&&k[0]!=d[0]&&(b.popup.close(),b.popup.element.kendoStop(!0,!0));if(!k||k[0]!=d[0])b._appendContent(d),b.popup.options.anchor=d;b.popup.one("deactivate",function(){w(d);d.removeAttr("aria-describedby");this.element.removeAttr("id").attr("aria-hidden",!0);e.off("keydown.kendoTooltip",b._documentKeyDownHandler)});b.popup.open()},_initPopup:function(){var d=this,j=d.options,k=b(y.template('<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>')({callout:j.callout&&
"center"!==j.position,dir:D[j.position],autoHide:j.autoHide}));d.popup=new r(k,C({activate:function(){var b=this.options.anchor,k=b[0].id||d.element[0].id;k&&(b.attr("aria-describedby",k+"_tt_active"),this.element.attr("id",k+"_tt_active"));j.callout&&d._positionCallout();this.element.removeAttr("aria-hidden");e.on("keydown.kendoTooltip",d._documentKeyDownHandler);d.trigger("show")},close:function(){d.trigger("hide")},copyAnchorStyles:!1,animation:j.animation},p[j.position]));k.css({width:j.width,
height:j.height});d.content=k.find(".k-tooltip-content");d.arrow=k.find(".k-callout");if(j.autoHide)k.on("mouseleave.kendoTooltip",s(d._mouseleave,d));else k.on("click.kendoTooltip",".k-tooltip-button",s(d._closeButtonClick,d))},_closeButtonClick:function(d){d.preventDefault();this.hide()},_mouseleave:function(d){if(this.popup){var j=b(d.currentTarget),k=j.offset(),m=d.pageX;d=d.pageY;k.right=k.left+j.outerWidth();k.bottom=k.top+j.outerHeight();if(m>k.left&&m<k.right&&d>k.top&&d<k.bottom)return;this.popup.close()}else w(b(d.currentTarget));
clearTimeout(this.timeout)},_positionCallout:function(){var d=this.options.position,j=this.dimensions,k=j.offset,m=this.popup,A=m.options.anchor,a=b(A).offset(),c=parseInt(this.arrow.css("borderWidth"),10),l=b(m.element).offset(),d=D[m.flipped?v[d]:d],j=a[k]-l[k]+b(A)[j.size]()/2-c;this.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+d).css(k,j)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var d=this.popup;d&&(d.element.off(".kendoTooltip"),
d.destroy());this.element.off(".kendoTooltip");e.off("keydown.kendoTooltip",this._documentKeyDownHandler);n.fn.destroy.call(this)}});y.ui.plugin(m)})(window.kendo.jQuery);
(function(b,w){function u(m,d){m.filters&&(m.filters=b.grep(m.filters,function(b){u(b,d);return b.filters?b.filters.length:b.field!=d}))}var y=window.kendo,n=y.ui,r=n.Widget,z=y.keys,E=y.support,C=y.htmlEncode,s=y._activeElement,e=b.extend,h=b.proxy,t=E.browser,p=t.msie&&9>t.version,v=/"/g,D={ComboBox:"DropDownList",DropDownList:"ComboBox"},q=r.extend({init:function(m,d){var j=this.ns;r.fn.init.call(this,m,d);m=this.element;this._isSelect=m.is("select");this._template();this.ul=b('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:E.kineticScrollNeeded?
"":"auto"}).on("mouseenter"+j,"li",function(){b(this).addClass("k-state-hover")}).on("mouseleave"+j,"li",function(){b(this).removeClass("k-state-hover")}).on("click"+j,"li",h(this._click,this)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0});this.list=b("<div class='k-list-container'/>").append(this.ul).on("mousedown"+j,function(d){d.preventDefault()});if(j=m.attr("id"))this.list.attr("id",j+"-list"),this.ul.attr("id",j+"_listbox"),this._optionID=j+"_option_selected";this._initValue()},setOptions:function(b){r.fn.setOptions.call(this,
b);b&&b.enable!==w&&(b.enabled=b.enable)},focus:function(){this._focused.focus()},readonly:function(b){this._editable({readonly:b===w?!0:b,disable:!1})},enable:function(b){this._editable({readonly:!1,disable:!(b===w||b)})},_filterSource:function(b){var d=this.options,j=this.dataSource,k=j.filter()||{};u(k,d.dataTextField);b&&(k=k.filters||[],k.push(b));j.filter(k)},_initValue:function(){var b=this.options.value;b?this.element.val(b):b=this.element.val();this._old=b},_ignoreCase:function(){var b=this.dataSource.reader.model;
if(b&&b.fields&&(b=b.fields[this.options.dataTextField])&&b.type&&"string"!==b.type)this.options.ignoreCase=!1},items:function(){return this.ul[0].children},current:function(b){var d=this._optionID;if(b!==w)this._current&&(this._current.removeClass("k-state-focused").removeAttr("aria-selected").removeAttr("id"),this._focused.removeAttr("aria-activedescendant")),b&&(b.addClass("k-state-focused"),this._scroll(b),d&&(b.attr("id",d),this._focused.attr("aria-activedescendant",d))),this._current=b;else return this._current},
destroy:function(){var b=this.ns;r.fn.destroy.call(this);this._unbindDataSource();this.ul.off(b);this.list.off(b);this.popup.destroy();this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(b){b===w&&(b=this.selectedIndex);return this._data()[b]},_accessors:function(){var b=this.element,d=this.options,j=y.getter,k=b.attr(y.attr("text-field")),b=b.attr(y.attr("value-field"));k&&(d.dataTextField=k);b&&(d.dataValueField=b);this._text=j(d.dataTextField);this._value=j(d.dataValueField)},
_aria:function(b){var d=this.options,j=this._focused;d.suggest!==w&&j.attr("aria-autocomplete",d.suggest?"both":"list");b=b?b+" "+this.ul[0].id:this.ul[0].id;j.attr("aria-owns",b);this.ul.attr("aria-live",!d.filter||"none"===d.filter?"off":"polite")},_blur:function(){this._change();this.close()},_change:function(){var b=this.selectedIndex,d=this.options.value,j=this.value(),k;this._isSelect&&(!this._bound&&d)&&(j=d);j!==this._old?k=!0:b!==w&&b!==this._oldIndex&&(k=!0);k&&(this._old=j,this._oldIndex=
b,this.trigger("change"),this.element.trigger("change"))},_click:function(m){m.isDefaultPrevented()||this._accept(b(m.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var b=this.options,d=this.element.is("[disabled]");b.enable!==w&&(b.enabled=b.enable);!b.enabled||d?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_focus:function(b){this.popup.visible()&&b&&this.trigger("select",{item:b})?this.close():(this._select(b),this._triggerCascade(),this._blur())},
_index:function(b){var d,j,k=this._data();d=0;for(j=k.length;d<j;d++)if(this._dataValue(k[d])==b)return d;return-1},_dataValue:function(b){var d=this._value(b);d===w&&(d=this._text(b));return d},_height:function(b){if(b){b=this.list;var d=this.popup.visible(),j=this.options.height;b=b.add(b.parent(".k-animation-container")).show().height(this.ul[0].scrollHeight>j?j:"auto");d||b.hide()}},_adjustListWidth:function(){var b=this.list,d=b[0].style.width,j=this.wrapper,k;if(b.data("width")||!d){k=(d=window.getComputedStyle?
window.getComputedStyle(j[0],null):0)?parseFloat(d.width):j.outerWidth();if(d&&(t.mozilla||t.msie))k+=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth);d=k-(b.outerWidth()-b.width());b.css({fontFamily:j.css("font-family"),width:d}).data("width",d);return!0}},_popup:function(){var b=this,d=b._focused,j=b.options,k=b.wrapper;b.popup=new n.Popup(b.list,e({},j.popup,{anchor:k,open:function(k){b._adjustListWidth();b.trigger("open")?k.preventDefault():
(d.attr("aria-expanded",!0),b.ul.attr("aria-hidden",!1))},close:function(k){b.trigger("close")?k.preventDefault():(d.attr("aria-expanded",!1),b.ul.attr("aria-hidden",!0))},animation:j.animation,isRtl:E.isRtl(k)}));b.popup.one("open",function(){b._height(b._data().length)});b._touchScroller=y.touchScroller(b.popup.element)},_makeUnselectable:function(){p&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(m){b(m.currentTarget).toggleClass("k-state-hover","mouseenter"===m.type)},_toggle:function(b){b=
b!==w?b:!this.popup.visible();!E.touch&&this._focused[0]!==s()&&this._focused.focus();this[b?"open":"close"]()},_scroll:function(b){if(b){b[0]&&(b=b[0]);var d=this.ul[0],j=b.offsetTop,k=d.scrollTop,x=d.clientHeight;b=j+b.offsetHeight;d.scrollTop=k>j?j:b>k+x?b-x:k}},_template:function(){var b=this.options,d=b.template,j=b.dataSource;this._isSelect&&this.element[0].length&&!j&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value");d?(d=y.template(d),this.template=function(b){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+
d(b)+"</li>"}):this.template=y.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+y.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var b=this.value();(!this._bound&&b||this._old!==b)&&this.trigger("cascade")},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("requestEnd",this._requestEndHandler)}});e(q,{caret:function(b){var d=b.ownerDocument.selection;
return d?Math.abs(d.createRange().moveStart("character",-b.value.length)):b.selectionStart},selectText:function(b,d,j){try{if(b.createTextRange){b.focus();var k=b.createTextRange();k.collapse(!0);k.moveStart("character",d);k.moveEnd("character",j-d);k.select()}else b.setSelectionRange(d,j)}catch(x){}},inArray:function(b,d){var j,k,x=d.children;if(!b||b.parentNode!==d)return-1;j=0;for(k=x.length;j<k;j++)if(b===x[j])return j;return-1}});y.ui.List=q;n.Select=q.extend({init:function(b,d){q.fn.init.call(this,
b,d);this._initial=this.element.val()},setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(b){if(b===w)return this.selectedIndex;this._select(b);this._triggerCascade();this._old=this._accessor();this._oldIndex=this.selectedIndex},_accessor:function(b,d){var j=this.element,k=this._isSelect,j=j[0];if(b===w){if(k){if(k=j.selectedIndex,-1<k&&(j=j.options[k]))b=j.value}else b=j.value;
return b}k?j.selectedIndex=d:j.value=b},_hideBusy:function(){clearTimeout(this._busy);this._arrow.removeClass("k-loading");this._focused.attr("aria-busy",!1);this._busy=null},_showBusy:function(){var b=this;b._request=!0;b._busy||(b._busy=setTimeout(function(){b._focused.attr("aria-busy",!0);b._arrow.addClass("k-loading")},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var m=this.element,d=this.options,j=d.dataSource||{},k,j=b.isArray(j)?{data:j}:j;this._isSelect&&(k=m[0].selectedIndex,
-1<k&&(d.index=k),j.select=m,j.fields=[{field:d.dataTextField},{field:d.dataValueField}]);this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=h(this.refresh,this),this._progressHandler=h(this._showBusy,this),this._requestEndHandler=h(this._requestEnd,this));this.dataSource=y.data.DataSource.create(j).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("requestEnd",this._requestEndHandler)},_get:function(m){var d=this._data(),j,k;if("function"===
typeof m){j=0;for(k=d.length;j<k;j++)if(m(d[j])){m=j;break}}if("number"===typeof m){if(0>m)return b();m=b(this.ul[0].children[m])}m&&m.nodeType&&(m=b(m));return m},_move:function(b){var d=b.keyCode,j=this.ul[0],k=this.popup.visible()?"_select":"_accept",x=this._current,A=d===z.DOWN,a;if(d===z.UP||A){if(b.altKey)this.toggle(A);else if(A)x=!x||-1===this.selectedIndex&&!this.value()&&x[0]===j.firstChild?j.firstChild:x[0].nextSibling,this[k](x);else this[k](x?x[0].previousSibling:j.lastChild);b.preventDefault();
a=!0}else d===z.ENTER||d===z.TAB?(this.popup.visible()&&b.preventDefault(),this._accept(x),a=!0):d===z.ESC&&(this.popup.visible()&&b.preventDefault(),this.close(),a=!0);return a},_selectItem:function(b){var d=this.options;(b=this._selectedValue||d.value||this._accessor())?this.value(b):this._bound||this.select(d.index)},_fetchItems:function(b){var d=this,j=d.ul[0].firstChild;if(d._request)return!0;if(!d._fetch&&!j){if(d.options.cascadeFrom)return!j;d.dataSource.one("change",function(){d.value(b);
d._fetch=!1});d._fetch=!0;d.dataSource.fetch();return!0}},_options:function(b,d){var j=this.element,k=j[0].selectedIndex,x=b.length,A="",a,c,l,B=0;d&&(A=d,k+=1,B=1);for(;B<x;B++)a="<option",c=b[B],l=this._text(c),c=this._value(c),c!==w&&(c+="",-1!==c.indexOf('"')&&(c=c.replace(v,"&quot;")),a+=' value="'+c+'"'),a+=">",l!==w&&(a+=C(l)),a+="</option>",A+=a;j.html(A);j[0].selectedIndex=k},_reset:function(){var b=this,d=b.element.closest("form");d[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})},
b._form=d.on("reset",b._resetHandler))},_cascade:function(){var h=this,d=h.options,j=d.cascadeFrom,k,x,A,a;j&&(h._selectedValue=d.value||h._accessor(),j=b("#"+j),(k=j.data("kendo"+d.name))||(k=j.data("kendo"+D[d.name])),k&&(A=k.options.dataValueField,a=function(){var a=h._selectedValue||h.value();a?(h.value(a),(!h.dataSource.view()[0]||-1===h.selectedIndex)&&h._clearSelection(k,!0)):h.select(d.index);h.enable()},x=function(){var c=k.dataItem(),c=c?k._value(c):null,b;c?(b=h.dataSource.filter()||{},
u(b,A),b=b.filters||[],b.push({field:A,operator:"eq",value:c}),h.dataSource.one("change",a).filter(b)):(h.enable(!1),h._clearSelection(k));h._triggerCascade()},k.bind("cascade",function(){x()}),k._bound?x():k.value()||h.enable(!1)))}})})(window.kendo.jQuery);
(function(b,w){function u(a,c,f,g){a=a.getFullYear();c=c.getFullYear();f=f.getFullYear();a-=a%g;g=a+(g-1);a<c&&(a=c);g>f&&(g=f);return a+"-"+g}function y(a){for(var f=0,g=a.min,b=a.max,d=a.start,k=a.setter,j=a.build,B=a.cells||12,x=a.perRow||4,h=a.content||c,A=a.empty||l,m=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';f<B;f++)0<f&&0===f%x&&(m+='</tr><tr role="row">'),a=j(d,f),m+=z(d,g,b)?h(a):A(a),k(d,1);return m+"</tr></tbody></table>"}
function n(a,c,f){a=a.getFullYear();var g=c=c.getFullYear(),b=0;f&&(c-=c%f,g=c-c%f+f-1);a>g?b=1:a<c&&(b=-1);return b}function r(a,c,f){var g=new I,g=new I(g.getFullYear(),g.getMonth(),g.getDate());a&&(g=new I(+a));c>g?g=new I(+c):f<g&&(g=new I(+f));return g}function z(a,c,f){return+a>=+c&&+a<=+f}function E(a,c,f){c=c instanceof I?c.getFullYear():a.getFullYear()+f*c;a.setFullYear(c)}function C(a){b(this).toggleClass(g,-1<H.indexOf(a.type)||a.type==F)}function s(a){a.preventDefault()}function e(a){var c=
K[a.start],g=K[a.depth],b=x(a.culture);a.format=j(a.format||b.calendars.standard.patterns.d);isNaN(c)&&(c=0,a.start=f);if(g===w||g>c)a.depth=f;a.dates||(a.dates=[])}function h(a){B&&a.find("*").attr("unselectable","on")}var t=window.kendo,p=t.support,v=t.ui,D=v.Widget,q=t.parseDate,m=t._adjustDate,d=t.keys,j=t._extractFormat,k=t.template,x=t.getCulture,A=t.support.transitions,a=A?A.css+"transform-origin":"",c=k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',
{useWithBlock:!1}),l=k('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),A=t.support.browser,B=A.msie&&9>A.version,f="month",g="k-state-hover",F="focus",G=F+".kendoCalendar",H=p.touch?"touchstart":"mouseenter",N=p.touch?"touchstart.kendoCalendar":"mouseenter.kendoCalendar",P=p.touch?"touchend.kendoCalendar touchmove.kendoCalendar":"mouseleave.kendoCalendar",L=b.proxy,U=b.extend,I=Date,K={month:0,year:1,decade:2,century:3},p=D.extend({init:function(a,c){var f=this,g;D.fn.init.call(f,a,c);a=f.wrapper=
f.element;c=f.options;c.url=window.unescape(c.url);f._templates();f._header();f._footer(f.footer);if(g=a.addClass("k-widget k-calendar").on(N+" "+P,"td:has(.k-link)",C).on("keydown.kendoCalendar","table.k-content",L(f._move,f)).on("click.kendoCalendar","td:has(.k-link)",function(a){var c=a.currentTarget.firstChild;-1!=c.href.indexOf("#")&&a.preventDefault();f._click(b(c))}).on("mouseup.kendoCalendar",function(){f._focusView(!1!==f.options.focusOnNav)}).attr("id"))f._cellID=g+"_cell_selected";g=c.value;
e(c);f._index=K[c.start];f._current=new I(+r(g,c.min,c.max));f._addClassProxy=function(){f._active=!0;f._cell.addClass("k-state-focused")};f._removeClassProxy=function(){f._active=!1;f._cell.removeClass("k-state-focused")};f.value(g);t.notify(f)},options:{name:"Calendar",value:null,min:new I(1900,0,1),max:new I(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:f,depth:f,animation:{horizontal:{effects:"slideIn",reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},
events:["change","navigate"],setOptions:function(a){e(a);D.fn.setOptions.call(this,a)},destroy:function(){var a=this._today;this.element.off(".kendoCalendar");this._title.off(".kendoCalendar");this._prevArrow.off(".kendoCalendar");this._nextArrow.off(".kendoCalendar");t.destroy(this._view);a&&t.destroy(a.off(".kendoCalendar"));D.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table;this._bindTable(a);a.focus()},min:function(a){return this._option("min",
a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate("_prevArrow",-1)},navigateToFuture:function(){this._navigate("_nextArrow",1)},navigateUp:function(){var a=this._index;this._title.hasClass("k-state-disabled")||this.navigate(this._current,++a)},navigateDown:function(a){var c=this._index,f=this.options.depth;a&&(c===K[f]?+this._value!=+a&&(this.value(a),this.trigger("change")):this.navigate(a,--c))},navigate:function(a,c){c=isNaN(c)?K[c]:c;var f=this.options,
g=f.culture,d=f.min,l=f.max,k=this._title,j=this._table,B=this._oldTable,x=this._value,A=this._current,m=a&&+a>+A,F=c!==w&&c!==this._index,e,q;a?this._current=a=new I(+r(a,d,l)):a=A;c===w?c=this._index:this._index=c;this._view=A=O.views[c];e=A.compare;q=c===K.century;k.toggleClass("k-state-disabled",q).attr("aria-disabled",q);q=1>e(a,d);this._prevArrow.toggleClass("k-state-disabled",q).attr("aria-disabled",q);q=-1<e(a,l);this._nextArrow.toggleClass("k-state-disabled",q).attr("aria-disabled",q);j&&
(B&&B.data("animating"))&&(B.kendoStop(!0,!0),j.kendoStop(!0,!0));this._oldTable=j;if(!j||this._changeView)k.html(A.title(a,d,l,g)),this._table=g=b(A.content(U({min:d,max:l,date:a,url:f.url,dates:f.dates,format:f.format,culture:g},this[A.name]))),h(g),this._animate({from:j,to:g,vertical:F,future:m}),this._focus(a),this.trigger("navigate");c===K[f.depth]&&x&&this._class("k-state-selected",A.toDateString(x));this._class("k-state-focused",A.toDateString(a));!j&&this._cell&&this._cell.removeClass("k-state-focused");
this._changeView=!0},value:function(a){var c=this._view,f=this.options,g=this._view,b=f.min,d=f.max;if(a===w)return this._value;a=q(a,f.format,f.culture);null!==a&&(a=new I(+a),z(a,b,d)||(a=null));this._value=a;g&&null===a&&this._cell?this._cell.removeClass("k-state-selected"):(this._changeView=!a||c&&0!==c.compare(a,this._current),this.navigate(a))},_move:function(a){var c=this.options,f=a.keyCode,g=this._view,l=this._index,k=new I(+this._current),j=t.support.isRtl(this.wrapper),B,x,h;a.target===
this._table[0]&&(this._active=!0);if(a.ctrlKey)f==d.RIGHT&&!j||f==d.LEFT&&j?(this.navigateToFuture(),x=!0):f==d.LEFT&&!j||f==d.RIGHT&&j?(this.navigateToPast(),x=!0):f==d.UP?(this.navigateUp(),x=!0):f==d.DOWN&&(this._click(b(this._cell[0].firstChild)),x=!0);else if(f==d.RIGHT&&!j||f==d.LEFT&&j?(B=1,x=!0):f==d.LEFT&&!j||f==d.RIGHT&&j?(B=-1,x=!0):f==d.UP?(B=0===l?-7:-4,x=!0):f==d.DOWN?(B=0===l?7:4,x=!0):f==d.ENTER?(this._click(b(this._cell[0].firstChild)),x=!0):f==d.HOME||f==d.END?(h=f==d.HOME?"first":
"last",f=g[h](k),k=new I(f.getFullYear(),f.getMonth(),f.getDate(),k.getHours(),k.getMinutes(),k.getSeconds(),k.getMilliseconds()),x=!0):f==d.PAGEUP?(x=!0,this.navigateToPast()):f==d.PAGEDOWN&&(x=!0,this.navigateToFuture()),B||h)h||g.setDate(k,B),this._focus(r(k,c.min,c.max));x&&a.preventDefault();return this._current},_animate:function(a){var c=a.from,f=a.to,g=this._active;if(c)if(c.parent().data("animating"))c.parent().kendoStop(!0,!0).remove(),c.remove(),f.insertAfter(this.element[0].firstChild),
this._focusView(g);else if(!c.is(":visible")||!1===this.options.animation)f.insertAfter(c),c.remove(),this._focusView(g);else this[a.vertical?"_vertical":"_horizontal"](c,f,a.future);else f.insertAfter(this.element[0].firstChild),this._bindTable(f)},_horizontal:function(a,c,f){var g=this,b=g._active,d=g.options.animation.horizontal,l=d.effects,k=a.outerWidth();l&&-1!=l.indexOf("slideIn")&&(a.add(c).css({width:k}),a.wrap("<div/>"),g._focusView(b,a),a.parent().css({position:"relative",width:2*k,"float":"left",
"margin-left":f?0:-k}),c[f?"insertAfter":"insertBefore"](a),U(d,{effects:"slideIn:"+(f?"right":"left"),complete:function(){a.remove();c.unwrap();g._focusView(b);g._oldTable=w}}),a.parent().kendoStop(!0,!0).kendoAnimate(d))},_vertical:function(c,f){var g=this,b=g.options.animation.vertical,d=b.effects,l=g._active,k;d&&-1!=d.indexOf("zoom")&&(f.css({position:"absolute",top:c.prev().outerHeight(),left:0}).insertBefore(c),a&&(d=g._cellByDate(g._view.toDateString(g._current)),k=d.position(),k=k.left+parseInt(d.width()/
2,10)+"px "+(k.top+parseInt(d.height()/2,10)+"px"),f.css(a,k)),c.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){c.remove();f.css({position:"static",top:0,left:0});g._focusView(l);g._oldTable=w}}),f.kendoStop(!0,!0).kendoAnimate(b))},_cellByDate:function(a){return this._table.find("td:not(.k-other-month)").filter(function(){return b(this.firstChild).attr(t.attr("value"))===a})},_class:function(a,c){var f=this._cellID,g=this._cell;g&&g.removeAttr("aria-selected").removeAttr("id");
g=this._table.find("td:not(.k-other-month)").removeClass(a).filter(function(){return b(this.firstChild).attr(t.attr("value"))===c}).attr("aria-selected",!0);"k-state-focused"===a&&(!this._active&&!1!==this.options.focusOnNav)&&(a="");g.addClass(a);g[0]&&(this._cell=g);f&&(g.attr("id",f),this._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",f))},_bindTable:function(a){a.on(G,this._addClassProxy).on("blur.kendoCalendar",this._removeClassProxy)},_click:function(a){var c=this.options,
f=new Date(+this._current);a=a.attr(t.attr("value")).split("/");a=new I(a[0],a[1],a[2]);m(a);this._view.setDate(f,a);this.navigateDown(r(f,c.min,c.max))},_focus:function(a){var c=this._view;0!==c.compare(a,this._current)?this.navigate(a):(this._current=a,this._class("k-state-focused",c.toDateString(a)))},_focusView:function(a,c){a&&this.focus(c)},_footer:function(a){var c=this.element,f=new I,g=c.find(".k-footer");a?(g[0]||(g=b('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(c)),
this._today=g.show().find(".k-link").html(a(f)).attr("title",t.toString(f,"D",this.options.culture)),this._toggle()):(this._toggle(!1),g.hide())},_header:function(){var a=this,c=a.element,f=!1!==a.options.focusOnNav;c.find(".k-header")[0]||c.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>');
c=c.find(".k-link").on(N+" "+P+" "+G+" blur.kendoCalendar",C).click(!1);a._title=c.eq(1).on("click.kendoCalendar",function(){a._focusView(f);a.navigateUp()});a._prevArrow=c.eq(0).on("click.kendoCalendar",function(){a._focusView(f);a.navigateToPast()});a._nextArrow=c.eq(2).on("click.kendoCalendar",function(){a._focusView(f);a.navigateToFuture()})},_navigate:function(a,c){var f=this._index+1,g=new I(+this._current);a=this[a];a.hasClass("k-state-disabled")||(3<f?g.setFullYear(g.getFullYear()+100*c):
O.views[f].setDate(g,c),this.navigate(g))},_option:function(a,c){var f=this.options,g=+this._value,b="_nextArrow";if(c===w)return f[a];if(c=q(c,f.format,f.culture))f[a]=new I(+c),f=this._view.compare(c,this._current),"min"===a?(g=+c>g,f=-1<f,b="_prevArrow"):(g=g>+c,f=1>f),g?this.value(null):f?this.navigate():this[b].toggleClass("k-state-disabled",!1).attr("aria-disabled",!1),this._toggle()},_toggle:function(a){var c=this.options,f=this._today;a===w&&(a=z(new I,c.min,c.max));if(f)if(f.off("click.kendoCalendar"),
a)f.addClass("k-nav-today").removeClass("k-state-disabled").on("click.kendoCalendar",L(this._todayClick,this));else f.removeClass("k-nav-today").addClass("k-state-disabled").on("click.kendoCalendar",s)},_todayClick:function(a){var c=K[this.options.depth],f=new I;a.preventDefault();0===this._view.compare(this._current,f)&&this._index==c&&(this._changeView=!1);this._value=f;this.navigate(f,c);this.trigger("change")},_templates:function(){var a=this.options,c=a.footer,f=a.month,g=f.content,f=f.empty;
this.month={content:k('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+t.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(g||"#=data.value#")+"</a></td>",{useWithBlock:!!g}),empty:k('<td role="gridcell">'+(f||"&nbsp;")+"</td>",{useWithBlock:!!f})};!1!==c&&(this.footer=k(c||'#= kendo.toString(data,"D","'+a.culture+'") #',{useWithBlock:!1}))}});v.plugin(p);var O={firstDayOfMonth:function(a){return new I(a.getFullYear(),a.getMonth(),
1)},firstVisibleDay:function(a,c){c=c||t.culture().calendar;for(var f=c.firstDay,g=new I(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());g.getDay()!=f;)O.setTime(g,-864E5);return g},setTime:function(a,c){var f=a.getTimezoneOffset(),g=new I(a.getTime()+c),f=g.getTimezoneOffset()-f;a.setTime(g.getTime()+6E4*f)},views:[{name:f,title:function(a,c,f,g){return x(g).calendars.standard.months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var c=
0,f=a.min,g=a.max,b=a.date,d=a.dates,l=a.format,k=a.culture,j=a.url,B=j&&d[0],h=x(k).calendars.standard,A=h.firstDay,F=h.days,e=F.names.slice(A).concat(F.names.slice(0,A)),A=F.namesShort.slice(A).concat(F.namesShort.slice(0,A)),h=O.firstVisibleDay(b,h),q=this.first(b),p=this.last(b),G=this.toDateString,H=new I,b='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>c;c++)b+='<th scope="col" title="'+e[c]+'">'+A[c]+"</th>";H=new I(H.getFullYear(),H.getMonth(),
H.getDate());m(H);H=+H;return y({cells:42,perRow:7,html:b+='</tr></thead><tbody><tr role="row">',start:new I(h.getFullYear(),h.getMonth(),h.getDate()),min:new I(f.getFullYear(),f.getMonth(),f.getDate()),max:new I(g.getFullYear(),g.getMonth(),g.getDate()),content:a.content,empty:a.empty,setter:this.setDate,build:function(a){var c=[],f=a.getDay(),g="",b="#";(a<q||a>p)&&c.push("k-other-month");+a===H&&c.push("k-today");(0===f||6===f)&&c.push("k-weekend");if(f=B)a:{for(var f=0,x=d.length;f<x;f++)if(+a===
+d[f]){f=!0;break a}f=!1}f&&(b=j.replace("{0}",t.toString(a,l,k)),g=" k-action-link");return{date:a,dates:d,ns:t.ns,title:t.toString(a,"D",k),value:a.getDate(),dateString:G(a),cssClass:c[0]?' class="'+c.join(" ")+'"':"",linkClass:g,url:b}}})},first:function(a){return O.firstDayOfMonth(a)},last:function(a){var c=new I(a.getFullYear(),a.getMonth()+1,0);a=O.firstDayOfMonth(a);var f=Math.abs(c.getTimezoneOffset()-a.getTimezoneOffset());f&&c.setHours(a.getHours()+f/60);return c},compare:function(a,c){var f=
a.getMonth(),g=a.getFullYear(),b=c.getMonth(),d=c.getFullYear();return g>d?1:g<d?-1:f==b?0:f>b?1:-1},setDate:function(a,c){var f=a.getHours();c instanceof I?a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()):O.setTime(a,864E5*c);m(a,f)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var c=x(a.culture).calendars.standard.months.namesAbbr,f=this.toDateString,g=a.min,b=a.max;return y({min:new I(g.getFullYear(),
g.getMonth(),1),max:new I(b.getFullYear(),b.getMonth(),1),start:new I(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:c[a.getMonth()],ns:t.ns,dateString:f(a),cssClass:""}}})},first:function(a){return new I(a.getFullYear(),0,a.getDate())},last:function(a){return new I(a.getFullYear(),11,a.getDate())},compare:function(a,c){return n(a,c)},setDate:function(a,c){var f,g=a.getHours();c instanceof I?(f=c.getMonth(),a.setFullYear(c.getFullYear(),f,a.getDate()),f!==a.getMonth()&&
a.setDate(0)):(f=a.getMonth()+c,a.setMonth(f),11<f&&(f-=12),0<f&&a.getMonth()!=f&&a.setDate(0));m(a,g)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,c,f){return u(a,c,f,10)},content:function(a){var c=a.date.getFullYear(),f=this.toDateString;return y({start:new I(c-c%10-1,0,1),min:new I(a.min.getFullYear(),0,1),max:new I(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,c){return{value:a.getFullYear(),ns:t.ns,dateString:f(a),cssClass:0===
c||11==c?' class="k-other-month"':""}}})},first:function(a){var c=a.getFullYear();return new I(c-c%10,a.getMonth(),a.getDate())},last:function(a){var c=a.getFullYear();return new I(c-c%10+9,a.getMonth(),a.getDate())},compare:function(a,c){return n(a,c,10)},setDate:function(a,c){E(a,c,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:"century",title:function(a,c,f){return u(a,c,f,100)},content:function(a){var c=a.date.getFullYear(),f=a.min.getFullYear(),g=a.max.getFullYear(),b=this.toDateString;
a=f;var d=g;a-=a%10;d-=d%10;10>d-a&&(d=a+9);return y({start:new I(c-c%100-10,0,1),min:new I(a,0,1),max:new I(d,0,1),setter:this.setDate,build:function(a,c){var d=a.getFullYear(),l=d+9;d<f&&(d=f);l>g&&(l=g);return{ns:t.ns,value:d+" - "+l,dateString:b(a),cssClass:0===c||11==c?' class="k-other-month"':""}}})},first:function(a){var c=a.getFullYear();return new I(c-c%100,a.getMonth(),a.getDate())},last:function(a){var c=a.getFullYear();return new I(c-c%100+99,a.getMonth(),a.getDate())},compare:function(a,
c){return n(a,c,100)},setDate:function(a,c){E(a,c,10)},toDateString:function(a){a=a.getFullYear();return a-a%10+"/0/1"}}],isEqualDatePart:function(a,c){return a?a.getFullYear()===c.getFullYear()&&a.getMonth()===c.getMonth()&&a.getDate()===c.getDate():!1}};O.makeUnselectable=h;O.restrictValue=r;O.isInRange=z;O.normalize=e;O.viewsEnum=K;t.calendar=O})(window.kendo.jQuery);
(function(b,w){function u(d){var j=d.parseFormats,A=d.format;h.normalize(d);j=b.isArray(j)?j:[j];-1===b.inArray(A,j)&&j.splice(0,0,d.format);d.parseFormats=j}function y(b){b.preventDefault()}var n=window.kendo,r=n.ui,z=r.Widget,E=n.parseDate,C=n.keys,s=n.template,e=n._activeElement,h=n.calendar,t=h.isInRange,p=h.restrictValue,v=h.isEqualDatePart,D=b.extend,q=b.proxy,m=Date,d=function(d){var x;x=document.body;var A=j.sharedCalendar,a=b("<div />").attr("aria-hidden","true").addClass("k-calendar-container").appendTo(x);
A||(A=j.sharedCalendar=new r.Calendar(b("<div />").attr("id",n.guid()).hide().appendTo(x),{focusOnNav:!1}),h.makeUnselectable(A.element));this.calendar=A;this.options=d=d||{};if(x=d.id)x+="_dateview",a.attr("id",x),this._dateViewID=x;this.popup=new r.Popup(a,D(d.popup,d,{name:"Popup",isRtl:n.support.isRtl(d.anchor)}));this.div=a;this._templates();this.value(d.value)};d.prototype={_calendar:function(){var b=this.popup,d=this.options,j=this.calendar,a=j.element;a.data("dateView")!==this&&(a.appendTo(b.element).data("dateView",
this).off("click.kendoDatePicker keydown.kendoDatePicker").on("click.kendoDatePicker","td:has(.k-link)",q(this._click,this)).on("mousedown.kendoDatePicker",y).show(),j.unbind("change").bind("change",d),j.month=this.month,j.options.dates=d.dates,j.options.depth=d.depth,j.options.culture=d.culture,j._footer(this.footer),j.min(d.min),j.max(d.max),j.navigate(this._value||this._current,d.start),this.value(this._value))},destroy:function(){var d=this.calendar,x=d.element,h=x.data("dateView");if(h===w||
h===this)h=b(".k-calendar-container"),1<h.length?x.hide().appendTo(document.body):(x.off(".kendoDatePicker"),d.destroy(),d.element.remove(),j.sharedCalendar=null);this.popup.destroy()},open:function(){this._calendar();this.popup.open()},close:function(){this.popup.close()},min:function(b){this._option("min",b)},max:function(b){this._option("max",b)},toggle:function(){this[this.popup.visible()?"close":"open"]()},move:function(b){var d=b.keyCode,j=this.calendar,a=b.ctrlKey&&d==C.DOWN||d==C.ENTER;d==
C.ESC?this.close():b.altKey?d==C.DOWN?(this.open(),b.preventDefault()):d==C.UP&&(this.close(),b.preventDefault()):this.popup.visible()&&(a&&j._cell.hasClass("k-state-selected")?(this.close(),b.preventDefault()):this._current=j._move(b))},value:function(b){var d=this.calendar,j=this.options;this._value=b;this._current=new m(+p(b,j.min,j.max));d.element.data("dateView")===this&&d.value(b)},_click:function(b){-1!==b.currentTarget.className.indexOf("k-state-selected")&&this.close()},_option:function(b,
d){var j=this.calendar;this.options[b]=d;if(j.element.data("dateView")===this)j[b](d)},_templates:function(){var b=this.options,d=b.footer,j=b.month||{},a=j.content,j=j.empty;this.month={content:s('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+n.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(a||"#=data.value#")+"</a></td>",{useWithBlock:!!a}),empty:s("<td>"+(j||"&nbsp;")+"</td>",{useWithBlock:!!j})};!1!==d&&(this.footer=s(d||'#= kendo.toString(data,"D","'+b.culture+
'") #',{useWithBlock:!1}))}};d.normalize=u;n.DateView=d;var j=z.extend({init:function(b,j){var h=this,a;z.fn.init.call(h,b,j);b=h.element;j=h.options;u(j);h._wrapper();h.dateView=new d(D({},j,{id:b.attr("id"),anchor:h.wrapper,change:function(){h._change(this.value());h.close()},close:function(c){h.trigger("close")?c.preventDefault():(b.attr("aria-expanded",!1),a.attr("aria-hidden",!0))},open:function(c){var d=h.options;h.trigger("open")?c.preventDefault():(h.element.val()!==h._oldText&&((c=E(b.val(),
d.parseFormats,d.culture))?(h.dateView._current=c,h.dateView.calendar._focus(c)):h.dateView.value(c)),b.attr("aria-expanded",!0),a.attr("aria-hidden",!1))}}));a=h.dateView.div;h._icon();b[0].type="text";b.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":h.dateView._dateViewID});h._reset();h._template();b.is("[disabled]")?h.enable(!1):h.readonly(b.is("[readonly]"));h.value(j.value||h.element.val());n.notify(h)},events:["open","close","change"],options:{name:"DatePicker",
value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(b){var d=this.dateView,j=d.options;z.fn.setOptions.call(this,b);u(this.options);d.options=D(j,this.options,{change:j.change,close:j.close,open:j.open})},_editable:function(b){var d=this,j=d._dateIcon.off(".kendoDatePicker"),a=d.element.off(".kendoDatePicker"),
c=d._inputWrapper.off(".kendoDatePicker"),l=b.readonly;b=b.disable;!l&&!b?(c.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",d._toggleHover),a.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoDatePicker",q(d._keydown,d)).on("blur.kendoDatePicker",q(d._blur,d)).on("focus.kendoDatePicker",function(){d._inputWrapper.addClass("k-state-focused")}),j.on("click.kendoDatePicker",
q(d._click,d)).on("mousedown.kendoDatePicker",y)):(c.addClass(b?"k-state-disabled":"k-state-default").removeClass(b?"k-state-default":"k-state-disabled"),a.attr("disabled",b).attr("readonly",l).attr("aria-disabled",b).attr("aria-readonly",l))},readonly:function(b){this._editable({readonly:b===w?!0:b,disable:!1})},enable:function(b){this._editable({readonly:!1,disable:!(b===w||b)})},destroy:function(){z.fn.destroy.call(this);this.dateView.destroy();this.element.off(".kendoDatePicker");this._dateIcon.off(".kendoDatePicker");
this._inputWrapper.off(".kendoDatePicker");this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(b){return this._option("min",b)},max:function(b){return this._option("max",b)},value:function(b){if(b===w)return this._value;this._old=this._update(b);null===this._old&&this.element.val("");this._oldText=this.element.val()},_toggleHover:function(d){b(d.currentTarget).toggleClass("k-state-hover","mouseenter"===
d.type)},_blur:function(){var b=this.element.val();this.close();b!==this._oldText&&this._change(b);this._inputWrapper.removeClass("k-state-focused")},_click:function(){var b=this.element;this.dateView.toggle();!n.support.touch&&b[0]!==e()&&b.focus()},_change:function(b){b=this._update(b);+this._old!=+b&&(this._old=b,this._oldText=this.element.val(),this.trigger("change"),this.element.trigger("change"))},_keydown:function(b){var d=this.dateView,j=this.element.val();!d.popup.visible()&&b.keyCode==C.ENTER&&
j!==this._oldText?this._change(j):(d.move(b),this._updateARIA(d._current))},_icon:function(){var d=this.element,j;j=d.next("span.k-select");j[0]||(j=b('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(d));this._dateIcon=j.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(b,d){var j=this.options;if(d===w)return j[b];if(d=E(d,j.parseFormats,j.culture))j[b]=new m(+d),this.dateView[b](d)},_update:function(b){var d=
this.options,j=d.min,a=d.max,c=E(b,d.parseFormats,d.culture);if(+c===+this._value)return d=n.toString(c,d.format,d.culture),d!==b&&this.element.val(null===c?b:d),c;null!==c&&v(c,j)?c=p(c,j,a):t(c,j,a)||(c=null);this._value=c;this.dateView.value(c);this.element.val(c?n.toString(c,d.format,d.culture):b);this._updateARIA(c);return c},_wrapper:function(){var d=this.element,j;j=d.parents(".k-datepicker");j[0]||(j=d.wrap("<span />").parent().addClass("k-picker-wrap k-state-default"),j=j.wrap("<span />").parent());
j[0].style.cssText=d[0].style.cssText;d.css({width:"100%",height:d[0].style.height});this.wrapper=j.addClass("k-widget k-datepicker k-header").addClass(d[0].className);this._inputWrapper=b(j[0].firstChild)},_reset:function(){var b=this,d=b.element,j=d.closest("form");j[0]&&(b._resetHandler=function(){b.value(d[0].defaultValue)},b._form=j.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=s(this.options.ARIATemplate)},_updateARIA:function(){}});r.plugin(j)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u._activeElement,n=u.support.placeholder,r=u.ui,z=u.keys,E=u.data.DataSource,C=r.List,s=C.caret,e=C.selectText,h=b.proxy,t=C.extend({init:function(e,t){var s=this,q;s.ns=".kendoAutoComplete";t=b.isArray(t)?{dataSource:t}:t;C.fn.init.call(s,e,t);e=s.element;t=s.options;t.placeholder=t.placeholder||e.attr("placeholder");n&&e.attr("placeholder",t.placeholder);s._wrapper();s._loader();s._accessors();s._dataSource();s._ignoreCase();e[0].type="text";q=s.wrapper;s._popup();
e.addClass("k-input").on("keydown.kendoAutoComplete",h(s._keydown,s)).on("paste.kendoAutoComplete",h(s._search,s)).on("focus.kendoAutoComplete",function(){s._prev=s._accessor();s._placeholder(!1);q.addClass("k-state-focused")}).on("blur.kendoAutoComplete",function(){s._change();s._placeholder();q.removeClass("k-state-focused")}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});s._enable();s._old=s._accessor();e[0].id&&e.attr("aria-owns",s.ul[0].id);s._aria();s._placeholder();u.notify(s)},
options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=h(this.refresh,this),this._progressHandler=h(this._showBusy,this));this.dataSource=E.create(this.options.dataSource).bind("change",this._refreshHandler).bind("progress",this._progressHandler)},
setDataSource:function(b){this.options.dataSource=b;this._dataSource()},events:"open close change select dataBinding dataBound".split(" "),setOptions:function(b){C.fn.setOptions.call(this,b);this._template();this._accessors();this._aria()},_editable:function(b){var h=this.element,e=this.wrapper.off(".kendoAutoComplete"),q=b.readonly;b=b.disable;!q&&!b?(e.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),h.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",
!1).attr("aria-readonly",!1)):(e.addClass(b?"k-state-disabled":"k-state-default").removeClass(b?"k-state-default":"k-state-disabled"),h.attr("disabled",b).attr("readonly",q).attr("aria-disabled",b).attr("aria-readonly",q))},close:function(){var b=this._current;b&&b.removeClass("k-state-selected");this.current(null);this.popup.close()},destroy:function(){this.element.off(".kendoAutoComplete");this.wrapper.off(".kendoAutoComplete");C.fn.destroy.call(this)},refresh:function(){var h=this.ul[0],e=this.popup,
t=this.options,q=this._data(),m=q.length;this.trigger("dataBinding");h.innerHTML=u.render(this.template,q);this._height(m);e.visible()&&e._position();m&&(t.highlightFirst&&this.current(b(h.firstChild)),t.suggest&&this.suggest(b(h.firstChild)));this._open&&(this._open=!1,h=m?"open":"close",this._typing&&this.element[0]!==y()&&(h="close"),e[h](),this._typing=w);this._touchScroller&&this._touchScroller.reset();this._makeUnselectable();this._hideBusy();this.trigger("dataBound")},select:function(b){this._select(b)},
search:function(b){var h=this.options,e=h.ignoreCase,q=h.separator;b=b||this._accessor();this._current=null;clearTimeout(this._typing);if(q){var m=s(this.element[0]);b=b.split(q)[q?b.substring(0,m).split(q).length-1:0]}(q=b.length)?q>=this.options.minLength&&(this._open=!0,this._filterSource({value:e?b.toLowerCase():b,operator:h.filter,field:h.dataTextField,ignoreCase:e})):this.popup.close()},suggest:function(b){var h=this._last,t=this._accessor(),q=this.element[0],m=s(q),d=this.options.separator,
j=t.split(d),k=d?t.substring(0,m).split(d).length-1:0,x=m;h==z.BACKSPACE||h==z.DELETE?this._last=w:(b=b||"","string"!==typeof b&&(h=C.inArray(b[0],this.ul[0]),b=-1<h?this._text(this._data()[h]):""),0>=m&&(m=t.toLowerCase().indexOf(b.toLowerCase())+1),h=t.substring(0,m).lastIndexOf(d),h=-1<h?m-(h+d.length):m,t=j[k].substring(0,h),b&&(h=b.toLowerCase().indexOf(t.toLowerCase()),-1<h&&(b=b.substring(h+t.length),x=m+b.length,t+=b),d&&""!==j[j.length-1]&&j.push("")),j[k]=t,this._accessor(j.join(d||"")),
e(q,m,x))},value:function(b){if(b!==w)this._accessor(b),this._old=b;else return this._accessor()},_accessor:function(b){var h=this.element[0];if(b!==w)h.value=null===b?"":b,this._placeholder();else return b=h.value,-1<h.className.indexOf("k-readonly")&&b===this.options.placeholder?"":b},_accept:function(b){this._focus(b);b=this.element[0];var h=b.value.length;e(b,h,h)},_keydown:function(h){var e=this.ul[0],t=h.keyCode,q=this._current,m=this.popup.visible();this._last=t;t===z.DOWN?(m&&this._move(q?
q.next():b(e.firstChild)),h.preventDefault()):t===z.UP?(m&&this._move(q?q.prev():b(e.lastChild)),h.preventDefault()):t===z.ENTER||t===z.TAB?(t===z.ENTER&&this.popup.visible()&&h.preventDefault(),this._accept(q)):t===z.ESC?(this.popup.visible()&&h.preventDefault(),this.close()):this._search()},_move:function(b){b=b[0]?b:null;this.current(b);this.options.suggest&&this.suggest(b)},_hideBusy:function(){clearTimeout(this._busy);this._loading.hide();this.element.attr("aria-busy",!1);this._busy=null},_showBusy:function(){var b=
this;b._busy||(b._busy=setTimeout(function(){b.element.attr("aria-busy",!0);b._loading.show()},100))},_placeholder:function(b){if(!n){var h=this.element,e=this.options.placeholder,q;e&&(q=h.val(),b===w&&(b=!q),b||(e=q!==e?q:""),(q!==this._old||b)&&h.toggleClass("k-readonly",b).val(e))}},_search:function(){var b=this;clearTimeout(b._typing);b._typing=setTimeout(function(){b._prev!==b._accessor()&&(b._prev=b._accessor(),b.search())},b.options.delay)},_select:function(h){var e=this.options.separator,
t=this._data(),q,m;h=b(h);if(h[0]&&!h.hasClass("k-state-selected")&&(m=C.inArray(h[0],this.ul[0]),-1<m)){t=t[m];q=this._text(t);if(e){t=s(this.element[0]);m=this._accessor();var d=m.split(e);d.splice(e?m.substring(0,t).split(e).length-1:0,1,q);e&&""!==d[d.length-1]&&d.push("");q=d.join(e)}this._accessor(q);this.current(h.addClass("k-state-selected"))}},_loader:function(){this._loading=b('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(h){b(h.currentTarget).toggleClass("k-state-hover",
"mouseenter"===h.type)},_wrapper:function(){var b=this.element,h=b[0],e;e=b.parent();e.is("span.k-widget")||(e=b.wrap("<span />").parent());e.attr("tabindex",-1);e.attr("role","presentation");e[0].style.cssText=h.style.cssText;b.css({width:"100%",height:h.style.height});this._focused=this.element;this.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(h.className)}});r.plugin(t)})(window.kendo.jQuery);
(function(b,w){function u(b,e,h){for(var t=0,p=e.length-1,v;t<p;++t)v=e[t],v in b||(b[v]={}),b=b[v];b[e[p]]=h}var y=window.kendo,n=y.ui,r=n.Select,z=y.support.mobileOS,E=b.proxy,C=r.extend({init:function(s,e){var h=this,t=e&&e.index,p,v;h.ns=".kendoDropDownList";e=b.isArray(e)?{dataSource:e}:e;r.fn.init.call(h,s,e);h._focusHandler=function(){h.wrapper.focus()};e=h.options;s=h.element.on("focus.kendoDropDownList",h._focusHandler);h._reset();h._word="";h._wrapper();h._tabindex();h.wrapper.data("tabindex",
h.wrapper.attr("tabindex"));h._aria();h._span();h._popup();h._mobile();h._accessors();h._dataSource();h._ignoreCase();h._enable();h._cascade();h._oldIndex=h.selectedIndex=-1;t!==w&&(e.index=t);e.autoBind?h.dataSource.fetch():(v=e.text||"",v||(p=(t=h._optionLabelText(e.optionLabel))&&0===e.index,s.is("select")?v=p?t:s.children(":selected").text():!s[0].value&&p&&(v=t)),h.text(v));y.notify(h)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,
dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:"open close change select dataBinding dataBound cascade".split(" "),setOptions:function(b){r.fn.setOptions.call(this,b);this._template();this._accessors();this._aria()},destroy:function(){this.wrapper.off(".kendoDropDownList");this.element.off(".kendoDropDownList");this._inputWrapper.off(".kendoDropDownList");r.fn.destroy.call(this)},open:function(){this.ul[0].firstChild?(this.popup.open(),this._scroll(this._current)):
(this._open=!0,this._request||this.dataSource.fetch())},toggle:function(b){this._toggle(b)},refresh:function(){var b=this._data(),e=b.length,h=this.options.optionLabel;this.trigger("dataBinding");this._current&&this.current(null);this.ul[0].innerHTML=y.render(this.template,b);this._height(e);this.popup.visible()&&this.popup._position();this.element.is("select")&&(h&&e&&(h=this._optionLabelText(h),h='<option value="">'+h+"</option>"),this._options(b,h));this._open&&(this._open=!1,this.toggle(!!e));
this._hideBusy();this._makeUnselectable();!this._fetch&&e&&this._selectItem();this._bound=!0;this.trigger("dataBound")},search:function(b){if(b){var e=this,h=e.options.ignoreCase;h&&(b=b.toLowerCase());e._select(function(t){t=e._text(t);if(t!==w)return t+="",h&&(t=t.toLowerCase()),0===t.indexOf(b)})}},text:function(b){var e=this.span;if(b!==w)e.text(b);else return e.text()},value:function(b){var e;if(b!==w){if(null!==b&&(b=b.toString()),e=(this._selectedValue=b)||this.options.optionLabel&&!this.element[0].disabled&&
""===b,!e||!this._fetchItems(b))b=this._index(b),this.select(-1<b?b:0)}else return this._accessor()},_editable:function(b){var e=this,h=e.element,t=b.disable;b=b.readonly;var p=e.wrapper.off(".kendoDropDownList"),v=e._inputWrapper.off("mouseenter.kendoDropDownList mouseleave.kendoDropDownList");!b&&!t?(h.removeAttr("disabled").removeAttr("readonly"),v.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDropDownList mouseleave.kendoDropDownList",e._toggleHover),p.attr("tabindex",
p.data("tabindex")).attr("aria-disabled",!1).attr("aria-readonly",!1).on("click.kendoDropDownList",function(b){e._blured=!1;b.preventDefault();e.toggle()}).on("keydown.kendoDropDownList",E(e._keydown,e)).on("keypress.kendoDropDownList",E(e._keypress,e)).on("focusin.kendoDropDownList",function(){v.addClass("k-state-focused");e._blured=!1}).on("focusout.kendoDropDownList",function(){e._blured||(e._triggerCascade(),e._blur(),v.removeClass("k-state-focused"),e._blured=!0,h.blur())})):(t?(p.removeAttr("tabindex"),
v.addClass("k-state-disabled").removeClass("k-state-default")):v.addClass("k-state-default").removeClass("k-state-disabled"),h.attr("disabled",t).attr("readonly",b),p.attr("aria-disabled",t).attr("aria-readonly",b))},_accept:function(b){this._focus(b)},_optionLabelText:function(){var b=this.options,e=b.dataTextField;return(b=b.optionLabel)&&e&&"object"===typeof b?this._text(b):b},_data:function(){var b=this.options,e=b.optionLabel,h=b.dataTextField,b=b.dataValueField,t=this.dataSource.view(),p=t.length,
v=e,n=0;if(e&&p){"object"===typeof e?v=e:h&&(v={},h=h.split("."),b=b.split("."),u(v,b,""),u(v,h,e));for(v=new y.data.ObservableArray([v]);n<p;n++)v.push(t[n]);t=v}return t},_keydown:function(b){var e=b.keyCode,h=y.keys,t=this.ul[0];e===h.LEFT?e=h.UP:e===h.RIGHT&&(e=h.DOWN);b.keyCode=e;this._move(b);e===h.HOME?(b.preventDefault(),this._select(t.firstChild)):e===h.END&&(b.preventDefault(),this._select(t.lastChild))},_selectNext:function(b,e){for(var h=this.options.ignoreCase,t=this._data(),p=t.length,
v;e<p;e++)if(v=this._text(t[e]))if(v+="",h&&(v=v.toLowerCase()),0===v.indexOf(b))return this._select(e),this._triggerEvents(),!0;return!1},_keypress:function(b){var e=this;setTimeout(function(){var h=String.fromCharCode(b.keyCode||b.charCode),t=e.selectedIndex;e.options.ignoreCase&&(h=h.toLowerCase());if(h===e._last&&-1<t){if(e._word=h,e._selectNext(h,t+1))return}else e._word+=h;e._last=h;e._search()})},_popup:function(){r.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=y.wrap(this.element).addClass("km-popup")})},
_search:function(){var b=this,e=b.dataSource,h=b._word;clearTimeout(b._typing);b._typing=setTimeout(function(){b._word=""},b.options.delay);b.ul[0].firstChild?(b.search(h),b._triggerEvents()):e.one("change",function(){e.data()[0]&&b.search(h)}).fetch()},_select:function(b){var e=this._current,h=this._data(),t;if((b=this._get(b))&&b[0]&&!b.hasClass("k-state-selected"))e&&e.removeClass("k-state-selected"),t=n.List.inArray(b[0],this.ul[0]),-1<t&&(h=h[t],e=this._text(h),h=this._value(h),this.selectedIndex=
t,this.text(e),this._accessor(h!==w?h:e,t),this._selectedValue=this._accessor(),this.current(b.addClass("k-state-selected")),this._optionID&&this._current.attr("aria-selected",!0))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var b=this.popup;b.element.parents(".km-root").eq(0).length&&z&&(b.options.animation.open.effects=z.android||z.meego?"fadeIn":z.ios||z.wp?"slideIn:up":b.options.animation.open.effects)},_span:function(){var n=this.wrapper,
e;e=n.find("span.k-input");e[0]||(n.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(this.element),e=n.find("span.k-input"));this.span=e;this._inputWrapper=b(n[0].firstChild);this._arrow=n.find(".k-icon").mousedown(function(b){b.preventDefault()})},_wrapper:function(){var b=this.element,e=b[0],h;
h=b.parent();h.is("span.k-widget")||(h=b.wrap("<span />").parent(),h[0].style.cssText=e.style.cssText);b.hide();this._focused=this.wrapper=h.addClass("k-widget k-dropdown k-header").addClass(e.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var b=this.options.optionLabel;this.dataSource.view()[0]&&b?this.select(0):(this.text(b),this.element.val(""),this.selectedIndex=-1)}});n.plugin(C)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.ui,n=y.List,r=y.Select,z=u.support.placeholder,E=u._activeElement,C=u.keys,s=b.proxy,e=r.extend({init:function(h,e){var p=this,v;p.ns=".kendoComboBox";e=b.isArray(e)?{dataSource:e}:e;r.fn.init.call(p,h,e);p._focusHandler=function(){p.input.focus()};e=p.options;h=p.element.on("focus.kendoComboBox",p._focusHandler);e.placeholder=e.placeholder||h.attr("placeholder");p._reset();p._wrapper();p._input();p._tabindex(p.input);p._popup();p._accessors();p._dataSource();
p._ignoreCase();p._enable();p._cascade();p._aria();p._oldIndex=p.selectedIndex=-1;e.autoBind?p._filterSource():(v=e.text,!v&&p._isSelect&&(v=h.children(":selected").text()),v&&p.input.val(v));v||p._placeholder();u.notify(p)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:"open close change select dataBinding dataBound cascade".split(" "),
setOptions:function(b){r.fn.setOptions.call(this,b);this._template();this._accessors();this._aria()},current:function(b){var e=this._current;if(b===w)return e;e&&e.removeClass("k-state-selected");r.fn.current.call(this,b)},destroy:function(){this.input.off(".kendoComboBox");this.element.off(".kendoComboBox");this._inputWrapper.off(".kendoComboBox");r.fn.destroy.call(this)},_editable:function(b){var e=this,p=b.disable;b=b.readonly;var v=e._inputWrapper.off(".kendoComboBox"),n=e.element.add(e.input.off(".kendoComboBox")),
q=e._arrow.parent().off("click.kendoComboBox mousedown.kendoComboBox");!b&&!p?(v.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoComboBox mouseleave.kendoComboBox",e._toggleHover),n.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1),q.on("click.kendoComboBox",function(){e.toggle()}).on("mousedown.kendoComboBox",function(b){b.preventDefault()}),e.input.on("keydown.kendoComboBox",s(e._keydown,e)).on("focus.kendoComboBox",function(){v.addClass("k-state-focused");
e._placeholder(!1)}).on("blur.kendoComboBox",function(){v.removeClass("k-state-focused");clearTimeout(e._typing);e.options.text!==e.input.val()&&e.text(e.text());e._placeholder();e._blur();e.element.blur()})):(v.addClass(p?"k-state-disabled":"k-state-default").removeClass(p?"k-state-default":"k-state-disabled"),n.attr("disabled",p).attr("readonly",b).attr("aria-disabled",p).attr("aria-readonly",b))},open:function(){var b=this.dataSource.options.serverFiltering;this.popup.visible()||(!this.ul[0].firstChild||
"accept"===this._state&&!b?(this._open=!0,this._state="rebind",this._filterSource()):(this.popup.open(),this._scroll(this._current)))},refresh:function(){var h=this.ul[0],e=this.options,p=this._state,n=this._data(),r=n.length,q;this.trigger("dataBinding");h.innerHTML=u.render(this.template,n);this._height(r);this.popup.visible()&&this.popup._position();this._isSelect&&("rebind"===p&&(this._state="",this.value()),q=this._option,this._option=w,this._options(n),q&&q[0].selected&&this._custom(q.val()));
r&&(e.highlightFirst&&this.current(b(h.firstChild)),e.suggest&&(this.input.val()&&this._request!==w)&&this.suggest(b(h.firstChild)));"filter"!==p&&!this._fetch&&this._selectItem();this._open&&(this._open=!1,h=!!r,this._typing&&this.input[0]!==E()&&(h=!1),this.toggle(h),this._typing=w);this._touchScroller&&this._touchScroller.reset();this._makeUnselectable();this._hideBusy();this._bound=!0;this.trigger("dataBound")},search:function(b){b="string"===typeof b?b:this.text();var e=b.length,p=this.options,
n=p.ignoreCase,r=p.filter,q=p.dataTextField;clearTimeout(this._typing);e>=p.minLength&&(this._state="filter","none"===r?this._filter(b):(this._open=!0,this._filterSource({value:n?b.toLowerCase():b,field:q,operator:r,ignoreCase:n})))},suggest:function(b){var e=this.input[0],p=this.text(),v=n.caret(e),r=this._last;if(r==C.BACKSPACE||r==C.DELETE)this._last=w;else if(b=b||"","string"!==typeof b&&(r=n.inArray(b[0],this.ul[0]),b=-1<r?this._text(this.dataSource.view()[r]):""),0>=v&&(v=p.toLowerCase().indexOf(b.toLowerCase())+
1),b?(r=b.toLowerCase().indexOf(p.toLowerCase()),-1<r&&(p+=b.substring(r+p.length))):p=p.substring(0,v),p.length!==v||!b)e.value=p,n.selectText(e,v,p.length)},text:function(b){b=null===b?"":b;var e=this._text,p=this.input[0],n=this.options.ignoreCase,r=b,q;if(b!==w)q=this.dataItem(),q&&e(q)===b||(n&&(r=r.toLowerCase()),this._select(function(b){b=e(b);n&&(b=(b+"").toLowerCase());return b===r}),0>this.selectedIndex&&(this._custom(b),p.value=b)),this._triggerCascade();else return p.value},toggle:function(b){this._toggle(b)},
value:function(b){var e;if(b!==w){if(null!==b&&(b=b.toString()),this._selectedValue=b,this._open||!b||!this._fetchItems(b))e=this._index(b),-1<e?this.select(e):(this.current(null),this._custom(b),this.text(b),this._placeholder()),this._prev=this._old=this._accessor(),this._oldIndex=this.selectedIndex}else return this._accessor()},_accept:function(b){b?this._focus(b):(this.text(this.text()),this._change())},_custom:function(h){var e=this.element,p=this._option;"filter"===this._state&&(this._state=
"accept");this._isSelect?(p||(p=this._option=b("<option/>"),e.append(p)),p.text(h),p[0].selected=!0):e.val(h);this._selectedValue=h},_filter:function(b){var e=this,p=e.options,n=e.dataSource,r=p.ignoreCase,q=function(m){m=e._text(m);if(m!==w){m+="";if(""!==m&&""===b)return!1;r&&(m=m.toLowerCase());return 0===m.indexOf(b)}};r&&(b=b.toLowerCase());e.ul[0].firstChild?(-1!==e._highlight(q)&&(p.suggest&&e._current&&e.suggest(e._current),e.open()),e._hideBusy()):n.one("change",function(){n.data()[0]&&e.search(b)}).fetch()},
_highlight:function(h){var e;if(h===w||null===h)return-1;h=this._get(h);e=n.inArray(h[0],this.ul[0]);-1==e&&(h=this.options.highlightFirst&&!this.text()?b(this.ul[0].firstChild):null);this.current(h);return e},_input:function(){var h=this.element.removeClass("k-input")[0],e=h.accessKey,p=this.wrapper,n=h.name||"",r,q=h.id||"";n&&(n='name="'+n+'_input" ');q&&(q='id="'+q+'_input"');r=p.find("input.k-input");r[0]||(p.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+
n+" "+q+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(this.element),r=p.find("input.k-input"));r[0].style.cssText=h.style.cssText;-1<h.maxLength&&(r[0].maxLength=h.maxLength);r.addClass(h.className).val(h.value).css({width:"100%",height:h.style.height}).attr({role:"combobox","aria-expanded":!1}).show();z&&r.attr("placeholder",this.options.placeholder);e&&
(h.accessKey="",r[0].accessKey=e);this._focused=this.input=r;this._inputWrapper=b(p[0].firstChild);this._arrow=p.find(".k-icon").attr({role:"button",tabIndex:-1});h.id&&this._arrow.attr("aria-controls",this.ul[0].id)},_keydown:function(b){var e=b.keyCode;this._last=e;clearTimeout(this._typing);e!=C.TAB&&!this._move(b)&&this._search()},_placeholder:function(b){if(!z){var e=this.input,p=this.options.placeholder,n;if(p){n=this.value();b===w&&(b=!n);e.toggleClass("k-readonly",b);if(!b){if(n)return;p=
""}e.val(p)}}},_search:function(){var b=this;b._typing=setTimeout(function(){var e=b.text();b._prev!==e&&(b._prev=e,b.search(e))},b.options.delay)},_select:function(b){var e;e=this._data();var p=this._highlight(b);this.selectedIndex=p;-1!==p&&("filter"===this._state&&(this._state="accept"),this._current.addClass("k-state-selected"),e=e[p],b=this._text(e),e=this._value(e),this._prev=this.input[0].value=b,this._accessor(e!==w?e:b,p),this._selectedValue=this._accessor(),this._placeholder(),this._optionID&&
this._current.attr("aria-selected",!0))},_wrapper:function(){var b=this.element,e=b.parent();e.is("span.k-widget")||(e=b.hide().wrap("<span />").parent(),e[0].style.cssText=b[0].style.cssText);this.wrapper=e.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(b,e){var p=b._selectedValue||b.value(),n=p&&-1===b.selectedIndex;(e||!p||n)&&this.value("")}});y.plugin(e)})(window.kendo.jQuery);
(function(b,w){function u(b,j){var k;if(null===b&&null!==j||null!==b&&null===j)return!1;k=b.length;if(k!==j.length)return!1;for(;k--;)if(b[k]!==j[k])return!1;return!0}function y(b){(b=b.firstChild)&&"none"===b.style.display&&(b=r(b,p));return b}function n(b){(b=b.lastChild)&&"none"===b.style.display&&(b=r(b,v));return b}function r(b,j){(b=b[j])&&"none"===b.style.display&&(b=r(b,j));return b}var z=window.kendo,E=z.ui,C=E.List,s=z.keys,e=z._activeElement,h=z.data.ObservableArray,t=b.proxy,p="nextSibling",
v="previousSibling",D=/"/g,q="font-family font-size font-stretch font-style font-weight letter-spacing text-transform line-height".split(" "),m=C.extend({init:function(b,j){var k;this.ns=".kendoMultiSelect";C.fn.init.call(this,b,j);this._wrapper();this._tagList();this._input();this._textContainer();this._loader();this._tabindex(this.input);j=this.options;b=this.element.attr("multiple","multiple").hide();j.placeholder||(j.placeholder=b.data("placeholder"));if(k=b.attr("id"))this._tagID=k+"_tag_active",
k+="_taglist",this.tagList.attr("id",k);this._aria(k);this._dataSource();this._ignoreCase();this._accessors();this._popup();this._values=[];this._dataItems=[];this._reset();this._enable();this._placeholder();j.autoBind&&this.dataSource.fetch();z.notify(this)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,
animation:{}},events:"open close change select dataBinding dataBound".split(" "),setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.options.autoBind&&this.dataSource.fetch()},setOptions:function(b){C.fn.setOptions.call(this,b);this._template();this._accessors();this._aria(this.tagList.attr("id"))},current:function(b){this.currentTag(null);return C.fn.current.call(this,b)},currentTag:function(b){if(b!==w)this._currentTag&&(this._currentTag.removeClass("k-state-focused").removeAttr("id"),
this.input.removeAttr("aria-activedescendant")),b&&(b.addClass("k-state-focused").attr("id",this._tagID),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=b;else return this._currentTag},dataItems:function(){return this._dataItems},destroy:function(){var b=this.ns;this.wrapper.off(b);this.tagList.off(b);this.input.off(b);C.fn.destroy.call(this)},_editable:function(d){var j=this,k=d.disable;d=d.readonly;var h=j.wrapper.off(".kendoMultiSelect"),m=j.tagList.off(".kendoMultiSelect"),
a=j.element.add(j.input.off(".kendoMultiSelect"));!d&&!k?(h.removeClass("k-state-disabled").on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",j._toggleHover).on("mousedown.kendoMultiSelect",function(a){a.preventDefault();-1==a.target.className.indexOf("k-delete")&&j.open();j.input[0]!==e()&&j.input.focus()}),j.input.on("keydown.kendoMultiSelect",t(j._keydown,j)).on("paste.kendoMultiSelect",t(j._search,j)).on("focus.kendoMultiSelect",function(){j._placeholder(!1)}).on("blur.kendoMultiSelect",
function(){clearTimeout(j._typing);j._placeholder();j.close();"filter"===j._state&&(j._state="accept")}),a.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1),m.on("mouseenter.kendoMultiSelect","li",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoMultiSelect","li",function(){b(this).removeClass("k-state-hover")}).on("click.kendoMultiSelect",".k-delete",function(a){j._unselect(b(a.target).closest("li"));j._change();j.close()})):(k?h.addClass("k-state-disabled"):
h.removeClass("k-state-disabled"),a.attr("disabled",k).attr("readonly",d).attr("aria-disabled",k).attr("aria-readonly",d))},close:function(){this.popup.close();this.current(null)},open:function(){!this.ul[0].firstChild||"accept"===this._state?(this._state="",this._open=!0,this._filterSource()):this._visibleItems&&this._allowSelection()&&(this.popup.open(),this.current(this.options.highlightFirst?b(y(this.ul[0])):null))},toggle:function(b){this[b?"open":"close"]()},refresh:function(){var d=null,j;
this.trigger("dataBinding");j=this._render(this.dataSource.view());this._height(j);this._setInitialValues&&(this._setInitialValues=!1,this.value(this._initialValues));this._open&&(this._open=!1,this.toggle(j));this.popup.visible()&&(this.popup._position(),this.options.highlightFirst&&(d=b(y(this.ul[0]))));this.current(d);this._touchScroller&&this._touchScroller.reset();this._makeUnselectable();this._hideBusy();this.trigger("dataBound")},search:function(b){var j=this.options,k=j.ignoreCase,h=j.filter,
e=j.dataTextField;clearTimeout(this._typing);b="string"===typeof b?b:this.input.val();b.length>=j.minLength&&(this._state="filter",this._open=!0,this._filterSource({value:k?b.toLowerCase():b,field:e,operator:h,ignoreCase:k}))},value:function(d){var j=b(this.tagList[0].children),k=j.length,e=0;if(d===w)return this._values;if(!this._fetchItems(d)){for(;e<k;e++)this._unselect(j.eq(e));if(null!==d){d=b.isArray(d)||d instanceof h?d:[d];e=0;for(k=d.length;e<k;e++)j=this._index(d[e]),-1<j&&this._select(j);
this._old=this._values.slice()}}},_dataSource:function(){var d=this.element,j=this.options,k=j.dataSource||{},k=b.isArray(k)?{data:k}:k;k.select=d;k.fields=[{field:j.dataTextField},{field:j.dataValueField}];this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=t(this.refresh,this),this._progressHandler=t(this._showBusy,this));this.dataSource=z.data.DataSource.create(k).bind("change",this._refreshHandler).bind("progress",this._progressHandler)},_fetchItems:function(b){var j=
this;if(!j._fetch&&!j.ul[0].firstChild)return j.dataSource.one("change",function(){j.value(b);j._fetch=!1}),j._fetch=!0,j.dataSource.fetch(),!0},_reset:function(){var b=this,j=b.element.closest("form");j[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initialValues)})},b._form=j.on("reset",b._resetHandler))},_initValue:function(){var b=this.options.value||this.element.val();null===b&&(b=[]);this._old=this._initialValues=b;this._setInitialValues=!!b[0]},_change:function(){var b=this.value();
u(b,this._old)||(this._old=b.slice(),this.trigger("change"),this.element.trigger("change"))},_click:function(d){var j=b(d.currentTarget);d.isDefaultPrevented()||(this.trigger("select",{item:j})||(this._select(j),this._change()),this.close())},_item:function(b,j){b=b[j]();b[0]&&!b.is(":visible")&&(b=this._item(b,j));return b},_keydown:function(d){var j=d.keyCode,k=this._currentTag,e=this._current,h=this.input.val(),a=z.support.isRtl(this.wrapper),c=this.popup.visible();j===s.DOWN?(d.preventDefault(),
c?(e=e?r(e[0],p):this.ul[0].firstChild)&&this.current(b(e)):this.open()):j===s.UP?(c&&(e=e?r(e[0],v):this.ul[0].lastChild,this.current(b(e)),this._current[0]||this.close()),d.preventDefault()):j===s.LEFT&&!a||j===s.RIGHT&&a?h||(k=k?k.prev():b(this.tagList[0].lastChild),k[0]&&this.currentTag(k)):j===s.RIGHT&&!a||j===s.LEFT&&a?!h&&k&&(k=k.next(),this.currentTag(k[0]?k:null)):j===s.ENTER?c&&(e&&this._select(e),this._change(),this.close(),d.preventDefault()):j===s.ESC?(c?d.preventDefault():this.currentTag(null),
this.close()):j===s.HOME?c?this.current(b(y(this.ul[0]))):h||(k=this.tagList[0].firstChild)&&this.currentTag(b(k)):j===s.END?c?this.current(b(n(this.ul[0]))):h||(k=this.tagList[0].lastChild)&&this.currentTag(b(k)):(j===s.DELETE||j===s.BACKSPACE)&&!h?(j===s.BACKSPACE&&!k&&(k=b(this.tagList[0].lastChild)),k&&k[0]&&(this._unselect(k),this._change(),this.close())):(clearTimeout(this._typing),this._search())},_hideBusy:function(){clearTimeout(this._busy);this.input.attr("aria-busy",!1);this._loading.addClass("k-loading-hidden");
this._busy=null},_showBusy:function(){var b=this;b._busy||(b._busy=setTimeout(function(){b.input.attr("aria-busy",!0);b._loading.removeClass("k-loading-hidden")},100))},_placeholder:function(b){var j=this.input;b===w?(b=!1,j[0]!==e()&&(b=!this._dataItems[0]),this.wrapper.removeClass("k-state-focused")):this.wrapper.addClass("k-state-focused");j.toggleClass("k-readonly",b).val(b?this.options.placeholder:"");this._scale()},_scale:function(){var b=this.wrapper.width(),j=this._span.text(this.input.val()),
k;b?k=j.width()+25:(j.appendTo(document.documentElement),b=k=j.width()+25,j.appendTo(this.wrapper));this.input.width(k>b?b:k)},_option:function(b,j){var k="<option",e=this._text(b),h=this._value(b);h!==w&&(h+="",-1!==h.indexOf('"')&&(h=h.replace(D,"&quot;")),k+=' value="'+h+'"');j&&(k+=' selected="selected"');k+=">";e!==w&&(k+=z.htmlEncode(e));return k+"</option>"},_render:function(b){for(var j=b.length,k=this.itemTemplate,e=this._dataItems.slice(0),h=0,a=0,c="",l="",B,f;a<j;a++)B=b[a],f=this._selected(e,
B),l+=k(B,a,f),c+=this._option(B,f),f||(h+=1);if(j=e.length)for(a=0;a<j;a++)c+=this._option(e[a],!0);this.ul[0].innerHTML=l;this.element.html(c);return this._visibleItems=h},_selected:function(b,j){var k=this._text,e=this._value,h=e(j),a=b.length,c=!1,l,B=0;for(h===w&&(h=k(j));B<a;B++)if(j=b[B],l=e(j),l===w&&(l=k(j)),l!==w&&l===h){c=!0;break}c&&b.splice(B,1);return c},_search:function(){var b=this;b._typing=setTimeout(function(){var j=b.input.val();b._prev!==j&&(b._scale(),b._prev=j,b.search(j))},
b.options.delay)},_allowSelection:function(){var b=this.options.maxSelectedItems;return null===b||b>this._values.length},_select:function(b){var j=this._values;this._allowSelection()&&(isNaN(b)?b=b.hide().data("idx"):this.ul[0].children[b].style.display="none",this.element[0].children[b].selected=!0,b=this.dataSource.view()[b],this.tagList.append(this.tagTemplate(b)),this._dataItems.push(b),j.push(this._dataValue(b)),this._visibleItems-=1,this.currentTag(null),this._placeholder(),this._height(this._visibleItems),
"filter"===this._state&&(this._state="accept"))},_unselect:function(d){var j=d.index(),k,e,h;d.remove();this.currentTag(null);this._values.splice(j,1);j=this._dataItems.splice(j,1)[0];d=this._dataValue(j);j=this._index(d);if(-1!==j)b(this.ul[0].children[j]).show(),this.element[0].children[j].selected=!1,this._visibleItems+=1,this._height(this._visibleItems);else{j=this.dataSource.view().length;k=this.element[0].children;for(h=k.length;j<h;j++)if(e=k[j],e.value==d){e.selected=!1;break}}this._placeholder()},
_template:function(){var b=this.options,j=b.itemTemplate,k=b.tagTemplate,e=b.dataSource;this.element[0].length&&!e&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value");b=z.template("#:"+z.expr(b.dataTextField,"data")+"#",{useWithBlock:!1});j=j?z.template(j):b;k=k?z.template(k):b;this.itemTemplate=function(b,a,c){return'<li tabindex="-1" role="option" data-idx="'+a+'" unselectable="on" class="k-item"'+(c?' style="display:none"':"")+">"+j(b)+"</li>"};this.tagTemplate=
function(b){return'<li class="k-button"><span>'+k(b)+'</span><span class="k-icon k-delete">delete</span></li>'}},_input:function(){var d=this.element[0].accessKey,j=this._innerWrapper.children("input.k-input");j[0]||(j=b('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper));this.element.removeAttr("accesskey");this._focused=this.input=j.attr({accesskey:d,role:"listbox","aria-expanded":!1})},_tagList:function(){var d=this._innerWrapper.children("ul");d[0]||(d=b('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper));
this.tagList=d},_loader:function(){this._loading=b('<span class="k-icon k-loading k-loading-hidden"></span>').insertAfter(this.input)},_textContainer:function(){var d=z.getComputedStyles(this.input[0],q);d.position="absolute";d.visibility="hidden";this._span=b("<span/>").css(d).appendTo(this.wrapper)},_wrapper:function(){var d=this.element,j=d.parent("span.k-multiselect");j[0]||(j=d.wrap('<div class="k-widget k-multiselect k-header" />').parent(),j[0].style.cssText=d[0].style.cssText,b('<div class="k-multiselect-wrap k-floatwrap" />').insertBefore(d));
this.wrapper=j.addClass(d[0].className).css("display","");this._innerWrapper=b(j[0].firstChild)}});E.plugin(m)})(window.kendo.jQuery);
(function(b,w,u){function y(a,b,d){if((d=r(d))&&!d.equals(a.color()))"change"==b&&(a._value=d),d=1!=d.a?d.toCssRgba():d.toCss(),a.trigger(b,{value:d})}function n(a,b){for(a=a.toString(16);b>a.length;)a="0"+a;return a}function r(a,b){if(null==a||"transparent"==a)return null;if(a instanceof k)return a;var d=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(d)return new A(w(d[1],16),w(d[2],16),w(d[3],16),1);if(d=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a))return new A(w(d[1]+d[1],16),w(d[2]+
d[2],16),w(d[3]+d[3],16),1);if(d=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))return new A(w(d[1],10),w(d[2],10),w(d[3],10),1);if(d=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))return new A(w(d[1],10),w(d[2],10),w(d[3],10),parseFloat(d[4]));if(d=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))return new x(parseFloat(d[1])/100,parseFloat(d[2])/100,parseFloat(d[3])/100,1);if(d=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))return new x(parseFloat(d[1])/
100,parseFloat(d[2])/100,parseFloat(d[3])/100,parseFloat(d[4]));if(!b)throw Error("Cannot parse color: "+a);return u}function z(a,b,d){a=Array.prototype.slice.call(a);var f=a.length;b=a.indexOf(b);if(0>b)return 0>d?a[f-1]:a[0];b+=d;return a[0>b?b+f:b%f]}function E(a){a.preventDefault()}function C(a,b){return function(){return a.apply(b,arguments)}}var s=window.kendo,e=s.Class,h=s.ui,t=h.Widget,p=s.keys,v={apply:"Apply",cancel:"Cancel"},D=s.support.browser,q=D.msie&&9>D.version,m=t.extend({init:function(a,
b){var d;t.fn.init.call(this,a,b);a=this.element;b=this.options;this._value=b.value=r(b.value);(d=this._ariaId=b.ariaId)&&a.attr("aria-labelledby",d);b._standalone&&(this._triggerSelect=this._triggerChange)},options:{value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){a!==u&&this._updateUI(this._value=r(a));return this._value},value:function(a){(a=this.color(a))&&(a=this.options.opacity?a.toCssRgba():a.toCss());return a||null},enable:function(a){0===arguments.length&&
(a=!0);a?b(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>");this._onEnable(a)},_select:function(a,b){var d=this._value;a=this.color(a);b||(a.equals(d)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){y(this,"select",a)},_triggerChange:function(a){y(this,"change",a)},destroy:function(){this.element&&this.element.off(".kendoColorTools");this.wrapper&&this.wrapper.off(".kendoColorTools").find("*").off(".kendoColorTools");
this.wrapper=null;t.fn.destroy.call(this)},_updateUI:b.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),d=m.extend({init:function(a,d){var k=this;m.fn.init.call(k,a,d);a=k.wrapper=k.element;d=k.options;var f=d.palette;"websafe"==f?(f="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",
d.columns=18):"basic"==f&&(f="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7");"string"==typeof f&&(f=f.split(","));b.isArray(f)&&(f=b.map(f,function(a){return r(a)}));a.addClass("k-widget k-colorpalette").append(b(k._template({colors:f,tileSize:d.tileSize,value:k._value,id:d.ariaId}))).on("click.kendoColorTools",".k-item",function(a){k._select(b(a.currentTarget).find("div").css("background-color"))}).find("*").attr("unselectable",
"on").end().attr("tabIndex",0).on("keydown.kendoColorTools",C(k._keydown,k));var f=d.tileSize,g;if(f){if(/number|string/.test(typeof f))g=f=parseFloat(f);else if("object"==typeof f)g=parseFloat(f.width),f=parseFloat(f.height);else throw Error("Unsupported value for the 'tileSize' argument");a.find(".k-item").css({width:g,height:f})}d.columns&&a.css("width",d.columns*(g||14))},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?
this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(a){var d,k=this.wrapper.find(".k-item"),f=k.filter(".k-state-selected").get(0),g=a.keyCode;g==p.LEFT?d=z(k,f,-1):g==p.RIGHT?d=z(k,f,1):g==p.DOWN?d=z(k,f,this.options.columns):g==p.UP?d=z(k,f,-this.options.columns):g==p.ENTER?(E(a),f&&this._select(b("div",f).css("background-color"))):g==p.ESC&&this._cancel();if(d){E(a);d=b(d);b(f).removeClass("k-state-selected").removeAttr("aria-selected");d.addClass("k-state-selected").attr("aria-selected",
!0);try{var j=r(d.find("div").css("background-color"));this._triggerSelect(j)}catch(e){}}},_updateUI:function(a){var d=null;this.wrapper.find(".k-item.k-state-selected").removeClass("k-state-selected").removeAttr("aria-selected");this.wrapper.find(".k-item div").each(function(){var k=r(b(this).css("background-color"));k&&k.equals(a)&&(d=this.parentNode)});b(d).addClass("k-state-selected").attr("aria-selected",!0)},_template:s.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "k-state-selected" : "" #" aria-label="#= colors[i].toCss() #"><div style="background-color:#= colors[i].toCss() #"></div></li># } #</ul>')}),
j=m.extend({init:function(a,d){var k=this;m.fn.init.call(k,a,d);d=k.options;a=k.element;k.wrapper=a.addClass("k-widget k-flatcolorpicker").append(k._template(d)).find("*").attr("unselectable","on").end();q&&k._applyIEFilter();k._hueElements=b(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",a);k._selectedColor=b(".k-selected-color-display",a);k._colorAsText=b("input.k-color-value",a);k._sliders();k._hsvArea();k._updateUI(k._value||new x(1,0,0,1));a.find("input.k-color-value").on("keydown.kendoColorTools",
function(a){if(a.keyCode==p.ENTER)try{var c=r(this.value),d=k.color();b(this).removeClass("k-state-error");k._select(c,!c.equals(d))}catch(l){b(this).addClass("k-state-error")}}).end().on("click.kendoColorTools",".k-controls button.apply",function(){k._select(k._getHSV())}).on("click.kendoColorTools",".k-controls button.cancel",function(){k._updateUI(k.color());k._cancel()})},destroy:function(){this._hueSlider.destroy();this._opacitySlider&&this._opacitySlider.destroy();this._hueSlider=this._opacitySlider=
this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;m.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,messages:v},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage,b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){function a(c){d._updateUI(d._getHSV(c.value,
null,null,null))}function b(a){d._updateUI(d._getHSV(null,null,null,a.value/100))}var d=this,f=d.element;d._hueSlider=f.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:a,change:a}).data("kendoSlider");d._opacitySlider=f.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:b,change:b}).data("kendoSlider")},_hsvArea:function(){function a(c,f){var d=this.offset,k=c-d.left,d=f-d.top,j=this.width,e=this.height;b._svChange((0>
k?0:k>j?j:k)/j,1-(0>d?0:d>e?e:d)/e)}var b=this,d=b.element.find(".k-hsv-rectangle"),f=d.find(".k-draghandle").attr("tabIndex",0).on("keydown.kendoColorTools",C(b._keydown,b));b._hsvEvents=new s.UserEvents(d,{global:!0,press:function(b){this.offset=s.getOffset(d);this.width=d.width();this.height=d.height();f.focus();a.call(this,b.x.location,b.y.location)},start:function(){d.addClass("k-dragging");f.focus()},move:function(b){b.preventDefault();a.call(this,b.x.location,b.y.location)},end:function(){d.removeClass("k-dragging")}});
b._hsvRect=d;b._hsvHandle=f},_onEnable:function(a){this._hueSlider.enable(a);this._opacitySlider&&this._opacitySlider.enable(a);this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",0):b.removeAttr("tabIndex")},_keydown:function(a){function b(g,d){var l=f._getHSV();l[g]+=d*(a.shiftKey?0.01:0.05);0>l[g]&&(l[g]=0);1<l[g]&&(l[g]=1);f._updateUI(l);E(a)}function d(b){var l=f._getHSV();l.h+=b*(a.shiftKey?1:5);0>l.h&&(l.h=0);359<l.h&&(l.h=359);f._updateUI(l);
E(a)}var f=this;switch(a.keyCode){case p.LEFT:a.ctrlKey?d(-1):b("s",-1);break;case p.RIGHT:a.ctrlKey?d(1):b("s",1);break;case p.UP:b(a.ctrlKey&&f._opacitySlider?"a":"v",1);break;case p.DOWN:b(a.ctrlKey&&f._opacitySlider?"a":"v",-1);break;case p.ENTER:f._select(f._getHSV());break;case p.F2:f.wrapper.find("input.k-color-value").focus().select();break;case p.ESC:f._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(c,b,d,f){var g=this._hsvRect,k=g.width(),g=g.height(),j=this._hsvHandle.position();
null==c&&(c=this._hueSlider.value());null==b&&(b=j.left/k);null==d&&(d=1-j.top/g);null==f&&(f=this._opacitySlider?this._opacitySlider.value()/100:1);return new a(c,b,d,f)},_svChange:function(a,b){var d=this._getHSV(null,a,b,null);this._updateUI(d)},_updateUI:function(c){var b=this._hsvRect;c&&(this._selectedColor.css("background-color",c.toDisplay()),this._colorAsText.val(this._opacitySlider?c.toCssRgba():c.toCss()),this._triggerSelect(c),c=c.toHSV(),this._hsvHandle.css({left:c.s*b.width()+"px",top:(1-
c.v)*b.height()+"px"}),this._hueElements.css("background-color",(new a(c.h,1,1,1)).toCss()),this._hueSlider.value(c.h),this._opacitySlider&&this._opacitySlider.value(100*c.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:s.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input spellcheck="false" class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),
k=e.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat((+this.a).toFixed(3))+")"},toDisplay:function(){return q?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toHex()==r(a).toHex()},diff:function(a){if(null==a)return NaN;var b=this.toBytes();
a=a.toBytes();return Math.sqrt(Math.pow(0.3*(b.r-a.r),2)+Math.pow(0.59*(b.g-a.g),2)+Math.pow(0.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();a===this&&(a=new A(a.r,a.g,a.b,a.a));return a}}),x=k.extend({init:function(a,b,d,f){this.r=a;this.g=b;this.b=d;this.a=f},toHSV:function(){var c,b,d,f;f=this.r;var g=this.g,k=this.b;c=Math.min(f,g,k);b=Math.max(f,g,k);d=b-c;if(0===d)return new a(0,0,b,this.a);0!==b?(c=d/b,f=60*(f==b?(g-k)/d:g==b?2+(k-f)/d:4+(f-g)/d),0>f&&(f+=360)):(c=0,f=-1);return new a(f,
c,b,this.a)},toBytes:function(){return new A(255*this.r,255*this.g,255*this.b,this.a)}}),A=x.extend({init:function(a,b,d,f){this.r=Math.round(a);this.g=Math.round(b);this.b=Math.round(d);this.a=f},toRGB:function(){return new x(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return n(this.r,2)+n(this.g,2)+n(this.b,2)},toBytes:function(){return this}}),a=k.extend({init:function(a,b,d,f){this.h=a;this.s=b;this.v=d;this.a=f},toRGB:function(){var a=
this.h,b=this.s,d=this.v,f,g,k;if(0===b)f=b=d;else switch(a/=60,f=Math.floor(a),g=a-f,a=d*(1-b),k=d*(1-b*g),g=d*(1-b*(1-g)),f){case 0:f=d;b=g;d=a;break;case 1:f=k;b=d;d=a;break;case 2:f=a;b=d;d=g;break;case 3:f=a;b=k;break;case 4:f=g;b=a;break;default:f=d,b=a,d=k}return new x(f,b,d,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),e=t.extend({init:function(a,d){var k=this;t.fn.init.call(k,a,d);d=k.options;a=k.element;var f;f=a.val()?r(a.val(),!0):r(d.value,!0);k._value=d.value=f;var g=
k.wrapper=b(k._template(d));a.hide().after(g);a.is("input")&&a.appendTo(g);k.enable(!a.attr("disabled"));var j=a.attr("accesskey");j&&(a.attr("accesskey",null),g.attr("accesskey",j));k.bind("activate",function(a){a.isDefaultPrevented()||k.toggle()});k._updateUI(f)},destroy:function(){this.wrapper.add("*").off(".kendoColorTools");this._popup&&(this._selector.destroy(),this._popup.destroy());this._selector=this._popup=this.wrapper=null;t.fn.destroy.call(this)},enable:function(a){var b=this,d=b.wrapper,
f=d.children(".k-picker-wrap"),g=f.find(".k-select");0===arguments.length&&(a=!0);b.element.attr("disabled",!a);d.attr("disabled",!a);g.off(".kendoColorTools").on("mousedown.kendoColorTools",E);if(a)d.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter.kendoColorTools",function(){f.addClass("k-state-hover")}).on("mouseleave.kendoColorTools",function(){f.removeClass("k-state-hover")}).on("focus.kendoColorTools",function(){f.addClass("k-state-focused")}).on("blur.kendoColorTools",function(){f.removeClass("k-state-focused")}).on("keydown.kendoColorTools",
C(b._keydown,b)).on("click.kendoColorTools",".k-icon",C(b.toggle,b)).on("click.kendoColorTools",b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")});else d.addClass("k-state-disabled").removeAttr("tabIndex").add("*",d).off(".kendoColorTools")},_template:s.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),
options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:v,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:m.fn.color,value:m.fn.value,_select:m.fn._select,_triggerSelect:m.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},
_updateUI:function(a){a&&(this._isInputTypeColor()||1==a.a?this.element.val(a.toCss()):this.element.val(a.toCssRgba()));this._triggerSelect(a);this.wrapper.find(".k-selected-color").css("background-color",a?a.toDisplay():"transparent")},_keydown:function(a){var b=a.keyCode;if(this._getPopup().visible())b==p.ESC?this._selector._cancel():this._selector._keydown(a),E(a);else if(b==p.ENTER||b==p.DOWN)this.open(),E(a)},_getPopup:function(){var a=this,l=a._popup;if(!l){var l=this.options,k;k=l.palette?
d:j;l._standalone=!1;var f=this._selector=new k(b("<div />").appendTo(document.body),l);a._popup=l=f.wrapper.kendoPopup({anchor:a.wrapper}).data("kendoPopup");f.bind({select:function(b){a._updateUI(r(b.value))},change:function(){a._select(f.color());a.close()},cancel:function(){a.close()}});l.bind({close:function(b){a.trigger("close")?b.preventDefault():(b=f._selectOnHide())?a._select(b):(a.wrapper.focus(),a._updateUI(a.color()))},open:function(b){a.trigger("open")&&b.preventDefault()},activate:function(){f._select(a.color(),
!0);f.focus()}})}return l}});h.plugin(d);h.plugin(j);h.plugin(e);s.parseColor=r;s.Color={fromBytes:function(a,b,d,f){return new A(a,b,d,null!=f?f:1)},fromRGB:function(a,b,d,f){return new x(a,b,d,null!=f?f:1)},fromHSV:function(c,b,d,f){return new a(c,b,d,null!=f?f:1)}}})(jQuery,parseInt);
(function(b,w){var u=window.kendo,y=u.ui,n=b.proxy,r=b.extend,z=b.grep,E=b.map,C=b.inArray,s=/(\[|\]|\$|\.|\:|\+)/g,e=y.Widget,h=e.extend({init:function(h,t){var r;e.fn.init.call(this,h,t);h=this.element;t=this.options;this.owner=t.owner;this.dataSource=t.dataSource;this.field=h.attr(u.attr("field"));r=h.find(".k-header-column-menu");r[0]||(r=h.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu"));this.link=r.attr("tabindex",
-1).on("click.kendoColumnMenu",n(this._click,this));this.wrapper=b('<div class="k-column-menu"/>')},_init:function(){var b=this.options;this.wrapper.html(u.template(t)({ns:u.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:this._ownerColumns(),showColumns:b.columns}));this.popup=this.wrapper.kendoPopup({anchor:this.link,open:n(this._open,this),activate:n(this._activate,this),close:this.options.closeCallback}).data("kendoPopup");this._menu();this._sort();this._columns();this._filter();
this.trigger("init",{field:this.field,container:this.wrapper})},events:["init"],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){e.fn.destroy.call(this);this.filterMenu&&this.filterMenu.destroy();this.dataSource.unbind("refresh",this._refreshHandler);this.options.columns&&(this.owner.unbind("columnShow",this._updateColumnsMenuHandler),this.owner.unbind("columnHide",
this._updateColumnsMenuHandler));this.menu&&(this.menu.element.off(".kendoColumnMenu"),this.menu.destroy());this.wrapper.off(".kendoColumnMenu");this.popup&&this.popup.destroy();this.link.off(".kendoColumnMenu")},close:function(){this.menu.close();this.popup.close();this.popup.element.off("keydown.kendoColumnMenu")},_click:function(b){b.preventDefault();b.stopPropagation();this.popup||this._init();this.popup.toggle()},_open:function(){var e=this;b(".k-column-menu").not(e.wrapper).each(function(){b(this).data("kendoPopup").close()});
e.popup.element.on("keydown.kendoColumnMenu",function(b){b.keyCode==u.keys.ESC&&e.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var e=this.owner.columns,h=z(e,function(e){var h=!0,m=b.trim(e.title||"").replace(/&nbsp;/gi,"");if(!1===e.menu||!e.field&&!m.length)h=!1;return h});return E(h,function(b){return{field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:C(b,e)}})},_menu:function(){this.menu=this.wrapper.children().kendoMenu({orientation:"vertical",
closeOnClick:!1}).data("kendoMenu")},_sort:function(){var e=this;e.options.sortable&&(e.refresh(),e._refreshHandler=n(e.refresh,e),e.dataSource.bind("change",e._refreshHandler),e.menu.bind("select",function(h){h=b(h.item);var n;h.hasClass("k-sort-asc")?n="asc":h.hasClass("k-sort-desc")&&(n="desc");n&&(h.parent().find(".k-sort-"+("asc"==n?"desc":"asc")).removeClass("k-state-selected"),e._sortDataSource(h,n),e.close())}))},_sortDataSource:function(b,e){var h=this.options.sortable,q=this.dataSource,
m,d=q.sort()||[];b.hasClass("k-state-selected")&&h&&!1!==h.allowUnsort?(b.removeClass("k-state-selected"),e=w):b.addClass("k-state-selected");if(!0===h||"single"===h.mode)d=[{field:this.field,dir:e}];else{h=0;for(m=d.length;h<m;h++)if(d[h].field===this.field){d.splice(h,1);break}d.push({field:this.field,dir:e})}q.sort(d)},_columns:function(){var e=this;e.options.columns&&(e._updateColumnsMenu(),e._updateColumnsMenuHandler=n(e._updateColumnsMenu,e),e.owner.bind(["columnHide","columnShow"],e._updateColumnsMenuHandler),
e.menu.bind("select",function(h){var n=b(h.item);h=e.owner.columns;var q;n.parent().closest("li.k-columns-item")[0]&&(n=n.find(":checkbox"),n.attr("disabled")||(q=n.attr(u.attr("field")),n=z(h,function(b){return b.field==q||b.title==q})[0],h=C(n,h),!0===n.hidden?e.owner.showColumn(h):e.owner.hideColumn(h)))}))},_updateColumnsMenu:function(){var b="["+u.attr("field")+"=",e=this._ownerColumns(),h=E(e,function(e){return b+'"'+e.field.replace(s,"\\$1")+'"]'}).join(","),e=z(e,function(b){return!b.hidden}),
q=E(e,function(e){return b+'"'+e.field.replace(s,"\\$1")+'"]'}).join(",");this.wrapper.find(h).prop("checked",!1);this.wrapper.find(q).prop("checked",!0).prop("disabled",1==e.length)},_filter:function(){var b=this.options;!1!==b.filterable&&(this.filterMenu=this.wrapper.find(".k-filterable").kendoFilterMenu(r(!0,{},{appendToElement:!0,dataSource:b.dataSource,values:b.values,field:this.field},b.filterable)).data("kendoFilterMenu"))},refresh:function(){var b=this.options.dataSource.sort()||[],e,h=this.field,
q,m;this.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass("k-state-selected");q=0;for(m=b.length;q<m;q++)e=b[q],h==e.field&&this.wrapper.find(".k-sort-"+e.dir).addClass("k-state-selected")}}),t='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';
y.plugin(h)})(window.kendo.jQuery);
(function(b,w){function u(a){return Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function y(a){var c,b=" ";if(a){if(typeof a===K)return a;for(c in a)b+=c+'="'+a[c]+'"'}return b}function n(a){var c=0;b("> .k-grouping-header, > .k-grid-toolbar",a).each(function(){c+=this.offsetHeight});return c}function r(a,c){b("th, th .k-grid-filter, th .k-link",a).add(document.body).css("cursor",c)}function z(a){var c,b,f={},g={};if(!P(a)){F(a)||(a=[a]);c=0;for(b=a.length;c<b;c++)f[a[c].aggregate]=0,g[a[c].field]=
f}return g}function E(a,c,b){var f=a.eq(c);a=a.eq(b);f[c>b?"insertBefore":"insertAfter"](a)}function C(a){return g(a,function(a){return!a.hidden})}function s(a){a=a||{};var c=a.style;c?(c=c.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),c===a.style&&(c=c.replace(/(.*)?/i,"display:none;$1"))):c="display:none";return B({},a,{style:c})}function e(a){a=a||{};var c=a.style;c&&(a.style=c.replace(/(display\s*:\s*none\s*;?)*/gi,""));return a}function h(a,c,g,d){var l=a.find(">colgroup"),k,j=m.support.browser;
c=f(c,function(a){return(k=a.width)&&0!==parseInt(k,10)?m.format('<col style="width:{0}"/>',typeof k===K?k:k+"px"):"<col />"});(g||l.find(".k-hierarchy-col").length)&&c.splice(0,0,'<col class="k-hierarchy-col" />');l.length&&l.remove();l=b("<colgroup/>").append(b(Array(d+1).join('<col class="k-group-col">')+c.join("")));a.prepend(l);j.msie&&8==j.version&&(a.css("display","inline-table"),window.setTimeout(function(){a.css("display","")},1))}function t(a){var c={},b,f,g;f=0;for(g=a.length;f<g;f++)b=
a[f],c[b.value]=b.text;return c}function p(a,c,b){for(var f=0,g,d=a[f];d;){if((g=b?!0:"none"!==d.style.display)&&!Q.test(d.className)&&0>--c){d.style.display=b?"":"none";break}d=a[++f]}}function v(a,c){var b,f,g;if(typeof a===K&&a===c||l(a)&&a.name===c)return a;if(F(a)){b=0;for(f=a.length;b<f;b++)if(g=a[b],typeof g===K&&g===c||g.name===c)return g}return null}function D(a,c){var f=m.support.browser.msie;if(!0===c){a=b(a);var g=f&&a.parent().is(".k-grid-content,.k-grid-header-wrap"),d,l;g&&(d=a.parent().scrollTop(),
l=a.parent().scrollLeft());if(f)try{a[0].setActive()}catch(k){a[0].focus()}else a[0].focus();g&&(a.parent().scrollTop(d),a.parent().scrollLeft(l))}else b(a).one("focusin",function(a){a.preventDefault()}).focus()}function q(a){var c=b(a.currentTarget),f=c.is("th"),g=c.closest("table")[0];g!==this.table[0]&&g!==this.thead.parent()[0]||(this.current(c),(f||!b(a.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input"))&&setTimeout(function(){D(g,!0)}),f&&a.preventDefault())}var m=window.kendo,
d=m.ui,j=m.data.DataSource,k=d.Groupable,x=m.support.tbodyInnerHtml,A=m._activeElement,a=d.Widget,c=m.keys,l=b.isPlainObject,B=b.extend,f=b.map,g=b.grep,F=b.isArray,G=b.inArray,H=b.proxy,N=b.isFunction,P=b.isEmptyObject,L=Math,U="th.k-header:not(.k-group-cell,.k-hierarchy-cell):visible["+m.attr("field")+"]",I="th.k-header:not(.k-group-cell,.k-hierarchy-cell)["+m.attr("field")+"]",K="string",O=/(\}|\#)/gi,V=/#/gi,Q=/(^|[\x20\t\r\n\f])(k-group-cell|k-hierarchy-cell)([\x20\t\r\n\f]|$)/,W=!1,R=a.extend({init:function(c,
b){a.fn.init.call(this,c,b);this._refreshHandler=H(this.refresh,this);this.setDataSource(b.dataSource);this.wrap()},setDataSource:function(a){this.dataSource&&this.dataSource.unbind("change",this._refreshHandler);this.dataSource=a;this.dataSource.bind("change",this._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:b.noop},destroy:function(){a.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.wrapper.add(this.verticalScrollbar).off(".kendoGrid");this.drag&&
this.drag.destroy()},wrap:function(){var a=this,c=m.support.scrollbar()+1,f=a.element,g;f.css({width:"auto",overflow:"hidden"}).css(W?"padding-left":"padding-right",c);a.content=f.children().first();g=a.wrapper=a.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll.kendoGrid mousewheel.kendoGrid",H(a._wheelScroll,a));m.support.kineticScrollNeeded&&(a.drag=new m.UserEvents(a.wrapper,{global:!0,move:function(c){a.verticalScrollbar.scrollTop(a.verticalScrollbar.scrollTop()-
c.y.delta);g.scrollLeft(g.scrollLeft()-c.x.delta);c.preventDefault()}}));a.verticalScrollbar=b('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:c}).appendTo(f).bind("scroll.kendoGrid",H(a._scroll,a))},_wheelScroll:function(a){var c=this.verticalScrollbar.scrollTop(),b=a.originalEvent,f=b.wheelDeltaY,g;if(b.wheelDelta){if(f===w||f)g=b.wheelDelta}else b.detail&&b.axis===b.VERTICAL_AXIS&&(g=10*-b.detail);g&&(a.preventDefault(),this.verticalScrollbar.scrollTop(c+-g))},_scroll:function(a){a=
a.currentTarget.scrollTop;var c=this.itemHeight,b=this.dataSource.skip()||0,b=this._rangeStart||b,f=this.element.innerHeight(),g=!!(this._scrollbarTop&&this._scrollbarTop>a),d=L.max(L.floor(a/c),0),f=L.max(d+L.floor(f/c),0);this._scrollTop=a-b*c;this._scrollbarTop=a;this._fetch(d,f,g)||(this.wrapper[0].scrollTop=this._scrollTop)},_fetch:function(a,c,b){var f=this.dataSource,g=this.itemHeight,d=f.take(),l=this._rangeStart||f.skip()||0,k=L.floor(a/d)*d,j=!1;a<l?(j=!0,l=L.max(0,c-d),this._scrollTop=
(a-l)*g,this._page(l,d)):c>=l+d&&!b?(j=!0,this._scrollTop=g,this._page(a,d)):this._fetching||(a<k+d-0.33*d&&a>d&&f.prefetch(k-d,d),c>k+0.33*d&&f.prefetch(k+d,d));return j},_page:function(a,c){var b=this.dataSource;clearTimeout(this._timeout);this._fetching=!0;this._rangeStart=a;b.inRange(a,c)?b.range(a,c):(m.ui.progress(this.wrapper.parent(),!0),this._timeout=setTimeout(function(){b.range(a,c)},100))},refresh:function(){var a="",c=this.dataSource,b=this._rangeStart,f=!m.support.kineticScrollNeeded?
m.support.scrollbar():0,g=this.wrapper[0],d;m.ui.progress(this.wrapper.parent(),!1);clearTimeout(this._timeout);d=this.itemHeight=this.options.itemHeight()||0;f=g.scrollWidth>g.offsetWidth?f:0;d=c.total()*d+f;for(f=0;f<L.floor(d/25E4);f++)a+='<div style="width:1px;height:250000px"></div>';d%25E4&&(a+='<div style="width:1px;height:'+d%25E4+'px"></div>');this.verticalScrollbar.html(a);g.scrollTop=this._scrollTop;this.drag&&this.drag.cancel();b&&!this._fetching&&(this._rangeStart=c.skip());this._fetching=
!1}}),aa={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",
imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},na=a.extend({init:function(c,b){b=F(b)?{dataSource:b}:b;a.fn.init.call(this,c,b);W=m.support.isRtl(c);this._element();this._aria();this._columns(this.options.columns);this._dataSource();this._tbody();this._pageable();this._thead();this._groupable();this._toolbar();this._setContentHeight();this._templates();this._navigatable();this._selectable();
this._details();this._editable();this._attachCustomCommandsEvent();this.options.autoBind?this.dataSource.fetch():this._footer();m.notify(this)},events:"change dataBinding cancel dataBound detailExpand detailCollapse detailInit filterMenuInit columnMenuInit edit save remove saveChanges columnResize columnReorder columnShow columnHide".split(" "),setDataSource:function(a){this.options.dataSource=a;this._dataSource();this._pageable();this.options.groupable&&this._groupable();this._thead();this.virtualScrollable&&
this.virtualScrollable.setDataSource(this.options.dataSource);this.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null},destroy:function(){var c;a.fn.destroy.call(this);this.pager&&this.pager.destroy();this.groupable&&this.groupable.destroy();
this.virtualScrollable&&this.virtualScrollable.destroy();this._destroyColumnAttachments();this._destroyEditable();this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler);c=this.element.add(this.wrapper).add(this.table).add(this.thead).add(this.wrapper.find(">.k-grid-toolbar"));this.content&&(c=c.add(this.content).add(this.content.find(">.k-virtual-scrollable-wrap")));c.off(".kendoGrid");m.destroy(this.wrapper)},setOptions:function(c){a.fn.setOptions.call(this,
c);this._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){this.thead.find("th").each(function(){var a=b(this),c=a.data("kendoFilterMenu"),f=a.data("kendoSortable"),a=a.data("kendoColumnMenu");c&&c.destroy();f&&f.destroy();a&&a.destroy()})},_attachCustomCommandsEvent:function(){var a=this.columns||[],c,b,f;b=0;for(f=a.length;b<f;b++)if(c=a[b].command){var g=this.wrapper,d=void 0,k=void 0,j=void 0,e=
void 0;c=!F(c)?[c]:c;d=0;for(k=c.length;d<k;d++)j=c[d],l(j)&&j.click&&(e=j.name||j.text,g.on("click.kendoGrid","a.k-grid-"+(e||"").replace(/\s/g,""),{commandName:e},H(j.click,this)))}},_aria:function(){this._cellId=(this.element.attr("id")||"aria")+"_active_cell"},_element:function(){var a=this.element;a.is("table")||(a=this.options.scrollable?this.element.find("> .k-grid-content > table"):this.element.children("table"),a.length||(a=b("<table />").appendTo(this.element)));this.table=a.attr("cellspacing",
0).attr("role",this._hasDetails()?"treegrid":"grid");this._wrapper()},_positionColumnResizeHandle:function(a){var c=this,f=c.options.scrollable,g=c.resizeHandle,d;c.thead.on("mousemove.kendoGrid","th:not(.k-group-cell,.k-hierarchy-cell)",function(l){var k=b(this);l=l.clientX;var j=b(window).scrollLeft(),e=k.offset().left+(!W?this.offsetWidth:0);l+j>e-3&&l+j<e+3?(g||(g=c.resizeHandle=b('<div class="k-resize-handle"/>'),a.append(g)),W?(e=k.closest(".k-grid-header-wrap"),l=m.support.browser.msie?e.scrollLeft():
0,j=m.support.browser.webkit?e[0].scrollWidth-e[0].offsetWidth-e.scrollLeft():0,e=m.support.browser.mozilla?e[0].scrollWidth-e[0].offsetWidth-(e[0].scrollWidth-e[0].offsetWidth-e.scrollLeft()):0,d=k.position().left-j+e-l):(d=this.offsetWidth,k.prevAll(":visible").each(function(){d+=this.offsetWidth})),g.css({top:f?0:n(c.wrapper),left:d-3,height:k.outerHeight(),width:9}).data("th",k).show()):g?g.hide():r(c.wrapper,"")})},_resizable:function(){var a=this,c=a.options,f,g,d,l,k;c.resizable&&(f=c.scrollable?
a.wrapper.find(".k-grid-header-wrap:first"):a.wrapper,a._positionColumnResizeHandle(f),f.kendoResizable({handle:".k-resize-handle",hint:function(c){return b('<div class="k-grid-resize-indicator" />').css({height:c.data("th").outerHeight()+a.tbody.attr("clientHeight")})},start:function(f){var j=b(f.currentTarget).data("th"),e=b.inArray(j[0],j.parent().children(":visible")),h=a.tbody.parent(),x=a.footer||b();r(a.wrapper,"col-resize");k=c.scrollable?a.thead.parent().find("col:eq("+e+")").add(h.children("colgroup").find("col:eq("+
e+")")).add(x.find("colgroup").find("col:eq("+e+")")):h.children("colgroup").find("col:eq("+e+")");g=f.x.location;d=j.outerWidth();l=a.tbody.outerWidth()},resize:function(f){var j=W?-1:1,e=d+f.x.location*j-g*j,h=a.footer||b();10<e&&(k.css("width",e),c.scrollable&&(a._footerWidth=l+f.x.location*j-g*j,a.tbody.parent().add(a.thead.parent()).add(h.find("table")).css("width",a._footerWidth)))},resizeend:function(c){var f=b(c.currentTarget).data("th");c=f.outerWidth();r(a.wrapper,"");d!=c&&(f=a.columns[f.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(f)],
f.width=c,a.trigger("columnResize",{column:f,oldWidth:d,newWidth:c}));a.resizeHandle.hide()}}))},_draggable:function(){this.options.reorderable&&(this._draggableInstance&&this._draggableInstance.destroy(),this._draggableInstance=this.wrapper.kendoDraggable({group:m.guid(),filter:this.content?">.k-grid-header th.k-header:not(.k-group-cell,.k-hierarchy-cell)":">table>.k-grid-header th.k-header:not(.k-group-cell,.k-hierarchy-cell)",hint:function(a){return b('<div class="k-header k-drag-clue" />').css({width:a.width(),
paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight"),lineHeight:a.height()+"px",paddingTop:a.css("paddingTop"),paddingBottom:a.css("paddingBottom")}).html(a.attr(m.attr("title"))||a.attr(m.attr("field"))||a.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var a=this;a.options.reorderable&&a.wrapper.kendoReorderable({draggable:a._draggableInstance,change:function(c){var b=G(a.columns[c.newIndex],a.columns);c=a.columns[c.oldIndex];
a.trigger("columnReorder",{newIndex:b,oldIndex:G(c,a.columns),column:c});a.reorderColumn(b,c)}})},reorderColumn:function(a,c){var b=G(c,this.columns),f=G(c,C(this.columns)),g=G(this.columns[a],C(this.columns)),d;d=this.footer||this.wrapper.find(".k-grid-footer");if(b!==a){this.columns.splice(b,1);this.columns.splice(a,0,c);this._templates();E(this.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),f,g);this.options.scrollable&&E(this.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),
f,g);E(this.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),b,a);d&&d.length&&(E(d.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),f,g),E(d.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),b,a));f=this.tbody.children(":not(.k-grouping-row,.k-detail-row)");g=0;for(d=f.length;g<d;g+=1)E(f.eq(g).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),b,a)}},cellIndex:function(a){return b(a).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(a)},
_modelForContainer:function(a){a=b(a);!a.is("tr")&&"popup"!==this._editMode()&&(a=a.closest("tr"));a=a.attr(m.attr("uid"));return this.dataSource.getByUid(a)},_editable:function(){var a=this,c=a.selectable&&a.selectable.options.multiple,f=a.options.editable,g=function(){var c=A(),f=a._editContainer;f&&!b.contains(f[0],c)&&f[0]!==c&&!b(c).closest(".k-animation-container").length&&a.editable.end()&&a.closeCell()};if(f){if("incell"===a._editMode()){if(!1!==f.update)a.wrapper.on("click.kendoGrid","tr:not(.k-grouping-row) > td",
function(f){var g=b(this);if(!g.hasClass("k-hierarchy-cell")&&!g.hasClass("k-detail-cell")&&!g.hasClass("k-group-cell")&&!g.hasClass("k-edit-cell")&&!g.has("a.k-grid-delete").length&&!g.has("button.k-grid-delete").length&&!(g.closest("tbody")[0]!==a.tbody[0]||b(f.target).is(":input")))a.editable?a.editable.end()&&(c&&b(A()).blur(),a.closeCell(),a.editCell(g)):a.editCell(g)}).on("focusin.kendoGrid",function(){clearTimeout(a.timer);a.timer=null}).on("focusout.kendoGrid",function(){a.timer=setTimeout(g,
1)})}else if(!1!==f.update)a.wrapper.on("click.kendoGrid","tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault();a.editRow(b(this).closest("tr"))});if(!1!==f.destroy)a.wrapper.on("click.kendoGrid","tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault();c.stopPropagation();a.removeRow(b(this).closest("tr"))});else a.wrapper.on("click.kendoGrid","tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",
function(c){a._confirmation()||c.preventDefault()})}},editCell:function(a){var c=this,b=c.columns[c.cellIndex(a)],f=c._modelForContainer(a);if(f&&(!f.editable||f.editable(b.field))&&!b.command&&b.field)c._attachModelChange(f),c._editContainer=a,c.editable=a.addClass("k-edit-cell").kendoEditable({fields:{field:b.field,format:b.format,editor:b.editor,values:b.values},model:f,change:function(b){c.trigger("save",{values:b.values,container:a,model:f})&&b.preventDefault()}}).data("kendoEditable"),a.parent().addClass("k-grid-edit-row"),
c.trigger("edit",{container:a,model:f})},_destroyEditable:function(){var a=this,c=function(){a.editable&&(a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null)};a.editable&&("popup"===a._editMode()?a._editContainer.data("kendoWindow").bind("deactivate",c).close():c())},_attachModelChange:function(a){var c=this;c._modelChangeHandler=function(a){c._modelChange({field:a.field,model:this})};a.bind("change",c._modelChangeHandler)},_detachModelChange:function(){var a=this._modelForContainer(this._editContainer);
a&&a.unbind("change",this._modelChangeHandler)},closeCell:function(){var a,c,f;this._editContainer&&(a=this._editContainer.removeClass("k-edit-cell"),c=a.closest("tr").attr(m.attr("uid")),f=this.columns[this.cellIndex(a)],c=this.dataSource.getByUid(c),a.parent().removeClass("k-grid-edit-row"),this._destroyEditable(),this._displayCell(a,f,c),a.hasClass("k-dirty-cell")&&b('<span class="k-dirty"/>').prependTo(a))},_displayCell:function(a,c,b){var f={storage:{},count:0},g=B({},m.Template,this.options.templateSettings);
c=m.template(this._cellTmpl(c,f),g);0<f.count&&(c=H(c,f.storage));a.empty().html(c(b))},removeRow:function(a){var c;if(this._confirmation()&&(a=b(a).hide(),(c=this._modelForContainer(a))&&!this.trigger("remove",{row:a,model:c})))a=this._editMode(),"incell"!==a&&this.cancelRow(),this.dataSource.remove(c),("inline"===a||"popup"===a)&&this.dataSource.sync()},_editMode:function(){var a="incell",c=this.options.editable;!0!==c&&(a="string"==typeof c?c:c.mode||a);return a},editRow:function(a){var c=this,
f=c._modelForContainer(a),g=c._editMode(),d=c.options.navigatable,l;c.cancelRow();f&&(c._attachModelChange(f),"popup"===g?c._createPopupEditor(f):"inline"===g?c._createInlineEditor(a,f):"incell"===g&&b(a).children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").each(function(){var a=b(this),g=c.columns[a.index()];if((f=c._modelForContainer(a))&&(!f.editable||f.editable(g.field))&&g.field)return c.editCell(a),!1}),l=c._editContainer,l.on("click.kendoGrid","a.k-grid-cancel",function(a){a.preventDefault();
a.stopPropagation();c.trigger("cancel",{container:l,model:f})||(a=c.items().index(b(c.current()).parent()),c.cancelRow(),d&&(c.current(c.items().eq(a).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()),D(c.table,!0)))}),l.on("click.kendoGrid","a.k-grid-update",function(a){a.preventDefault();a.stopPropagation();c.saveRow()}))},_createPopupEditor:function(a){var c=this,f="<div "+m.attr("uid")+'="'+a.uid+'"><div class="k-edit-form-container">',g,d,k=[],j,e,h,x,A,F,q=c.options.editable;
j=q.template;var q=l(q)?q.window:{},G=B({},m.Template,c.options.templateSettings);if(j){typeof j===K&&(j=window.unescape(j));f+=m.template(j,G)(a);j=0;for(e=c.columns.length;j<e;j++)g=c.columns[j],g.command&&(A=v(g.command,"edit"))&&(d=A)}else{j=0;for(e=c.columns.length;j<e;j++)g=c.columns[j],g.command?g.command&&(A=v(g.command,"edit"))&&(d=A):(f+='<div class="k-edit-label"><label for="'+g.field+'">'+(g.title||g.field||"")+"</label></div>",(!a.editable||a.editable(g.field))&&g.field?(k.push({field:g.field,
format:g.format,editor:g.editor,values:g.values}),f+="<div "+m.attr("container-for")+'="'+g.field+'" class="k-edit-field"></div>'):(A={storage:{},count:0},g=m.template(c._cellTmpl(g,A),G),0<A.count&&(g=H(g,A.storage)),f+='<div class="k-edit-field">'+g(a)+"</div>"))}d&&l(d)&&(d.text&&l(d.text)&&(h=d.text.update,x=d.text.cancel),d.attr&&(F=d.attr));var f=f+(c._createButton({name:"update",text:h,attr:F})+c._createButton({name:"canceledit",text:x,attr:F})),p=c._editContainer=b(f+"</div></div>").appendTo(c.wrapper).eq(0).kendoWindow(B({modal:!0,
resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(f){f.userTriggered&&(c.trigger("cancel",{container:p,model:a})?f.preventDefault():(f=c.items().index(b(c.current()).parent()),c.cancelRow(),c.options.navigatable&&(c.current(c.items().eq(f).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()),D(c.table,!0))))}},q));c.editable=c._editContainer.kendoEditable({fields:k,model:a,clearContainer:!1}).data("kendoEditable");p.data("kendoWindow").center().open();c.trigger("edit",
{container:p,model:a})},_createInlineEditor:function(a,c){var f=this,g,d,k,j=[];a.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){d=b(this);g=f.columns[f.cellIndex(d)];if(!g.command&&g.field&&(!c.editable||c.editable(g.field)))j.push({field:g.field,format:g.format,editor:g.editor,values:g.values}),d.attr(m.attr("container-for"),g.field),d.empty();else if(g.command&&(k=v(g.command,"edit"))){d.empty();var a,e,h;l(k)&&(k.text&&l(k.text)&&(a=k.text.update,e=k.text.cancel),k.attr&&(h=
k.attr));b(f._createButton({name:"update",text:a,attr:h})+f._createButton({name:"canceledit",text:e,attr:h})).appendTo(d)}});f._editContainer=a;f.editable=a.addClass("k-grid-edit-row").kendoEditable({fields:j,model:c,clearContainer:!1}).data("kendoEditable");f.trigger("edit",{container:a,model:c})},cancelRow:function(){var a=this._editContainer,c;a&&(c=this._modelForContainer(a),this.dataSource.cancelChanges(c),"popup"!==this._editMode()?this._displayRow(a):this._displayRow(this.items().filter("["+
m.attr("uid")+"="+c.uid+"]")),this._destroyEditable())},saveRow:function(){var a=this._editContainer,c=this._modelForContainer(a),b=this.editable;a&&(b&&b.end()&&!this.trigger("save",{container:a,model:c}))&&this.dataSource.sync()},_displayRow:function(a){var c=this._modelForContainer(a);c&&a.replaceWith(b((a.hasClass("k-alt")?this.altRowTemplate:this.rowTemplate)(c)))},_showMessage:function(a){return window.confirm(a)},_confirmation:function(){var a=this.options.editable,a=!0===a||typeof a===K?"Are you sure you want to delete this record?":
a.confirmation;return!1!==a&&null!=a?this._showMessage(a):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){(this.editable&&this.editable.end()||!this.editable)&&!this.trigger("saveChanges")&&this.dataSource.sync()},addRow:function(){var a,c=this.dataSource,b=this._editMode(),f=this.options.editable.createAt||"",g=c.pageSize(),d=c.view()||[];if(this.editable&&this.editable.end()||!this.editable)"incell"!=b&&this.cancelRow(),a=c.indexOf(d[0]),"bottom"==f.toLowerCase()&&
(a+=d.length,g&&(!c.options.serverPaging&&g<=d.length)&&(a-=1)),0>a&&(a=c.page()>c.totalPages()?(c.page()-1)*g:0),a=c.insert(a,{}).uid,a=this.table.find("tr["+m.attr("uid")+"="+a+"]"),c=a.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(this._firstEditableColumnIndex(a)),("inline"===b||"popup"===b)&&a.length?this.editRow(a):c.length&&this.editCell(c)},_firstEditableColumnIndex:function(a){var c=this.columns,b,f,g=this._modelForContainer(a);b=0;for(f=c.length;b<f;b++)if(a=c[b],g&&(!g.editable||
g.editable(a.field))&&!a.command&&a.field)return b;return-1},_toolbar:function(){var a=this,c=a.wrapper,f=a.options.toolbar,g=a.options.editable,d;if(f&&(d=a.wrapper.find(".k-grid-toolbar"),d.length||(N(f)||(f=typeof f===K?f:a._toolbarTmpl(f).replace(V,"\\#"),f=H(m.template(f),a)),d=b('<div class="k-toolbar k-grid-toolbar" />').html(f({})).prependTo(c)),g&&!1!==g.create))d.on("click.kendoGrid",".k-grid-add",function(c){c.preventDefault();a.addRow()}).on("click.kendoGrid",".k-grid-cancel-changes",
function(c){c.preventDefault();a.cancelChanges()}).on("click.kendoGrid",".k-grid-save-changes",function(c){c.preventDefault();a.saveChanges()})},_toolbarTmpl:function(a){var c,b,f="";if(F(a)){c=0;for(b=a.length;c<b;c++)f+=this._createButton(a[c])}return f},_createButton:function(a){var c=a.template||'<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',b=typeof a===K?a:a.name||a.text,f={className:"k-grid-"+(b||"").replace(/\s/g,
""),text:b,imageClass:"",attr:"",iconClass:""};if(!b&&(!l(a)||!a.template))throw Error("Custom commands should have name specified");l(a)?(a.className&&(a.className+=" "+f.className),"edit"===b&&l(a.text)&&(a=B(!0,{},a),a.text=a.text.edit),a.attr&&l(a.attr)&&(a.attr=y(a.attr)),f=B(!0,f,aa[b],a)):f=B(!0,f,aa[b]);return m.template(c)(f)},_groupable:function(){var a=this;a.table.on("click.kendoGrid",".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",function(c){var f=b(this),g=f.closest("tr");
f.hasClass("k-i-collapse")?a.collapseGroup(g):a.expandGroup(g);c.preventDefault();c.stopPropagation()});a._attachGroupable()},_attachGroupable:function(){var a=this.wrapper,c=this.options.groupable;c&&(a.has("div.k-grouping-header")[0]||b("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(a),this.groupable&&this.groupable.destroy(),this.groupable=new k(a,B({},c,{draggable:this._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:this.dataSource,draggableElements:this.content?
">.k-grid-header "+U:">table>.k-grid-header "+U,filter:this.content?">.k-grid-header "+I:">table>.k-grid-header "+I,allowDrag:this.options.reorderable})))},_selectable:function(){var a=this,b,f,g=a.options.selectable;if(g&&(b=typeof g===K&&-1<g.toLowerCase().indexOf("multiple"),f=typeof g===K&&-1<g.toLowerCase().indexOf("cell"),a.selectable=new m.ui.Selectable(a.table,{filter:">"+(f?"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)":
"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:!0,multiple:b,change:function(){a.trigger("change")}}),a.options.navigatable))a.table.on("keydown.kendoGrid",function(g){var d=a.current();if(g.keyCode===c.SPACEBAR&&g.target==a.table[0]&&!d.is(".k-edit-cell,.k-header")&&d.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){g.preventDefault();g.stopPropagation();d=f?d:d.parent();if(b)if(g.ctrlKey){if(d.hasClass("k-state-selected")){d.removeClass("k-state-selected");
a.trigger("change");return}}else a.selectable.clear();else a.selectable.clear();a.selectable.value(d)}})},clearSelection:function(){this.selectable.clear();this.trigger("change")},select:function(a){var c=this.selectable;a=b(a);if(a.length)c.options.multiple||(c.clear(),a=a.first()),c.value(a);else return c.value()},current:function(a){var c=this.options.scrollable,f=this._current,g=this.table.add(this.thead.parent());if(a!==w&&a.length&&(!f||f[0]!==a[0]))f&&(f.removeClass("k-state-focused").removeAttr("id"),
g.removeAttr("aria-activedescendant")),a.attr("id",this._cellId),this._current=a.addClass("k-state-focused"),g.attr("aria-activedescendant",this._cellId),a.length&&c&&(b.contains(this.content[0],a[0])&&this._scrollTo(a.parent()[0],this.content[0]),c.virtual?this._scrollTo(a[0],this.content.find(">.k-virtual-scrollable-wrap")[0]):this._scrollTo(a[0],this.content[0]));return this._current},_removeCurrent:function(){this._current&&(this._current.removeClass("k-state-focused"),this._current=null)},_scrollTo:function(a,
c){var b=a.tagName.toLowerCase(),b="td"===b||"th"===b,f=a[b?"offsetLeft":"offsetTop"],g=a[b?"offsetWidth":"offsetHeight"],d=c[b?"scrollLeft":"scrollTop"],l=c[b?"clientWidth":"clientHeight"],k=f+g;c[b?"scrollLeft":"scrollTop"]=d>f?f:k>d+l?g<=l?k-l:f:d},_navigatable:function(){var a=this,f=H(a.current,a),g=a.table,d=a.thead.parent(),l=g,k=m.support.isRtl(a.element);a.options.navigatable&&(a.options.scrollable&&(l=g.add(d),d.attr("tabIndex",-1)),d.on("keydown.kendoGrid",function(a){a.altKey&&a.keyCode==
c.DOWN&&(f().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),g.attr("tabIndex",L.max(g.attr("tabIndex")||0,0)).on("mousedown.kendoGrid keydown.kendoGrid",".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),l.on(m.support.touch?"touchstart.kendoGrid":"mousedown.kendoGrid","tr:not(.k-footer-template):visible>:not(.k-group-cell):not(.k-hierarchy-cell):visible",H(q,a)).on("focus.kendoGrid",function(){var a=
f();a&&a.is(":visible")?a.addClass("k-state-focused"):f(b(this).find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first"));this==g[0]?(d.attr("tabIndex",-1),g.attr("tabIndex",0)):(g.attr("tabIndex",-1),d.attr("tabIndex",0))}).on("focusout.kendoGrid",function(){var a=f();a&&a.removeClass("k-state-focused")}).on("keydown.kendoGrid",function(d){var l=d.keyCode,j=!1,e=!d.isDefaultPrevented()&&!b(d.target).is(":button,a,:input,a>.k-icon"),h=a.options.pageable,
x=a.dataSource,B="incell"==a._editMode(),F,q;F=d.shiftKey;var G=m.support.browser;(q=f())&&q.is("th")&&(e=!0);if(e&&l==c.UP){if(q){if(j=q.parent().prevAll("tr:not(.k-footer-template):visible").first(),j[0]||(j=a.thead.parent(),D(j,!0),j=j.find("tr:not(.k-footer-template):visible").first()),q=q.index(),q=j.children().eq(q),!q[0]||!q.is(":not(.k-group-cell):not(.k-hierarchy-cell):visible"))q=j.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()}else q=g.find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first");
j=!0;f(q)}else if(e&&l==c.DOWN){if(q){if(j=q.parent().nextAll("tr:not(.k-footer-template):visible").first(),!j[0]&&q.is("th")&&(D(a.tbody.parent()),j=a.tbody.find("tr:not(.k-footer-template):visible").first()),q=q.index(),q=j.children().eq(q),!q[0]||!q.is(":not(.k-group-cell):not(.k-hierarchy-cell):visible"))q=j.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()}else q=g.find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first");j=
!0;f(q)}else if(e&&l==(k?c.RIGHT:c.LEFT))f(q?q.prevAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible:first"):g.find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first")),j=!0;else if(e&&l==(k?c.LEFT:c.RIGHT))q?q.next()[0]&&(q=q.nextAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible:first")):q=g.find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first"),j=!0,f(q);else if(e&&h&&c.PAGEDOWN==l)x.page(x.page()+
1),j=!0;else if(e&&h&&c.PAGEUP==l)x.page(x.page()-1),j=!0;else if(l==c.ENTER||c.F2==l)q=q?q:g.find("tr:not(.k-footer-template):visible:first>:not(.k-group-cell):not(.k-hierarchy-cell):visible:first"),q.is("th")?(q.find(".k-link").click(),j=!0):q.parent().is(".k-master-row,.k-grouping-row")?(q.parent().find(".k-icon:first").click(),j=!0):(B=q.find(":focusable:first"),!q.hasClass("k-edit-cell")&&B[0]&&q.hasClass("k-state-focused")?(B.focus(),j=!0):a.options.editable&&!b(d.target).is(":button,.k-button")&&
(a._handleEditing(q),j=!0));else if(c.ESC==l)if(F=A(),q&&b.contains(q[0],F)&&!q.hasClass("k-edit-cell")&&!q.parent().hasClass("k-grid-edit-row"))D(a.table[0],!0),j=!0;else{if(a._editContainer&&(!q||a._editContainer.has(q[0])||q[0]===a._editContainer[0]))B?a.closeCell():(q=a.items().index(b(q).parent()),F&&F.blur(),a.cancelRow(),0<=q&&a.current(a.items().eq(q).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first())),G.msie&&9>G.version&&document.body.focus(),D(g,!0),j=!0}else c.TAB==
l&&(q=b(q),a.options.editable&&B&&(G=b(A()).closest(".k-edit-cell"),G[0]&&G[0]!==q[0]&&(q=G)),G=F?q.prevAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible:first"):q.nextAll(":visible:first"),G.length||(G=q.parent()[F?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(":not(.k-group-cell):not(.k-hierarchy-cell):visible"+(F?":last":":first"))),!q.is("th")&&(G.length&&a.options.editable&&B)&&(a._handleEditing(q,G),j=!0));j&&(d.preventDefault(),d.stopPropagation())}))},
_handleEditing:function(a,c){var f=b(A()),g=this._editMode(),d=this._editContainer,l;l="incell"==g?a.hasClass("k-edit-cell"):a.parent().hasClass("k-grid-edit-row");if(this.editable){b.contains(d[0],f[0])&&(f.blur(),m.support.browser.opera&&f.change());if(!this.editable){D(this.table);return}if(this.editable.end())"incell"==g?this.closeCell():(this.saveRow(),l=!0);else{"incell"==g?this.current(d):this.current(d.children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first());(f=d.find(":focusable:first")[0])&&
f.focus();return}}c&&this.current(c);D(this.table,!0);if(!l&&!c||c)"incell"==g?this.editCell(this.current()):this.editRow(this.current().parent())},_wrapper:function(){var a=this.table,c=this.options.height,b=this.element;b.is("div")||(b=b.wrap("<div/>").parent());this.wrapper=b.addClass("k-grid k-widget");c&&(this.wrapper.css("height",c),a.css("height","auto"))},_tbody:function(){var a=this.table,c;c=a.find(">tbody");c.length||(c=b("<tbody/>").appendTo(a));this.tbody=c},_scrollable:function(){var a=
this,c,f,g=a.options.scrollable,d=!0!==g&&g.virtual&&!a.virtualScrollable,l=!m.support.kineticScrollNeeded||d?m.support.scrollbar():0;if(g){c=a.wrapper.children(".k-grid-header");c[0]||(c=b('<div class="k-grid-header" />').insertBefore(a.table));c.css(W?"padding-left":"padding-right",g.virtual?l+1:l);f=b('<table role="grid" cellspacing="0" />');f.append(a.thead);c.empty().append(b('<div class="k-grid-header-wrap" />').append(f));a.content=a.table.parent();a.content.is(".k-virtual-scrollable-wrap")&&
(a.content=a.content.parent());a.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(a.content=a.table.wrap('<div class="k-grid-content" />').parent());d&&(a.virtualScrollable=new R(a.content,{dataSource:a.dataSource,itemHeight:H(a._averageRowHeight,a)}));a.scrollables=c.children(".k-grid-header-wrap");c=a.wrapper.find(".k-grid-footer");var k=W&&m.support.browser.webkit?l:0;c.length&&(a.scrollables=a.scrollables.add(c.children(".k-grid-footer-wrap")));g.virtual?a.content.find(">.k-virtual-scrollable-wrap").bind("scroll.kendoGrid",
function(){a.scrollables.scrollLeft(this.scrollLeft+k)}):(a.content.bind("scroll.kendoGrid",function(){a.scrollables.scrollLeft(this.scrollLeft+k)}),(g=m.touchScroller(a.content))&&g.movable&&g.movable.bind("change",function(c){a.scrollables.scrollLeft(-c.sender.x)}))}},_setContentHeight:function(){var a=this.options,c=this.wrapper.innerHeight(),b=this.wrapper.children(".k-grid-header"),f=m.support.scrollbar();if(a.scrollable){c-=b.outerHeight();this.pager&&(c-=this.pager.element.outerHeight());a.groupable&&
(c-=this.wrapper.children(".k-grouping-header").outerHeight());a.toolbar&&(c-=this.wrapper.children(".k-grid-toolbar").outerHeight());this.footerTemplate&&(c-=this.wrapper.children(".k-grid-footer").outerHeight());var a=this.wrapper,g;a[0].style.height?a=!0:(b=a.height(),a.height("auto"),g=a.height(),b!=g?(a.height(""),a=!0):(a.height(""),a=!1));a&&(c>2*f?this.content.height(c):this.content.height(2*f+1))}},_averageRowHeight:function(){var a=this._rowHeight;this._rowHeight||(this._sum=this._rowHeight=
a=this.table.outerHeight()/this.items().length,this._measures=1);var c=this.table.outerHeight()/this.items().length;a!==c&&(this._measures++,this._sum+=c,this._rowHeight=this._sum/this._measures);return a},_dataSource:function(){var a=this.options,c=a.dataSource,c=F(c)?{data:c}:c;l(c)&&(B(c,{table:this.table,fields:this.columns}),a=a.pageable,l(a)&&a.pageSize!==w&&(c.pageSize=a.pageSize));this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",
this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=H(this.refresh,this),this._progressHandler=H(this._requestStart,this),this._errorHandler=H(this._error,this));this.dataSource=j.create(c).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(a){var c=this,f=a.model,g=c.tbody.find("tr["+m.attr("uid")+"="+f.uid+
"]"),l,k,j=g.hasClass("k-alt"),e=c.items().index(g);if(g.children(".k-edit-cell").length&&!c.options.rowTemplate)g.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){l=b(this);k=c.columns[c.cellIndex(l)];k.field===a.field&&(l.hasClass("k-edit-cell")?l.addClass("k-dirty-cell"):(c._displayCell(l,k,f),b('<span class="k-dirty"/>').prependTo(l)))});else if(!g.hasClass("k-grid-edit-row")){j=(j?c.altRowTemplate:c.rowTemplate)(f);g.replaceWith(j);j=c.items().eq(e);e=0;for(g=c.columns.length;e<
g;e++)k=c.columns[e],k.field===a.field&&(l=j.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(e),b('<span class="k-dirty"/>').prependTo(l));c.trigger("itemChange",{item:j,data:f,ns:d})}},_pageable:function(){var a,c=this.options.pageable;c&&(a=this.wrapper.children("div.k-grid-pager"),a.length||(a=b('<div class="k-pager-wrap k-grid-pager"/>').appendTo(this.wrapper)),this.pager&&this.pager.destroy(),this.pager="object"===typeof c&&c instanceof m.ui.Pager?c:new m.ui.Pager(a,B({},c,{dataSource:this.dataSource})))},
_footer:function(){var a=this.dataSource.aggregates(),c="",c=this.footerTemplate,f=this.options,g,d=this.footer||this.wrapper.find(".k-grid-footer");c?(a=!P(a)?a:z(this.dataSource.aggregate()),c=b(this._wrapFooter(c(a))),d.length?(a=c,d.replaceWith(a),d=this.footer=a):d=f.scrollable?this.footer=f.pageable?c.insertBefore(this.wrapper.children("div.k-grid-pager")):c.appendTo(this.wrapper):this.footer=c.insertBefore(this.tbody)):d&&!this.footer&&(this.footer=d);d.length&&(f.scrollable&&(g=d.attr("tabindex",
-1).children(".k-grid-footer-wrap"),this.scrollables=this.scrollables.not(".k-grid-footer-wrap").add(g)),this._footerWidth&&d.find("table").css("width",this._footerWidth),g&&g.scrollLeft(this.content.scrollLeft()))},_wrapFooter:function(a){var c="",f=!m.support.mobileOS?m.support.scrollbar():0;return this.options.scrollable?(c=b('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+a+"</tbody></table></div></div>"),this._appendCols(c.find("table")),c.css(W?"padding-left":
"padding-right",f),c):'<tfoot class="k-grid-footer">'+a+"</tfoot>"},_columnMenu:function(){var a=this,c,f=a.columns,g,d=a.options,l=d.columnMenu,k,j,e,h=function(){D(a.thead.parent(),!0)},x=function(c){a.trigger("columnMenuInit",{field:c.field,container:c.container})},q;l&&("boolean"==typeof l&&(l={}),a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(A){g=f[A];q=b(this);if(!g.command&&(g.field||q.attr("data-"+m.ns+"field")))(c=q.data("kendoColumnMenu"))&&c.destroy(),j=!1!==g.sortable&&
!1!==l.sortable?d.sortable:!1,e=d.filterable&&!1!==g.filterable&&!1!==l.filterable?B({},g.filterable,d.filterable):!1,k={dataSource:a.dataSource,values:g.values,columns:l.columns,sortable:j,filterable:e,messages:l.messages,owner:a,closeCallback:h,init:x},q.kendoColumnMenu(k)}))},_filterable:function(){var a=this,c=a.columns,f,g,d=function(){D(a.thead.parent(),!0)},l=a.options.filterable;l&&!a.options.columnMenu&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(k){f=b(this);if(!1!==
c[k].filterable&&!c[k].command&&(c[k].field||f.attr("data-"+m.ns+"field")))(g=f.data("kendoFilterMenu"))&&g.destroy(),f.kendoFilterMenu(B(!0,{},l,c[k].filterable,{dataSource:a.dataSource,values:c[k].values,closeCallback:d,init:function(c){a.trigger("filterMenuInit",{field:c.field,container:c.container})}}))})},_sortable:function(){var a=this,c=a.columns,f,g,d,l=a.options.sortable;l&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(k){f=c[k];!1!==f.sortable&&(!f.command&&f.field)&&
(g=b(this),(d=g.data("kendoSortable"))&&d.destroy(),g.attr("data-"+m.ns+"field",f.field).kendoSortable(B({},l,{dataSource:a.dataSource,aria:!0})))})},_columns:function(a){var c=this.table,g,d=c.find("col"),l=this.options.dataSource;a=a.length?a:f(c.find("th"),function(a,c){a=b(a);var f=a.attr(m.attr("sortable")),g=a.attr(m.attr("filterable")),l=a.attr(m.attr("type")),k=a.attr(m.attr("groupable")),j=a.attr(m.attr("field")),e=a.attr(m.attr("menu"));j||(j=a.text().replace(/\s|[^A-z0-9]/g,""));return{field:j,
type:l,sortable:"false"!==f,filterable:"false"!==g,groupable:"false"!==k,menu:e,template:a.attr(m.attr("template")),width:d.eq(c).css("width")}});g=!(0<this.table.find("tbody tr").length&&(!l||!l.transport));this.columns=f(a,function(a){a=typeof a===K?{field:a}:a;a.hidden&&(a.attributes=s(a.attributes),a.footerAttributes=s(a.footerAttributes),a.headerAttributes=s(a.headerAttributes));return B({encoded:g},a)})},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,
c){var b=B({},m.Template,this.options.templateSettings),f,g=this.columns.length,d={storage:{},count:0},l;f=this._hasDetails();l=[];var k=this._groups();if(!a){a="<tr";c&&l.push("k-alt");f&&l.push("k-master-row");l.length&&(a+=' class="'+l.join(" ")+'"');g&&(a+=" "+m.attr("uid")+'="#='+m.expr("uid",b.paramName)+'#"');a+=" role='row'>";0<k&&(a+=u(k));f&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>');for(f=0;f<g;f++)l=this.columns[f],a+="<td"+y(l.attributes)+
" role='gridcell'>",a+=this._cellTmpl(l,d),a+="</td>";a+="</tr>"}a=m.template(a,b);return 0<d.count?H(a,d.storage):a},_headerCellText:function(a){var c=B({},m.Template,this.options.templateSettings),b=a.headerTemplate,f=typeof b;a=a.title||a.field||"";"function"===f?a=m.template(b,c)({}):f===K&&(a=b);return a},_cellTmpl:function(a,c){var b=B({},m.Template,this.options.templateSettings),f=a.template,g=b.paramName,d=a.field,k="",j=a.format,e=typeof f,h=a.values;if(a.command){if(F(a.command)){b=0;for(f=
a.command.length;b<f;b++)k+=this._createButton(a.command[b]);return k.replace(V,"\\#")}return this._createButton(a.command).replace(V,"\\#")}"function"===e?(c.storage["tmpl"+c.count]=f,k+="#=this.tmpl"+c.count+"("+g+")#",c.count++):e===K?k+=f:h&&h.length&&l(h[0])&&"value"in h[0]&&d?(k+="#var v ="+m.stringify(t(h))+"#",k+="#var f = v[",b.useWithBlock||(k+=g+"."),k=k+(d+"]#")+"${f != null ? f : ''}"):(k+=a.encoded?"#:":"#=",j&&(k+='kendo.format("'+j.replace(O,"\\$1")+'",'),d?(d=m.expr(d,g),k+=d+"==null?'':"+
d):k+="''",j&&(k+=")"),k+="#");return k},_templates:function(){var a=this.options,c=this.dataSource,f=c.group(),d=this.footer||this.wrapper.find(".k-grid-footer"),c=c.aggregate();this.rowTemplate=this._tmpl(a.rowTemplate);this.altRowTemplate=this._tmpl(a.altRowTemplate||a.rowTemplate,!0);this._hasDetails()&&(this.detailTemplate=this._detailTmpl(a.detailTemplate||""));if(this._group&&!P(c)||!P(c)&&!d.length||g(this.columns,function(a){return a.footerTemplate}).length)this.footerTemplate=this._footerTmpl(c,
"footerTemplate","k-footer-template");f&&g(this.columns,function(a){return a.groupFooterTemplate}).length&&(c=b.map(f,function(a){return a.aggregates}),this.groupFooterTemplate=this._footerTmpl(c,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(a,c,b){var f=B({},m.Template,this.options.templateSettings),g=f.paramName,d="",l,k=this.columns,j,e,h={},x=0;e={};l=this._groups();a=z(a);var q,d=d+('<tr class="'+b+'">');0<l&&(d+=u(l));this._hasDetails()&&(d+='<td class="k-hierarchy-cell">&nbsp;</td>');
b=0;for(l=this.columns.length;b<l;b++)q=k[b],j=q[c],e=typeof j,d+="<td"+y(q.footerAttributes)+">",j?("function"!==e&&(e=a[q.field]?B({},f,{paramName:g+"."+q.field}):{},j=m.template(j,e)),h["tmpl"+x]=j,d+="#=this.tmpl"+x+"("+g+")#",x++):d+="&nbsp;",d+="</td>";d=m.template(d+"</tr>",f);return 0<x?H(d,h):d},_detailTmpl:function(a){var c="",b=B({},m.Template,this.options.templateSettings),f=b.paramName,g={},d=0,l=this._groups(),k=C(this.columns).length,j=typeof a,c=c+'<tr class="k-detail-row">';0<l&&
(c+=u(l));c+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(k?' colspan="'+k+'"':"")+">";"function"===j?(g["tmpl"+d]=a,c+="#=this.tmpl"+d+"("+f+")#",d++):c+=a;c=m.template(c+"</td></tr>",b);return 0<d?H(c,g):c},_hasDetails:function(){return null!==this.options.detailTemplate||(this._events.detailInit||[]).length},_details:function(){var a=this;a.table.on("click.kendoGrid",".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var f=b(this),g=f.hasClass("k-plus"),d=f.closest("tr.k-master-row"),
l;l=a.detailTemplate;var k=a._hasDetails();f.toggleClass("k-plus",!g).toggleClass("k-minus",g);k&&!d.next().hasClass("k-detail-row")&&(f=a.dataItem(d),b(l(f)).addClass(d.hasClass("k-alt")?"k-alt":"").insertAfter(d),a.trigger("detailInit",{masterRow:d,detailRow:d.next(),data:f,detailCell:d.next().find(".k-detail-cell")}));l=d.next();a.trigger(g?"detailExpand":"detailCollapse",{masterRow:d,detailRow:l});l.toggle(g);a._current&&a._current.attr("aria-expanded",g);c.preventDefault();return!1})},dataItem:function(a){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(b(a))]},
expandRow:function(a){b(a).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(a){b(a).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var a=this.columns,c=this._hasDetails()&&a.length,f,g="",d=this.table.find(">thead"),l,k,j;d.length||(d=b("<thead/>").insertBefore(this.tbody));l=this.element.find("tr:has(th):first");l.length||(l=d.children().first(),l.length||(l=b("<tr/>")));if(l.children().length)c&&!l.find(".k-hierarchy-cell")[0]&&l.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');
else{c&&(g+='<th class="k-hierarchy-cell">&nbsp;</th>');c=0;for(f=a.length;c<f;c++)j=a[c],k=this._headerCellText(j),j.command?g+="<th"+y(j.headerAttributes)+">"+k+"</th>":(g+="<th role='columnheader' "+m.attr("field")+"='"+(j.field||"")+"' ",j.title&&(g+=m.attr("title")+'="'+j.title.replace(/'/g,"'")+'" '),j.groupable!==w&&(g+=m.attr("groupable")+"='"+j.groupable+"' "),j.aggregates&&(g+=m.attr("aggregates")+"='"+j.aggregates+"'"),g+=y(j.headerAttributes),g+=">"+k+"</th>");l.html(g)}l.find("th").addClass("k-header");
this.options.scrollable||d.addClass("k-grid-header");l.find("script").remove().end().appendTo(d);this.thead&&this._destroyColumnAttachments();this.thead=d;this._sortable();this._filterable();this._scrollable();this._updateCols();this._resizable();this._draggable();this._reorderable();this.groupable&&this._attachGroupable();this._columnMenu()},_updateCols:function(){this._appendCols(this.thead.parent().add(this.table))},_appendCols:function(a){h(a,C(this.columns),this._hasDetails(),this._groups())},
_autoColumns:function(a){if(a&&a.toJSON){var c;a=a.toJSON();for(c in a)this.columns.push({field:c});this._thead();this._templates()}},_rowsHtml:function(a){var c="",b,f,g=this.rowTemplate,d=this.altRowTemplate;b=0;for(f=a.length;b<f;b++)c=b%2?c+d(a[b]):c+g(a[b]),this._data.push(a[b]);return c},_groupRowHtml:function(a,c,b){var f="",d,k,j=a.field,e=g(this.columns,function(a){return a.field==j})[0]||{};d=e.groupHeaderTemplate;var h=(e.title||j)+": ",x;k=a.value;x=e.format;k=(e=e.values)&&e.length&&
l(e[0])&&"value"in e[0]?t(e)[k]:k;k=null!=k?k:"";x=x?m.format(x,k):k;k=h+x;e=B({},{field:a.field,value:a.value},a.aggregates[a.field]);h=this._groupAggregatesDefaultObject||{};x=a.items;d&&(k="function"===typeof d?d(e):m.template(d)(e));f+='<tr class="k-grouping-row">'+u(b)+'<td colspan="'+c+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+k+"</p></td></tr>";if(a.hasSubgroups){d=0;for(k=x.length;d<k;d++)f+=this._groupRowHtml(x[d],c-1,b+1)}else f+=
this._rowsHtml(x);this.groupFooterTemplate&&(f+=this.groupFooterTemplate(B(h,a.aggregates)));return f},collapseGroup:function(a){a=b(a).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var c=a.find(".k-group-cell").length,f=1,g,d;a.find("td:first").attr("aria-expanded",!1);a.nextAll("tr").each(function(){d=b(this);g=d.find(".k-group-cell").length;d.hasClass("k-grouping-row")?f++:d.hasClass("k-group-footer")&&f--;if(g<=c||d.hasClass("k-group-footer")&&0>f)return!1;d.hide()})},
expandGroup:function(a){a=b(a).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var c=this,f=a.find(".k-group-cell").length,g,d,l=1;a.find("td:first").attr("aria-expanded",!0);a.nextAll("tr").each(function(){g=b(this);d=g.find(".k-group-cell").length;if(d<=f)return!1;d==f+1&&!g.hasClass("k-detail-row")&&(g.show(),g.hasClass("k-grouping-row")&&g.find(".k-icon").hasClass("k-i-collapse")&&c.expandGroup(g),g.hasClass("k-master-row")&&g.find(".k-icon").hasClass("k-minus")&&g.next().show());
g.hasClass("k-grouping-row")&&l++;g.hasClass("k-group-footer")&&(1==l?g.show():l--)})},_updateHeader:function(a){var c=this.thead.find("th.k-group-cell"),f=c.length;a>f?b(Array(a-f+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(this.thead.find("tr")):a<f&&(f-=a,b(g(c,function(a,c){return f>c})).remove())},_firstDataItem:function(a,c){a&&c&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],c):a.items[0]);return a},hideColumn:function(a){var c,f,d,l,k,j,e=0,h;k=this.footer||this.wrapper.find(".k-grid-footer");
h=this.columns;var x=m.support.browser;if((a="number"==typeof a?h[a]:g(h,function(c){return c.field===a})[0])&&!a.hidden){j=G(a,C(h));a.hidden=!0;a.attributes=s(a.attributes);a.footerAttributes=s(a.footerAttributes);a.headerAttributes=s(a.headerAttributes);this._templates();this._updateCols();this.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(j).hide();k&&(this._appendCols(k.find("table:first")),k.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(j).hide());
c=this.tbody.children();k=0;for(h=c.length;k<h;k+=1)if(f=c.eq(k),f.is(".k-grouping-row,.k-detail-row"))d=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),d.attr("colspan",parseInt(d.attr("colspan"),10)-1);else{if(f.hasClass("k-grid-edit-row")&&(d=f.children(".k-edit-container")[0]))d=b(d),d.attr("colspan",parseInt(d.attr("colspan"),10)-1),d.find("col").eq(j).remove(),f=d.find("tr:first");p(f[0].cells,j,!1)}d=this.thead.prev().find("col");k=0;for(h=d.length;k<h;k+=1)if((j=d[k].style.width)&&
-1==j.indexOf("%"))e+=parseInt(j,10);else{e=0;break}l=b(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table);this._footerWidth=null;e&&(l.width(e),this._footerWidth=e);x.msie&&8==x.version&&(l.css("display","inline-table"),setTimeout(function(){l.css("display","table")},1));this.trigger("columnHide",{column:a})}},showColumn:function(a){var c,f,d,l,k,j,x;j=this.columns;f=this.footer||this.wrapper.find(".k-grid-footer");if((a="number"==typeof a?j[a]:g(j,function(c){return c.field===
a})[0])&&a.hidden){x=G(a,j);a.hidden=!1;a.attributes=e(a.attributes);a.footerAttributes=e(a.footerAttributes);a.headerAttributes=e(a.headerAttributes);this._templates();this._updateCols();this.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(x).show();f&&(this._appendCols(f.find("table:first")),f.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(x).show());c=this.tbody.children();f=0;for(d=c.length;f<d;f+=1)if(l=c.eq(f),l.is(".k-grouping-row,.k-detail-row"))k=l.children(":not(.k-group-cell):first,.k-detail-cell").last(),
k.attr("colspan",parseInt(k.attr("colspan"),10)+1);else{if(l.hasClass("k-grid-edit-row")&&(k=l.children(".k-edit-container")[0]))k=b(k),k.attr("colspan",parseInt(k.attr("colspan"),10)+1),h(k.find(">form>table"),C(j),!1,0),l=k.find("tr:first");p(l[0].cells,x,!0)}k=b(">.k-grid-header table:first,>.k-grid-footer table:first",this.wrapper).add(this.table);if(a.width){j=0;c=this.thead.prev().find("col");f=0;for(d=c.length;f<d;f+=1){x=c[f].style.width;if(-1<x.indexOf("%")){j=0;break}j+=parseInt(x,10)}this._footerWidth=
null;j&&(k.width(j),this._footerWidth=j)}else k.width("");this.trigger("columnShow",{column:a})}},_progress:function(a){var c=this.element.is("table")?this.element.parent():this.content&&this.content.length?this.content:this.element;m.ui.progress(c,a)},refresh:function(a){var c,f,g="",d=this.dataSource.view();c=this.options.navigatable;var l;f=b(this.current());var k=!1,j=(this.dataSource.group()||[]).length,e=j+C(this.columns).length;if(!a||!("itemchange"===a.action&&this.editable))if(a=a||{},!this.trigger("dataBinding",
{action:a.action||"rebind",index:a.index,items:a.items})){a=A();if(c&&(this.table[0]===a||b.contains(this.table[0],a)||this._editContainer&&this._editContainer.data("kendoWindow")))k=f.is("th"),l=0,k&&(l=this.thead.find("th:not(.k-group-cell)").index(f));this._destroyEditable();this._progress(!1);this._data=[];this.columns.length||(this._autoColumns(this._firstDataItem(d[0],j)),e=j+this.columns.length);if(this._group=0<j||this._group)this._templates(),this._updateCols(),this._updateHeader(j),this._group=
0<j;if(0<j){this.detailTemplate&&e++;this.groupFooterTemplate&&(this._groupAggregatesDefaultObject=z(this.dataSource.aggregate()));f=0;for(c=d.length;f<c;f++)g+=this._groupRowHtml(d[f],e,0)}else g+=this._rowsHtml(d);x?this.tbody[0].innerHTML=g:(d=document.createElement("div"),d.innerHTML="<table><tbody>"+g+"</tbody></table>",g=d.firstChild.firstChild,this.table[0].replaceChild(g,this.tbody[0]),this.tbody=b(g));this._footer();this._setContentHeight();0<=l&&(this._removeCurrent(),k?this.current(this.thead.find("th:not(.k-group-cell)").eq(l)):
this.current(this.items().eq(l).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()),this._current&&D(this._current.closest("table")[0],!0));this.trigger("dataBound")}}});d.plugin(na);d.plugin(R)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.ui.Widget,n=u.keys,r=b.proxy,z=u._activeElement,E=u.ui.progress,C=u.data.DataSource,s=y.extend({init:function(e,h){h=b.isArray(h)?{dataSource:h}:h;y.fn.init.call(this,e,h);h=this.options;this.wrapper=e=this.element;e[0].id&&(this._itemId=e[0].id+"_lv_active");this._element();this._dataSource();this.template=u.template(h.template||"");this.altTemplate=u.template(h.altTemplate||h.template);this.editTemplate=u.template(h.editTemplate||"");this._navigatable();this._selectable();
this._pageable();this._crudHandlers();this.options.autoBind&&this.dataSource.fetch();u.notify(this)},events:"change cancel dataBinding dataBound edit remove save".split(" "),options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},_item:function(b){return this.element.children()[b]()},items:function(){return this.element.children()},setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.options.autoBind&&b.fetch()},_unbindDataSource:function(){this.dataSource.unbind("change",
this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=r(this.refresh,this),this._progressHandler=r(this._progress,this),this._errorHandler=r(this._error,this));this.dataSource=C.create(this.options.dataSource).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_progress:function(){E(this.element,
!0)},_error:function(){E(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(e){var h=this.dataSource.view(),n,p,r="",s;p=this.template;var q=this.altTemplate;n=z();if(e&&"itemchange"===e.action)this.editable||(n=e.items[0],e=b.inArray(n,h),0<=e&&(this.items().eq(e).replaceWith(p(n)),h=this.items().eq(e),h.attr(u.attr("uid"),n.uid),this.trigger("itemChange",{item:h,data:n})));else if(e=e||{},!this.trigger("dataBinding",{action:e.action||
"rebind",items:e.items,index:e.index})){this._destroyEditable();e=0;for(s=h.length;e<s;e++)r=e%2?r+q(h[e]):r+p(h[e]);this.element.html(r);p=this.items();e=0;for(s=h.length;e<s;e++)p.eq(e).attr(u.attr("uid"),h[e].uid).attr("role","option").attr("aria-selected","false");this.element[0]===n&&this.options.navigatable&&this.current(p.eq(0));this.trigger("dataBound")}},_pageable:function(){var e=this.options.pageable,h;b.isPlainObject(e)&&(h=e.pagerId,e=b.extend({},e,{dataSource:this.dataSource,pagerId:null}),
this.pager=new u.ui.Pager(b("#"+h),e))},_selectable:function(){var b=this,h,t,p=b.options.selectable,r=b.options.navigatable;if(p&&((h="string"===typeof p&&-1<p.toLowerCase().indexOf("multiple"))&&b.element.attr("aria-multiselectable",!0),b.selectable=new u.ui.Selectable(b.element,{aria:!0,multiple:h,filter:">*",change:function(){b.trigger("change")}}),r))b.element.on("keydown.kendoListView",function(p){if(p.keyCode===n.SPACEBAR){t=b.current();p.target==p.currentTarget&&p.preventDefault();if(h)if(p.ctrlKey){if(t&&
t.hasClass("k-state-selected")){t.removeClass("k-state-selected");return}}else b.selectable.clear();else b.selectable.clear();b.selectable.value(t)}})},current:function(b){var h=this.element,n=this._current,p=this._itemId;if(b===w)return n;n&&(n[0].id===p&&n.removeAttr("id"),n.removeClass("k-state-focused"),h.removeAttr("aria-activedescendant"));b&&b[0]&&(p=b[0].id||p,this._scrollTo(b[0]),h.attr("aria-activedescendant",p),b.addClass("k-state-focused").attr("id",p));this._current=b},_scrollTo:function(e){var h,
n=!1;"auto"==this.wrapper.css("overflow")||"scroll"==this.wrapper.css("overflow")?h=this.wrapper[0]:(h=window,n=!0);var p=function(p,r){var q=n?b(e).offset()[p.toLowerCase()]:e["offset"+p],m=e["client"+r],d=b(h)["scroll"+p](),j=b(h)[r.toLowerCase()]();if(q+m>d+j)b(h)["scroll"+p](q+m-j);else if(q<d)b(h)["scroll"+p](q)};p("Top","Height");p("Left","Width")},_navigatable:function(){var e=this,h=e.element,t=function(p){e.current(b(p.currentTarget));b(p.target).is(":button,a,:input,a>.k-icon,textarea")||
h.focus()};e.options.navigatable&&(e._tabindex(),h.on("focus.kendoListView",function(){var b=e._current;if(!b||!b.is(":visible"))b=e._item("first");e.current(b)}).on("focusout.kendoListView",function(){e._current&&e._current.removeClass("k-state-focused")}).on("keydown.kendoListView",function(p){var t=p.keyCode,r=e.current(),q=b(p.target),m=!q.is(":button,textarea,a,a>.t-icon,input"),q=q.is(":text"),d=u.preventDefault,j=h.find(".k-edit-item"),k=z(),x;!m&&!q&&n.ESC!=t||q&&n.ESC!=t&&n.ENTER!=t||(n.UP===
t||n.LEFT===t?(r&&(r=r.prev()),e.current(!r||!r[0]?e._item("last"):r),d(p)):n.DOWN===t||n.RIGHT===t?(r&&(r=r.next()),e.current(!r||!r[0]?e._item("first"):r),d(p)):n.PAGEUP===t?(e.current(null),e.dataSource.page(e.dataSource.page()-1),d(p)):n.PAGEDOWN===t?(e.current(null),e.dataSource.page(e.dataSource.page()+1),d(p)):n.HOME===t?(e.current(e._item("first")),d(p)):n.END===t?(e.current(e._item("last")),d(p)):n.ENTER===t?0!==j.length&&(m||q)?(x=e.items().index(j),k&&k.blur(),e.save(),e.one("dataBound",
function(){e.element.trigger("focus");e.current(e.items().eq(x))})):""!==e.options.editTemplate&&e.edit(r):n.ESC===t&&(j=h.find(".k-edit-item"),0!==j.length&&(x=e.items().index(j),e.cancel(),e.element.trigger("focus"),e.current(e.items().eq(x)))))}),h.on("mousedown.kendoListView touchstart.kendoListView",">*",r(t,e)))},clearSelection:function(){this.selectable.clear();this.trigger("change")},select:function(e){var h=this.selectable;e=b(e);if(e.length)h.options.multiple||(h.clear(),e=e.first()),h.value(e);
else return h.value()},_destroyEditable:function(){this.editable&&(this.editable.destroy(),delete this.editable)},_modelFromElement:function(b){b=b.attr(u.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(b){var h=this.editable,n,p=this.template,r=!0;h&&(b&&(r=h.end()),r&&(h.element.index()%2&&(p=this.altTemplate),b=this._modelFromElement(h.element),this._destroyEditable(),n=h.element.index(),h.element.replaceWith(p(b)),this.items().eq(n).attr(u.attr("uid"),b.uid)));return r},
edit:function(b){var h=this._modelFromElement(b),n=b.index();this.cancel();b.replaceWith(this.editTemplate(h));b=this.items().eq(n).addClass("k-edit-item").attr(u.attr("uid"),h.uid);this.editable=b.kendoEditable({model:h,clearContainer:!1,errorTemplate:!1}).data("kendoEditable");this.trigger("edit",{model:h,item:b})},save:function(){var b=this.editable,h;b&&(b=b.element,h=this._modelFromElement(b),!this.trigger("save",{model:h,item:b})&&this._closeEditable(!0)&&this.dataSource.sync())},remove:function(b){var h=
this.dataSource,n=this._modelFromElement(b);this.trigger("remove",{model:n,item:b})||(b.hide(),h.remove(n),h.sync())},add:function(){var b=this.dataSource,h=b.indexOf((b.view()||[])[0]);0>h&&(h=0);this.cancel();b.insert(h,{});this.edit(this.element.children().first())},cancel:function(){var b=this.dataSource;if(this.editable){var h=this.editable.element,n=this._modelFromElement(h);this.trigger("cancel",{model:n,container:h})||(b.cancelChanges(n),this._closeEditable(!1))}},_crudHandlers:function(){var e=
this;e.element.on("click.kendoListView",".k-edit-button",function(h){var n=b(this).closest("["+u.attr("uid")+"]");e.edit(n);h.preventDefault()});e.element.on("click.kendoListView",".k-delete-button",function(h){var n=b(this).closest("["+u.attr("uid")+"]");e.remove(n);h.preventDefault()});e.element.on("click.kendoListView",".k-update-button",function(b){e.save();b.preventDefault()});e.element.on("click.kendoListView",".k-cancel-button",function(b){e.cancel();b.preventDefault()})},destroy:function(){y.fn.destroy.call(this);
this._unbindDataSource();this._destroyEditable();this.element.off(".kendoListView");this.pager&&this.pager.destroy();this.selectable&&this.selectable.destroy();u.destroy(this.element)}});u.ui.plugin(s)})(window.kendo.jQuery);
(function(b,w){function u(b,d){var j=b[d];return E(j)?j.field||d:j}function y(b,d){if(b===w||!b.match(/\/$/))b=(b||"")+"/";return b+d}function n(b){if(!b)return"";var d=" bytes";1073741824<=b?(d=" GB",b/=1073741824):1048576<=b?(d=" MB",b/=1048576):1024<=b&&(d=" KB",b/=1024);return Math.round(100*b)/100+d}var r=window.kendo,z=r.ui.Widget,E=b.isPlainObject,C=b.proxy,s=b.extend,e=r.support.placeholder,h=r.support.browser,t=b.isFunction,p=/(^\/|\/$)/g,v={field:"type",dir:"asc"},D=r.template('<li data-#=ns#value="#=value#" class="k-item">${text}</li>'),
q=r.template('<li class="k-tile-empty"><strong>${text}</strong></li>');s(!0,r.data,{schemas:{imagebrowser:{data:function(b){return b.items||b||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});s(!0,r.data,{transports:{imagebrowser:r.data.RemoteTransport.extend({init:function(d){r.data.RemoteTransport.fn.init.call(this,b.extend(!0,{},this.options,d))},_call:function(d,j){j.data=b.extend({},j.data,{path:this.options.path()});t(this.options[d])?this.options[d].call(this,j):r.data.RemoteTransport.fn[d].call(this,
j)},read:function(b){this._call("read",b)},create:function(b){this._call("create",b)},destroy:function(b){this._call("destroy",b)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var m;m=h.msie&&8>h.version?function(b){return b.offsetTop}:function(d){return d.offsetTop-b(d).height()};var h=z.extend({init:function(b,d){d=d||{};z.fn.init.call(this,b,d);this.element.addClass("k-imagebrowser");this.element.on("click.kendoImageBrowser",
".k-toolbar button:not(.k-state-disabled):has(.k-delete)",C(this._deleteClick,this)).on("click.kendoImageBrowser",".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",C(this._addClick,this)).on("keydown.kendoImageBrowser","li.k-state-selected input",C(this._directoryKeyDown,this)).on("blur.kendoImageBrowser","li.k-state-selected input",C(this._directoryBlur,this));this._dataSource();this.refresh();this.path(this.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",
orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop files here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:["error",
"change","apply"],destroy:function(){z.fn.destroy.call(this);this.dataSource.unbind("error",this._errorHandler);this.element.add(this.list).add(this.toolbar).off(".kendoImageBrowser");this.arrangeByPopup&&this.arrangeByPopup.destroy();r.destroy(this.element)},value:function(){var b=this._selectedItem(),d=this.options.transport.imageUrl;if(b&&"f"===b.get(this._getFieldName("type")))return b=y(this.path(),b.get(this._getFieldName("name"))).replace(p,""),d&&(b=t(d)?d(b):r.format(d,b)),b},_selectedItem:function(){var b=
this.listView.select();if(b.length)return this.dataSource.getByUid(b.attr(r.attr("uid")))},_toolbar:function(){var d=this,j=r.template('<div class="k-widget k-toolbar k-floatwrap"><div class="k-toolbar-wrap">#if(showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-button-bare k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div>#}##if(showCreate) {#<button type="button" class="k-button k-button-icon k-button-bare"><span class="k-icon k-addfolder"></span></button>#}##if(showDelete) {#<button type="button" class="k-button k-button-icon k-button-bare k-state-disabled"><span class="k-icon k-delete"></span></button>&nbsp;#}#</div><div class="k-tiles-arrange">#=messages.orderBy#: <a href="\\#" class="k-link"><span>#=messages.orderByName#</span><span class="k-icon k-i-arrow-s"></span></a></div></div>'),
e=d.options.messages,a,c=[{text:e.orderByName,value:"name",ns:r.ns},{text:e.orderBySize,value:"size",ns:r.ns}];d.toolbar=b(j({messages:e,showUpload:d.options.transport.uploadUrl,showCreate:d.options.transport.create,showDelete:d.options.transport.destroy})).appendTo(d.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:e.dropFilesHere},async:{saveUrl:d.options.transport.uploadUrl,autoUpload:!0},upload:C(d._fileUpload,d)}).end();d.upload=d.toolbar.find(".k-upload input").data("kendoUpload");
j=d.toolbar.find(".k-tiles-arrange a");d.arrangeByPopup=a=b("<ul>"+r.render(D,c)+"</ul>").kendoPopup({anchor:j}).on("click.kendoImageBrowser","li",function(){var c=b(this),j=c.attr(r.attr("value"));d.toolbar.find(".k-tiles-arrange a span:first").html(c.text());a.close();d.orderBy(j)}).data("kendoPopup");j.on("click.kendoImageBrowser",function(c){c.preventDefault();a.toggle()});d._attachDropzoneEvents()},_attachDropzoneEvents:function(){if(this.options.transport.uploadUrl){var d=b(document.documentElement),
j=b.proxy(this._dropEnter,this),e=b.proxy(this._dropLeave,this),a,c;d.on("dragenter.kendoImageBrowser",function(){j();c=new Date;a||(a=setInterval(function(){100<new Date-c&&(e(),clearInterval(a),a=null)},100))}).on("dragover.kendoImageBrowser",function(){c=new Date});this._scrollHandler=C(this._positionDropzone,this)}},_dropEnter:function(){this._positionDropzone();b(document).on("scroll.kendoImageBrowser",this._scrollHandler)},_dropLeave:function(){this._removeDropzone();b(document).off("scroll.kendoImageBrowser",
this._scrollHandler)},_positionDropzone:function(){var b=this.element,d=b.offset();this.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(d).css({width:b[0].clientWidth,height:b[0].clientHeight,lineHeight:b[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var b=this.listView.select(),d=r.format(this.options.messages.deleteFile,
b.find("strong").text());b.length&&this._showMessage(d,"confirm")&&this.listView.remove(b)},_addClick:function(){this.createDirectory()},_fileUpload:function(b){var d=this,j=d.options,a=j.fileTypes,c=RegExp(("("+a.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),l=b.files[0].name,e=d._getFieldName("name"),f=d._getFieldName("size"),g;if(c.test(l))if(b.data={path:d.path()},g=d._createFile(l))d.upload.one("success",function(a){g.set(e,a.response[e]);g.set(f,a.response[f]);d._tiles=d.listView.items().filter("["+
r.attr("type")+"=f]");d._scroll()});else b.preventDefault();else b.preventDefault(),d._showMessage(r.format(j.messages.invalidFileType,l,a))},_findFile:function(b){var d=this.dataSource.data(),j,a,c=this._getFieldName("type"),l=this._getFieldName("name"),e;b=b.toLowerCase();j=0;for(e=d.length;j<e;j++)if("f"===d[j].get(c)&&d[j].get(l).toLowerCase()===b){a=d[j];break}return a},_createFile:function(b){var d,j,a=0,c={},l=this._getFieldName("type"),e=this.dataSource.view();if((d=this._findFile(b))&&!this._showMessage(r.format(this.options.messages.overwriteFile,
b),"confirm"))return null;if(d)return d;d=0;for(j=e.length;d<j;d++)if("f"===e[d].get(l)){a=d;break}c[l]="f";c[this._getFieldName("name")]=b;c[this._getFieldName("size")]=0;return this.dataSource.insert(++a,c)},createDirectory:function(){var b=this,d,j,a=0,c=b._getFieldName("type"),l=b._getFieldName("name"),e=b.dataSource.data(),f=b._nameDirectory(),g=new b.dataSource.reader.model;d=0;for(j=e.length;d<j;d++)"d"===e[d].get(c)&&(a=d);g.set(c,"d");g.set(l,f);b.listView.one("dataBound",function(){var a=
b.listView.items().filter("["+r.attr("uid")+"="+g.uid+"]"),c=a.find("input");a.length&&this.edit(a);this.element.scrollTop(a.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){c.select()})}).one("save",function(a){var c=a.model.get(l);c?a.model.set(l,b._nameExists(c,g.uid)?b._nameDirectory():c):a.model.set(l,f)});b.dataSource.insert(++a,g)},_directoryKeyDown:function(b){13==b.keyCode&&b.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(b,
d){var j=this.dataSource.data(),a=this._getFieldName("type"),c=this._getFieldName("name"),l,e;l=0;for(e=j.length;l<e;l++)if("d"===j[l].get(a)&&j[l].get(c).toLowerCase()===b.toLowerCase()&&j[l].uid!==d)return!0;return!1},_nameDirectory:function(){var d="New folder",j=this.dataSource.data(),e=[],a=this._getFieldName("type"),c=this._getFieldName("name"),l,h;l=0;for(h=j.length;l<h;l++)"d"===j[l].get(a)&&-1<j[l].get(c).toLowerCase().indexOf(d.toLowerCase())&&e.push(j[l].get(c));if(-1<b.inArray(d,e)){l=
2;do j=d+" ("+l+")",l++;while(-1<b.inArray(j,e));d=j}return d},orderBy:function(b){this.dataSource.sort([{field:this._getFieldName("type"),dir:"asc"},{field:this._getFieldName(b),dir:"asc"}])},search:function(b){this.dataSource.filter({field:this._getFieldName("name"),operator:"contains",value:b})},_content:function(){var d=this;d.list=b('<ul class="k-reset k-floats k-tiles" />').appendTo(d.element).on("scroll.kendoImageBrowser",C(d._scroll,d)).on("dblclick.kendoImageBrowser","li",C(d._dblClick,d));
d.listView=new r.ui.ListView(d.list,{dataSource:d.dataSource,template:d._itemTmpl(),editTemplate:d._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(b){d.toolbar.find(".k-delete").parent().addClass("k-state-disabled");("remove"===b.action||"sync"===b.action)&&b.preventDefault()},dataBound:function(){d.dataSource.view().length?(d._tiles=this.items().filter("["+r.attr("type")+"=f]"),d._scroll()):this.wrapper.append(q({text:d.options.messages.emptyFolder}))},change:C(d._listViewChange,d)})},
_dblClick:function(d){d=b(d.currentTarget);if(d.filter("["+r.attr("type")+"=d]").length){if(d=this.dataSource.getByUid(d.attr(r.attr("uid"))))this.path(y(this.path(),d.get(this._getFieldName("name")))),this.breadcrumbs.value(this.path())}else d.filter("["+r.attr("type")+"=f]").length&&this.trigger("apply")},_listViewChange:function(){var b=this._selectedItem();b&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===b.get(this._getFieldName("type"))&&this.trigger("change"))},
_dataSource:function(){var b=this.options,d=b.transport,j=s({},v),a={field:"name",dir:"asc"},c={type:d.type||"imagebrowser",sort:[j,a]};E(d)&&(d.path=C(this.path,this),c.transport=d);E(b.schema)?(c.schema=b.schema,E(b.schema.model)&&b.schema.model.fields&&(j.field=u(b.schema.model.fields,"type"),a.field=u(b.schema.model.fields,"name"))):d.type&&E(r.data.schemas[d.type])&&(b=r.data.schemas[d.type],E(b.model)&&b.model.fields&&(j.field=u(b.model.fields,"type"),a.field=u(b.model.fields,"name")));this.dataSource&&
this._errorHandler?this.dataSource.unbind("error",this._errorHandler):this._errorHandler=C(this._error,this);this.dataSource=r.data.DataSource.create(c).bind("error",this._errorHandler)},_navigation:function(){var d=this,j=b('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);d.breadcrumbs=j.find("input:first").kendoBreadcrumbs({value:d.options.path,change:function(){d.path(this.value())}}).data("kendoBreadcrumbs");d.searchBox=j.parent().find("input:last").kendoSearchBox({label:d.options.messages.search,
change:function(){d.search(this.value())}}).data("kendoSearchBox")},_error:function(b){var d;this.trigger("error",b)||(d=b.xhr.status,"error"==b.status?"404"==d?this._showMessage(this.options.messages.directoryNotFound):"0"!=d&&this._showMessage("Error! The requested URL returned "+d+" - "+b.xhr.statusText):"timeout"==d&&this._showMessage("Error! Server timeout."))},_showMessage:function(b,d){return window[d||"alert"](b)},refresh:function(){this._navigation();this._toolbar();this._content()},_loadImage:function(d){var j=
b(d),e=this.dataSource.getByUid(j.attr(r.attr("uid"))).get(this._getFieldName("name")),a=this.options.transport.thumbnailUrl,c=b("<img />",{alt:e}).hide().on("load.kendoImageBrowser",function(){b(this).prev().remove().end().addClass("k-image").fadeIn()}),l="?";j.find(".k-loading").after(c);t(a)?a=a(this.path(),encodeURIComponent(e)):(0<=a.indexOf("?")&&(l="&"),a=a+l+"path="+this.path()+encodeURIComponent(e));c.attr("src",a);d.loaded=!0},_scroll:function(){var b=this;b.options.transport&&b.options.transport.thumbnailUrl&&
(clearTimeout(b._timeout),b._timeout=setTimeout(function(){var d=b.list.outerHeight(),j=b.list.scrollTop(),a=j+d;b._tiles.each(function(){var c=m(this),d=c+this.offsetHeight;(c>=j&&c<a||d>=j&&d<a)&&b._loadImage(this);if(c>a)return!1});b._tiles=b._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var b='<li class="k-tile k-state-selected" '+r.attr("uid")+'="#=uid#" ',b=b+(r.attr("type")+'="${'+this._getFieldName("type")+'}">'),b=b+("#if("+this._getFieldName("type")+' == "d") { #'),
b=b+'<div class="k-thumb"><span class="k-icon k-folder"></span></div>#}else{#',b=b+'<div class="k-thumb"><span class="k-icon k-loading"></span></div>',b=b+"#}#",b=b+("#if("+this._getFieldName("type")+' == "d") { #'),b=b+('<input class="k-input" '+r.attr("bind")+'="value:'+this._getFieldName("name")+'"/>'),b=b+"#}#",b=b+"</li>";return C(r.template(b),{sizeFormatter:n})},_itemTmpl:function(){var b='<li class="k-tile" '+r.attr("uid")+'="#=uid#" ',b=b+(r.attr("type")+'="${'+this._getFieldName("type")+
'}">'),b=b+("#if("+this._getFieldName("type")+' == "d") { #'),b=b+'<div class="k-thumb"><span class="k-icon k-folder"></span></div>#}else{#',b=this.options.transport&&this.options.transport.thumbnailUrl?b+'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':b+'<div class="k-thumb"><span class="k-icon k-file"></span></div>',b=b+"#}#",b=b+("<strong>${"+this._getFieldName("name")+"}</strong>"),b=b+("#if("+this._getFieldName("type")+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+
this._getFieldName("size")+")}</span> #}#"),b=b+"</li>";return C(r.template(b),{sizeFormatter:n})},_getFieldName:function(b){return u(this.dataSource.reader.model.fields,b)},path:function(b){var d=this._path||"";if(b!==w)this._path=b.replace(p,"")+"/",this.dataSource.read({path:this._path});else return d&&(d=d.replace(p,"")),"/"===d||""===d?"":d+"/"}}),d=z.extend({init:function(b,d){d=d||{};z.fn.init.call(this,b,d);e&&this.element.attr("placeholder",this.options.label);this._wrapper();this.element.on("keydown.kendoSearchBox",
C(this._keydown,this)).on("change.kendoSearchBox",C(this._updateValue,this));this.wrapper.on("click.kendoSearchBox","a",C(this._click,this));if(!e)this.element.on("focus.kendoSearchBox",C(this._focus,this)).on("blur.kendoSearchBox",C(this._blur,this))},options:{name:"SearchBox",label:"Search",value:""},events:["change"],destroy:function(){this.wrapper.add(this.element).add(this.label).off(".kendoSearchBox");z.fn.destroy.call(this)},_keydown:function(b){13===b.keyCode&&this._updateValue()},_click:function(b){b.preventDefault();
this._updateValue()},_updateValue:function(){var b=this.element.val();b!==this.value()&&(this.value(b),this.trigger("change"))},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){e||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var d=this.element,j=d.parents(".k-search-wrap");d[0].style.width="";d.addClass("k-input k-textbox");j.length||(j=d.wrap(b('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),e||b('<label style="display:block">'+
this.options.label+"</label>").insertBefore(d),b('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(j));this.wrapper=j;this.label=j.find(">label")},value:function(b){if(b!==w)this.options.value=b,this.element.val(b),this._toggleLabel();else return this.options.value}}),j=z.extend({init:function(b,d){d=d||{};z.fn.init.call(this,b,d);this._wrapper();this.wrapper.on("focus.kendoBreadcrumbs","input",C(this._focus,this)).on("blur.kendoBreadcrumbs","input",C(this._blur,this)).on("keydown.kendoBreadcrumbs",
"input",C(this._keydown,this)).on("click.kendoBreadcrumbs","a.k-i-arrow-n:first",C(this._rootClick,this)).on("click.kendoBreadcrumbs","a:not(.k-i-arrow-n)",C(this._click,this));this.value(this.options.value)},options:{name:"Breadcrumbs",gap:50},events:["change"],destroy:function(){z.fn.destroy.call(this);this.wrapper.add(this.wrapper.find("input")).add(this.wrapper.find("a")).off(".kendoBreadcrumbs")},_update:function(b){b="/"===(b||"").charAt(0)?b:"/"+(b||"");b!==this.value()&&(this.value(b),this.trigger("change"))},
_click:function(d){d.preventDefault();this._update(this._path(b(d.target).prevAll("a:not(.k-i-arrow-n)").andSelf()))},_rootClick:function(b){b.preventDefault();this._update("")},_focus:function(){var b=this.element;this.overlay.hide();this.element.val(this.value());setTimeout(function(){b.select()})},_blur:function(){if(!this.overlay.is(":visible")){var b=this.element,d=b.val().replace(/\/{2,}/g,"/");this.overlay.show();b.val("");this._update(d)}},_keydown:function(b){var d=this;13===b.keyCode&&(d._blur(),
setTimeout(function(){d.overlay.find("a:first").focus()}))},_wrapper:function(){var d=this.element,j=d.parents(".k-breadcrumbs");d[0].style.width="";d.addClass("k-input");j.length||(j=d.wrap(b('<div class="k-widget k-breadcrumbs k-header k-state-default"/>')).parent());d=j.find(".k-breadcrumbs-wrap");d.length||(d=b('<div class="k-breadcrumbs-wrap"/>').appendTo(j));this.wrapper=j;this.overlay=d},refresh:function(){var d="",j=this.value(),e,a,c;if(j===w||!j.match(/^\//))j="/"+(j||"");j=j.split("/");
a=0;for(c=j.length;a<c;a++)if(e=j[a])d||(d+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),d+='<a class="k-link" href="#">'+j[a]+"</a>",d+='<span class="k-icon k-i-arrow-e">&gt;</span>';this.overlay.empty().append(b(d));this._adjustSectionWidth()},_adjustSectionWidth:function(){var d=this.wrapper.width()-this.options.gap,j=this.overlay.find("a"),e;j.each(function(a){e=b(this);e.parent().width()>d&&(a==j.length-1?e.width(d):e.prev().andSelf().hide())})},value:function(b){if(b!==w)this._value=b.replace(/\/{2,}/g,
"/"),this.refresh();else return this._value},_path:function(d){return"/"+b.map(d,function(d){return b(d).text()}).join("/")}});r.ui.plugin(h);r.ui.plugin(j);r.ui.plugin(d)})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.Class,n=u.ui.Widget,r=u.support.mobileOS,z=u.support.browser,E=b.extend,C=u.deepExtend,s=u.keys,e=y.extend({init:function(b){this.options=b},getHtml:function(){var b=this.options;return u.template(b.template)({cssClass:b.cssClass,tooltip:b.title,initialValue:b.initialValue})}}),h={select:function(b){b.trigger("select",{})},editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar"></ul></td></tr><tr><td class="k-editable-area"></td></tr></tbody></table>',
buttonTemplate:'<li class="k-editor-button" role="presentation"><a href="" role="button" class="k-tool-icon #= cssClass #" unselectable="on" title="#= tooltip #">#= tooltip #</a></li>',colorPickerTemplate:'<li class="k-editor-colorpicker" role="presentation"><div class="k-colorpicker #= cssClass #"></div></li>',comboBoxTemplate:'<li class="k-editor-combobox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',dropDownListTemplate:'<li class="k-editor-selectbox"><select title="#= tooltip #" class="#= cssClass #"></select></li>',
separatorTemplate:'<li class="k-separator"></li>',focusable:".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",wrapTextarea:function(d){var j=d[0].style.width,a=d[0].style.height,j=b(h.editorWrapperTemplate).insertBefore(d).width(j).height(a).find(".k-editable-area");d.appendTo(j).addClass("k-content k-raw-content").hide();return d.closest(".k-editor")},renderTools:function(d,j){var a={},c,l,k=d._nativeTools,f,g=b(d.element).closest(".k-editor").find(".k-editor-toolbar");
if(j)for(l=0;l<j.length;l++)if(c=j[l],f=null,b.isPlainObject(c)?c.name&&d.tools[c.name]?(b.extend(d.tools[c.name].options,c),a[c.name]=d.tools[c.name],f=a[c.name].options):(f=E({cssClass:"k-i-custom",type:"button",tooltip:""},c),f.name&&(f.cssClass="k-"+("custom"==f.name?"i-custom":f.name)),!f.template&&"button"==f.type&&(f.template=h.buttonTemplate)):d.tools[c]&&(a[c]=d.tools[c],f=a[c].options),f&&(c=f.template))c.getHtml?c=c.getHtml():(b.isFunction(c)||(c=u.template(c)),c=c(f)),0!==c.indexOf("<li")&&
(c="<li class='k-editor-template'>"+c+"</li>"),c=b(c).appendTo(g),"button"==f.type&&f.exec&&c.find(".k-tool-icon").click(b.proxy(f.exec,d.element[0]));for(l=0;l<k.length;l++)a[k[l]]||(a[k[l]]=d.tools[k[l]]);d.options.tools=a},decorateStyleToolItems:function(d){var j=d.data.closest(".k-editor").find(".k-style").data("kendoSelectBox");if(j){var a=j.dataSource.view();j.list.find(".k-item").each(function(c,l){var j=b(l),f=j.text(),g=u.ui.editor.Dom.inlineStyle(d.data.data("kendoEditor").document,"span",
{className:a[c].value});j.html('<span unselectable="on" style="display:block;'+g+'">'+f+"</span>")})}},createContentElement:function(d,j){var a,c,l=u.support.isRtl(d)?"direction:rtl;":"";d.hide();a=b("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(d)[0];c=a.contentWindow||a;if(0<j.length)b(a).one("load",d,h.decorateStyleToolItems);a=c.document||a.contentDocument;a.open();a.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font: 12px/1.5 Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+
l+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}</style>"+b.map(j,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body contenteditable='true'></body></html>");a.close();
return c},initializeContentElement:function(d){var j=!0;d.window=h.createContentElement(b(d.textarea),d.options.stylesheets);d.document=d.window.contentDocument||d.window.document;d.body=d.document.body;b(d.document).on("keydown.kendoEditor",function(a){var c;if(a.keyCode===s.F10)setTimeout(function(){var a=d.wrapper,c=a.attr("tabIndex");a.attr("tabIndex",c||0).focus().find("li:has("+p+")").first().focus();!c&&0!==c&&a.removeAttr("tabIndex")},100),a.preventDefault();else{if(a.keyCode===s.BACKSPACE){c=
d.getRange();var b,k=u.support.browser.msie?"":'<br _moz_dirty="" />',f=u.ui.editor.Dom;c.deleteContents();b=c.commonAncestorContainer;"p"===f.name(b)&&""===b.innerHTML&&(b.innerHTML=k,c.setStart(b,0),c.collapse(!0),d.selectRange(c))}if(c=d.keyboard.toolFromShortcut(d.options.tools,a))return a.preventDefault(),/undo|redo/.test(c)||d.keyboard.endTyping(!0),d.exec(c),!1;d.keyboard.isTypingKey(a)&&d.pendingFormats.hasPending()&&(j?j=!1:(c=d.getRange(),d.pendingFormats.apply(c),d.selectRange(c)));d.keyboard.clearTimeout();
d.keyboard.keydown(a)}}).on("keyup.kendoEditor",function(a){if(-1<b.inArray(a.keyCode,[8,9,33,34,35,36,37,38,39,40,40,45,46])||65==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey)d.pendingFormats.clear(),t(d);if(d.keyboard.isTypingKey(a)){if(d.pendingFormats.hasPending()){var c=d.getRange();d.pendingFormats.apply(c);d.selectRange(c)}}else j=!0;d.keyboard.keyup(a)}).on("mousedown.kendoEditor",function(a){d.pendingFormats.clear();var c=b(a.target);!z.gecko&&(2==a.which&&c.is("a[href]"))&&window.open(c.attr("href"),
"_new")}).on("mouseup.kendoEditor",function(){t(d)}).on("click.kendoEditor",function(a){var c;"img"===u.ui.editor.Dom.name(a.target)&&(c=d.createRange(),c.selectNode(a.target),d.selectRange(c))});b(d.window).on("blur.kendoEditor",function(){var a=d.textarea.value,c=d.encodedValue();d.update();c!=a&&d.trigger("change")});b(d.body).on("cut.kendoEditor paste.kendoEditor",function(a){d.clipboard["on"+a.type](a)})},formatByName:function(d,j){for(var a=0;a<j.length;a++)if(0<=b.inArray(d,j[a].tags))return j[a]},
registerTool:function(b,d){d.options&&d.options.template&&(d.options.template.options.cssClass="k-"+b);j.fn._tools[b]=d},registerFormat:function(b,d){j.fn.options.formats[b]=d},createDialog:function(d,j,a){j=u.support.isRtl(j.wrapper);d=b(d).appendTo(document.body).kendoWindow(a);j&&d.closest(".k-window").addClass("k-rtl");return d}},t=h.select,p=h.focusable,v=h.wrapTextarea,D=h.renderTools,q=h.initializeContentElement,m={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",
superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",
formatBlock:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",
imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel"},d=!r||r.ios&&500<=r.flatVersion||!r.ios&&"undefined"!=typeof document.documentElement.contentEditable,j=n.extend({init:function(j,k){function a(a){a=b.grep(a.className.split(" "),function(a){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(a)});
return a[0]?a[0].substring(a[0].lastIndexOf("-")+1):"custom"}function c(a,c){if(!c.key)return a;var b=a+" (";c.ctrl&&(b+="Ctrl + ");c.shift&&(b+="Shift + ");c.alt&&(b+="Alt + ");return b+=c.key+")"}if(d){var l=this,e,f,g=u.ui.editor;n.fn.init.call(l,j,k);l.tools=C({},u.ui.Editor.fn._tools);l.options=C({},l.options,k);j=b(j);j.closest("form").on("submit.kendoEditor",function(){l.update()});for(f in l.tools)l.tools[f].name=f.toLowerCase();l.textarea=j.attr("autocomplete","off")[0];e=l.wrapper=v(j);
l.textarea.id&&e.find(".k-editor-toolbar").attr("aria-controls",l.textarea.id);D(l,l.options.tools);q(l);l.keyboard=new g.Keyboard([new g.TypingHandler(l),new g.SystemHandler(l)]);l.clipboard=new g.Clipboard(this);l.pendingFormats=new g.PendingFormats(this);l.undoRedoStack=new g.UndoRedoStack;f=k&&k.value?k.value:j.val().replace(/[\r\n\v\f\t ]+/gi," ");l.value(f);e.find(".k-combobox .k-input").keydown(function(a){var c=b(this).closest(".k-combobox").data("kendoComboBox"),f=a.keyCode;f==s.RIGHT||f==
s.LEFT?c.close():f==s.DOWN&&!c.dropDown.isOpened()&&(a.stopImmediatePropagation(),c.open())});e.on("mouseenter.kendoEditor",".k-editor-button .k-tool-icon:not(.k-state-disabled)",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoEditor",".k-editor-button .k-tool-icon:not(.k-state-disabled)",function(){b(this).removeClass("k-state-hover")}).on("mousedown.kendoEditor",".k-editor-button .k-tool-icon",!1).on("keydown.kendoEditor",p,function(a){var c=b(this).closest("li"),f="li:has("+
p+")",d,g=a.keyCode;if(g==s.RIGHT)d=c.nextAll(f).first().find(p);else if(g==s.LEFT)d=c.prevAll(f).first().find(p);else if(g==s.ESC)d=l;else if(g==s.TAB&&!a.ctrlKey&&!a.altKey)if(a.shiftKey)if(d=c.prevAll(f).first().find(p),d.length)a.preventDefault();else return;else a.preventDefault(),d=c.nextAll(f).first().find(p),d.length||(d=l);d&&d.focus()}).on("click.kendoEditor",".k-editor-button .k-tool-icon:not(.k-state-disabled)",function(c){c.preventDefault();c.stopPropagation();l.exec(a(this))}).on("click.kendoEditor",
".k-editor-button .k-tool-icon.k-state-disabled",function(a){a.preventDefault()}).find(".k-editor-toolbar > li > *, .k-editor-toolbar > li select").each(function(){var f=a(this),d=l.options,g=d.tools[f],j=d.messages[f],k=b(this);if(g){if("fontSize"==f||"fontName"==f)f=d.messages[f+"Inherit"]||m[f+"Inherit"],k.find("input").val(f).end().find("span.k-input").text(f).end();g.initialize(k,{title:c(j,g),editor:l})}});l.bind("select",function(){var c=l.getRange(),f=g.RangeUtils.textNodes(c);f.length||(f=
[c.startContainer]);e.find(".k-editor-toolbar > li > *, .k-editor-toolbar > li select").each(function(){var c=l.options.tools[a(this)];c&&c.update(b(this),f,l.pendingFormats)})});l._DOMNodeInsertedHandler=function(a){l._DOMNodeInserted(a)};l._endTypingHandler=function(){l._endTyping()};b(document).on("DOMNodeInserted",l._DOMNodeInsertedHandler).on("mousedown",l._endTypingHandler);u.notify(l)}},_endTyping:function(){try{this.keyboard.isTypingInProgress()&&this.keyboard.endTyping(!0),this.selectionRestorePoint||
(this.selectionRestorePoint=new u.ui.editor.RestorePoint(this.getRange()))}catch(b){}},_DOMNodeInserted:function(d){var j=this.wrapper;if(b.contains(d.target,j[0])||j[0]==d.target)this.textarea.value=this.value(),j.find("iframe").remove(),q(this),this.value(this.textarea.value)},events:"select change execute error paste keydown keyup".split(" "),options:{name:"Editor",messages:m,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",
value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",
value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:"bold italic underline strikethrough fontName fontSize foreColor backColor justifyLeft justifyCenter justifyRight justifyFull insertUnorderedList insertOrderedList indent outdent formatBlock createLink unlink insertImage".split(" ")},
destroy:function(){n.fn.destroy.call(this);b(this.window).add(this.document).add(this.wrapper).add(this.element.closest("form")).off(".kendoEditor");b(document).off("DOMNodeInserted",this._DOMNodeInsertedHandler).off("mousedown",this._endTypingHandler);u.destroy(this.wrapper)},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","insertHtml"],_tools:{undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},tools:{},value:function(d){var j=this.body,a=u.ui.editor.Dom,c=u.ui.editor.Serializer.domToXhtml(j);
if(d===w)return c;if(d!=c){this.pendingFormats.clear();var l=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;d=(d||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(a){return a.replace(l,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1");z.msie||(d=d.replace(/<p([^>]*)>(\s*)?<\/p>/gi,'<p $1><br _moz_dirty="" /></p>'));z.msie&&9>z.version?(d=("<br/>"+d).replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,
'originalhref="$1"'),d=d.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,'originalsrc="$1"'),j.innerHTML=d,a.remove(j.firstChild),b(j).find("telerik\\:script,script,link,img,a").each(function(){this.originalhref&&(this.setAttribute("href",this.originalhref),this.removeAttribute("originalhref"));this.originalsrc&&(this.setAttribute("src",this.originalsrc),this.removeAttribute("originalsrc"))})):(j.innerHTML=d,z.msie&&(a.normalize(j),setTimeout(function(){var a=j.getElementsByTagName("ol"),c,b,d;for(c=
0;c<a.length;c++)b=a[c],d=b.getAttribute("start"),b.setAttribute("start",1),d?b.setAttribute("start",d):b.removeAttribute(d)},1)));this.selectionRestorePoint=null;this.update()}},focus:function(){this.window.focus()},update:function(b){this.textarea.value=b||this.options.encoded?this.encodedValue():this.value()},encodedValue:function(){return u.ui.editor.Dom.encode(this.value())},createRange:function(b){return u.ui.editor.RangeUtils.createRange(b||this.document)},getSelection:function(){return u.ui.editor.SelectionUtils.selectionFromDocument(this.document)},
selectRange:function(b){this.focus();var d=this.getSelection();d.removeAllRanges();d.addRange(b)},getRange:function(){var b=this.getSelection(),b=0<b.rangeCount?b.getRangeAt(0):this.createRange(),d=this.document;b.startContainer==d&&(b.endContainer==d&&!b.startOffset&&!b.endOffset)&&(b.setStart(this.body,0),b.collapse(!0));return b},selectedHtml:function(){return u.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(b){this.clipboard.paste(b)},exec:function(d,j){var a=
this,c,l,k="";d=d.toLowerCase();a.keyboard.isTypingInProgress()||(a.focus(),c=a.getRange());for(l in a.options.tools)if(l.toLowerCase()==d){k=a.options.tools[l];break}if(k){c=a.getRange();if(!/undo|redo/i.test(d)&&k.willDelayExecution(c))c=b.extend({},k),b.extend(c.options,{params:j}),a.pendingFormats.toggle(c);else if(c=k.command?k.command(E({range:c},j)):null,a.trigger("execute",{name:d,command:c}),/undo|redo/i.test(d))a.undoRedoStack[d]();else if(c&&(c.managesUndoRedo||a.undoRedoStack.push(c),
c.editor=a,c.exec(),c.async)){c.change=b.proxy(function(){t(a)},a);return}t(a)}}});u.ui.plugin(j);var k=y.extend({init:function(b){this.options=b},initialize:function(b,d){b.attr({unselectable:"on",title:d.title})},command:function(b){return new this.options.command(b)},update:function(){},willDelayExecution:function(){return!1}});k.exec=function(b,d,a){b.exec(d,{value:a})};y=k.extend({init:function(b){k.fn.init.call(this,b)},command:function(b){return new u.ui.editor.FormatCommand(E(b,{formatter:this.options.formatter}))},
update:function(b,d,a){a=a.isPending(this.name);d=this.options.finder.isFormatted(d);d=a?!d:d;b.toggleClass("k-state-active",d);b.attr("aria-pressed",d)}});h.registerTool("separator",new k({template:new e({template:h.separatorTemplate})}));E(u.ui,{editor:{ToolTemplate:e,EditorUtils:h,Tool:k,FormatTool:y}})})(window.jQuery);
(function(b){function w(a){var c={},b,d;b=0;for(d=a.length;b<d;b++)c[a[b]]=!0;return c}var u=window.kendo,y=b.map,n=b.extend,r=u.support.browser,z=w("area base basefont br col frame hr img input isindex link meta param embed".split(" ")),E="div p h1 h2 h3 h4 h5 h6 address applet blockquote button center dd dir dl dt fieldset form frameset hr iframe isindex li map menu noframes noscript object ol pre script table tbody td tfoot th thead tr ul".split(" "),C=w(E),s="span em a abbr acronym applet b basefont bdo big br button cite code del dfn font i iframe img input ins kbd label map object q s samp script select small strike strong sub sup textarea tt u var".split(" "),
e=w(s),h=w("checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected".split(" ")),t=function(a){1==a.nodeType&&a.normalize()};r.msie&&8<=r.version&&(t=function(a){if(1==a.nodeType&&a.firstChild)for(var c=a=a.firstChild;;){c=c.nextSibling;if(!c)break;3==c.nodeType&&3==a.nodeType&&(c.nodeValue=a.nodeValue+c.nodeValue,A.remove(a));a=c}});var p=/^\s+$/,v=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,D=/&/g,q=/</g,m=/>/g,d=/\u00a0/g,j=/\ufeff/g,k,x="color padding-left padding-right padding-top padding-bottom background-color background-attachment background-image background-position background-repeat border-top-style border-top-width border-top-color border-bottom-style border-bottom-width border-bottom-color border-left-style border-left-width border-left-color border-right-style border-right-width border-right-color font-family font-size font-style font-variant font-weight line-height".split(" "),
A={findNodeIndex:function(a){for(var c=0;;){a=a.previousSibling;if(!a)break;c++}return c},isDataNode:function(a){return a&&null!==a.nodeValue&&null!==a.data},isAncestorOf:function(a,c){try{return!A.isDataNode(a)&&(b.contains(a,A.isDataNode(c)?c.parentNode:c)||c.parentNode==a)}catch(d){return!1}},isAncestorOrSelf:function(a,c){return A.isAncestorOf(a,c)||a==c},findClosestAncestor:function(a,c){if(A.isAncestorOf(a,c))for(;c&&c.parentNode!=a;)c=c.parentNode;return c},getNodeLength:function(a){return A.isDataNode(a)?
a.length:a.childNodes.length},splitDataNode:function(a,c){for(var b=a.cloneNode(!1),d="",f=a;f.nextSibling&&3==f.nextSibling.nodeType&&f.nextSibling.nodeValue;)d+=f.nextSibling.nodeValue,f=f.nextSibling;a.deleteData(c,a.length);b.deleteData(0,c);b.nodeValue+=d;A.insertAfter(b,a)},attrEquals:function(a,c){for(var d in c){var j=a[d];"float"==d&&(j=a[b.support.cssFloat?"cssFloat":"styleFloat"]);if("object"==typeof j){if(!A.attrEquals(j,c[d]))return!1}else if(j!=c[d])return!1}return!0},blockParentOrBody:function(a){return A.parentOfType(a,
E)||a.ownerDocument.body},blockParents:function(a){var c=[],d,j;d=0;for(j=a.length;d<j;d++){var f=A.parentOfType(a[d],A.blockElements);f&&0>b.inArray(f,c)&&c.push(f)}return c},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:t,blockElements:E,inlineElements:s,empty:z,fillAttrs:h,toHex:function(a){var c=v.exec(a);return!c?a:"#"+y(c.slice(1),function(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}).join("")},encode:function(a){return a.replace(D,"&amp;").replace(q,
"&lt;").replace(m,"&gt;").replace(d,"&nbsp;")},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(a){return b.grep(a.childNodes,function(a){return 3!=a.nodeType||!A.isWhitespace(a)})},lastTextNode:function(a){var c=null;if(3==a.nodeType)return a;for(a=a.lastChild;a&&!(c=A.lastTextNode(a));a=a.previousSibling);return c},is:function(a,c){return A.name(a)==c},isMarker:function(a){return"k-marker"==a.className},isWhitespace:function(a){return p.test(a.nodeValue)},isBlock:function(a){return C[A.name(a)]},
isEmpty:function(a){return z[A.name(a)]},isInline:function(a){return e[A.name(a)]},scrollContainer:function(a){a=A.windowFromDocument(a);a=(a.contentWindow||a).document||a.ownerDocument||a;return a=u.support.browser.webkit||"BackCompat"==a.compatMode?a.body:a.documentElement},scrollTo:function(a){var c=b(A.isDataNode(a)?a.parentNode:a),d=A.windowFromDocument(a.ownerDocument).innerHeight,j=A.scrollContainer(a.ownerDocument);"br"==A.name(c[0])&&(c=c.parent());a=c.offset().top;c=c[0].offsetHeight;c+
a>j.scrollTop+d&&(j.scrollTop=c+a-d)},persistScrollTop:function(a){k=A.scrollContainer(a).scrollTop},restoreScrollTop:function(a){A.scrollContainer(a).scrollTop=k},insertAt:function(a,c,b){a.insertBefore(c,a.childNodes[b]||null)},insertBefore:function(a,c){return c.parentNode?c.parentNode.insertBefore(a,c):c},insertAfter:function(a,c){return c.parentNode.insertBefore(a,c.nextSibling)},remove:function(a){a.parentNode.removeChild(a)},trim:function(a){for(var c=a.childNodes.length-1;0<=c;c--){var b=
a.childNodes[c];A.isDataNode(b)?(b.nodeValue.replace(j,"").length||A.remove(b),A.isWhitespace(b)&&A.insertBefore(b,a)):"k-marker"!=b.className&&(A.trim(b),!b.childNodes.length&&!A.isEmpty(b)&&A.remove(b))}return a},parentOfType:function(a,c){do a=a.parentNode;while(a&&!A.ofType(a,c));return a},ofType:function(a,c){return 0<=b.inArray(A.name(a),c)},changeTag:function(a,c){var b=A.create(a.ownerDocument,c),d=a.attributes,f,g,j,k;f=0;for(g=d.length;f<g;f++)k=d[f],k.specified&&(j=k.nodeName,k=k.nodeValue,
"class"==j?b.className=k:"style"==j?b.style.cssText=a.style.cssText:b.setAttribute(j,k));for(;a.firstChild;)b.appendChild(a.firstChild);A.insertBefore(b,a);A.remove(a);return b},wrap:function(a,c){A.insertBefore(c,a);c.appendChild(a);return c},unwrap:function(a){for(var c=a.parentNode;a.firstChild;)c.insertBefore(a.firstChild,a);c.removeChild(a)},create:function(a,c,b){return A.attr(a.createElement(c),b)},attr:function(a,c){if((c=n({},c))&&"style"in c)A.style(a,c.style),delete c.style;for(var b in c)null===
c[b]&&(a.removeAttribute(b),delete c[b]);return n(a,c)},style:function(a,c){b(a).css(c||{})},unstyle:function(a,c){for(var d in c)"float"==d&&(d=b.support.cssFloat?"cssFloat":"styleFloat"),a.style[d]="";""===a.style.cssText&&a.removeAttribute("style")},inlineStyle:function(a,c,d){var j=b(A.create(a,c,d));a.body.appendChild(j[0]);a=y(x,function(a){return r.msie&&"line-height"==a&&"1px"==j.css(a)?"line-height:1.5":a+":"+j.css(a)}).join(";");j.remove();return a},removeClass:function(a,c){var d=" "+a.className+
" ",j=c.split(" "),f,g;f=0;for(g=j.length;f<g;f++)d=d.replace(" "+j[f]+" "," ");d=b.trim(d);d.length?a.className=d:a.removeAttribute("class")},commonAncestor:function(){var a=arguments.length,c=[],b=Infinity,d=null,f,g,j;if(!a)return null;if(1==a)return arguments[0];for(f=0;f<a;f++){g=[];for(j=arguments[f];j;)g.push(j),j=j.parentNode;c.push(g.reverse());b=Math.min(b,g.length)}if(1==a)return c[0][0];for(f=0;f<b;f++){g=c[0][f];for(j=1;j<a;j++)if(g!=c[j][f])return d;d=g}return d}};u.ui.editor.Dom=A})(window.kendo.jQuery);
(function(b,w){var u=window.kendo.ui.editor,y=u.Dom,n=b.extend,r="xx-small x-small small medium large x-large xx-large".split(" "),z=/"/g,E=/<br[^>]*>/i,C=/<p><\/p>/i,s=/([\w|\-]+)\s*:\s*([^;]+);?/i;n(u,{Serializer:{domToXhtml:function(e){function h(e){var h=[],m=e.attributes,d,j,k,x=b.trim;y.is(e,"img")&&(j=e.style.width,k=e.style.height,d=b(e),j&&(d.attr("width",parseInt(j,10)),y.unstyle(e,{width:w})),k&&(d.attr("height",parseInt(k,10)),y.unstyle(e,{height:w})));j=0;for(k=m.length;j<k;j++){d=m[j];
var A=d.nodeName;(d.specified||"value"==A&&!e.value||"type"==A&&"text"==d.nodeValue)&&0>A.indexOf("_moz")&&("complete"!=A&&"altHtml"!=A)&&h.push(d)}if(h.length){h.sort(function(a,c){return a.nodeName>c.nodeName?1:a.nodeName<c.nodeName?-1:0});j=0;for(k=h.length;j<k;j++){d=h[j];m=d.nodeName;d=d.nodeValue;p.push(" ");p.push(m);p.push('="');if("style"==m){m=x(d||e.style.cssText).split(";");d=0;for(A=m.length;d<A;d++){var a=m[d];if(a.length){var c=s.exec(a),a=x(c[1].toLowerCase()),c=x(c[2]);"font-size-adjust"==
a||"font-stretch"==a||(0<=a.indexOf("color")&&(c=y.toHex(c)),0<=a.indexOf("font")&&(c=c.replace(z,"'")),p.push(a),p.push(":"),p.push(c),p.push(";"))}}}else"src"==m||"href"==m?p.push(e.getAttribute(m,2)):p.push(y.fillAttrs[m]?m:d);p.push('"')}}}function n(e,q){for(var m=e.firstChild;m;m=m.nextSibling){var d=m,j=q,k=d.nodeType,x=void 0,A=void 0,a=A=x=void 0;if(1==k){if((x=y.name(d))&&!((d.attributes._moz_dirty||d.attributes._moz_editor_bogus_node)&&y.is(d,"br")||"k-marker"==d.className))(A=v[x])?(A.start(d),
n(d),A.end(d)):(p.push("<"),p.push(x),h(d),y.empty[x]?p.push(" />"):(p.push(">"),n(d,j||y.is(d,"pre")),p.push("</"),p.push(x),p.push(">")))}else if(3==k){A=d.nodeValue;if(!j&&b.support.leadingWhitespace){x=d.parentNode;a=d.previousSibling;a||(a=(y.isInline(x)?x:d).previousSibling);if(!a||""===a.innerHTML||y.isBlock(a))A=A.replace(/^[\r\n\v\f\t ]+/,"");A=A.replace(/ +/," ")}p.push(y.encode(A))}else 4==k?(p.push("<![CDATA["),p.push(d.data),p.push("]]\x3e")):8==k&&(0>d.data.indexOf("[CDATA[")?(p.push("\x3c!--"),
p.push(d.data),p.push("--\x3e")):(p.push("<!"),p.push(d.data),p.push(">")))}}var p=[],v={"telerik:script":{start:function(b){p.push("<script");h(b);p.push(">")},end:function(){p.push("\x3c/script>")}},b:{start:function(){p.push("<strong>")},end:function(){p.push("</strong>")}},i:{start:function(){p.push("<em>")},end:function(){p.push("</em>")}},u:{start:function(){p.push('<span style="text-decoration:underline;">')},end:function(){p.push("</span>")}},iframe:{start:function(b){p.push("<iframe");h(b);
p.push(">")},end:function(){p.push("</iframe>")}},font:{start:function(b){p.push('<span style="');var e=b.getAttribute("color"),h=r[b.getAttribute("size")];b=b.getAttribute("face");e&&(p.push("color:"),p.push(y.toHex(e)),p.push(";"));b&&(p.push("font-face:"),p.push(b),p.push(";"));h&&(p.push("font-size:"),p.push(h),p.push(";"));p.push('">')},end:function(){p.push("</span>")}}};n(e);p=p.join("");return""===p.replace(E,"").replace(C,"")?"":p}}})})(window.kendo.jQuery);
(function(b){function w(a,c){var b;try{var d;var f=a.startContainer,g=a.endContainer,j=a.startOffset,k=a.endOffset;if(f==g)d=k-j;else{for(var m=g;m&&m.parentNode!=f;)m=m.parentNode;if(m)d=h(m)-j;else{for(m=f;m&&m.parentNode!=g;)m=m.parentNode;if(m)d=k-h(m)-1;else{for(var q=e.commonAncestor(f,g);f&&f.parentNode!=q;)f=f.parentNode;for(f||(f=q);g&&g.parentNode!=q;)g=g.parentNode;g||(g=q);d=f==g?0:h(g)-h(f)}}}b=0>d}catch(A){b=!0}b&&(c?(a.commonAncestorContainer=a.endContainer=a.startContainer,a.endOffset=
a.startOffset):(a.commonAncestorContainer=a.startContainer=a.endContainer,a.startOffset=a.endOffset),a.collapsed=!0)}function u(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;for(var c=a.startContainer;c&&c!=a.endContainer&&!e.isAncestorOf(c,a.endContainer);)c=c.parentNode;a.commonAncestorContainer=c}function y(a,c,b){var d=c[b?"startContainer":"endContainer"],f=c[b?"startOffset":"endOffset"],g=0,j=t(d)?d:d.childNodes[f]||null,k=t(d)?d.parentNode:d;if(3==d.nodeType||4==
d.nodeType)g=f;d=k.insertBefore(e.create(c.ownerDocument,"a"),j);c=c.ownerDocument.body.createTextRange();c.moveToElementText(d);e.remove(d);c[b?"moveStart":"moveEnd"]("character",g);c.collapse(!1);a.setEndPoint(b?"StartToStart":"EndToStart",c)}function n(a,c,b){var d=e.create(c.ownerDocument,"a"),f=a.duplicate();f.collapse(b);var g=f.parentElement();do g.insertBefore(d,d.previousSibling),f.moveToElementText(d);while(0<f.compareEndPoints(b?"StartToStart":"StartToEnd",a)&&d.previousSibling);f.setEndPoint(b?
"EndToStart":"EndToEnd",a);if(a=d.nextSibling)if(e.remove(d),t(a))c[b?"setStart":"setEnd"](a,f.text.length);else c[b?"setStartBefore":"setEndBefore"](a);else(a=d.previousSibling)&&t(a)?(c.setEnd(a,a.nodeValue.length),e.remove(d)):(c.selectNodeContents(g),e.remove(d),c.endOffset-=1)}var r=window.kendo,z=r.Class,E=b.extend,C=r.ui.editor,s=r.support.browser,e=C.Dom,h=e.findNodeIndex,t=e.isDataNode,p=e.findClosestAncestor,v=e.getNodeLength,D=e.normalize,q={selectionFromWindow:function(a){return!("getSelection"in
a)?new j(a.document):a.getSelection()},selectionFromRange:function(a){a=A.documentFromRange(a);return q.selectionFromDocument(a)},selectionFromDocument:function(a){return q.selectionFromWindow(e.windowFromDocument(a))}},m=z.extend({init:function(a){b.extend(this,{ownerDocument:a,startContainer:a,endContainer:a,commonAncestorContainer:a,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(a,c){this.startContainer=a;this.startOffset=c;u(this);w(this,!0)},setEnd:function(a,c){this.endContainer=
a;this.endOffset=c;u(this);w(this,!1)},setStartBefore:function(a){this.setStart(a.parentNode,h(a))},setStartAfter:function(a){this.setStart(a.parentNode,h(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,h(a))},setEndAfter:function(a){this.setEnd(a.parentNode,h(a)+1)},selectNode:function(a){this.setStartBefore(a);this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a[1===a.nodeType?"childNodes":"nodeValue"].length)},collapse:function(a){a?this.setEnd(this.startContainer,
this.startOffset):this.setStart(this.endContainer,this.endOffset)},deleteContents:function(){var a=this.cloneRange();this.startContainer!=this.commonAncestorContainer&&this.setStartAfter(p(this.commonAncestorContainer,this.startContainer));this.collapse(!0);(function l(a){for(;a.next();)a.hasPartialSubtree()?l(a.getSubtreeIterator()):a.remove()})(new d(a))},cloneContents:function(){var a=A.documentFromRange(this);return function l(b){for(var f,d=a.createDocumentFragment();f=b.next();)f=f.cloneNode(!b.hasPartialSubtree()),
b.hasPartialSubtree()&&f.appendChild(l(b.getSubtreeIterator())),d.appendChild(f);return d}(new d(this))},extractContents:function(){var a=this,c=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(p(a.commonAncestorContainer,a.startContainer));a.collapse(!0);var b=A.documentFromRange(a);return function f(c){for(var d,j=b.createDocumentFragment();d=c.next();)c.hasPartialSubtree()?(d=d.cloneNode(!1),d.appendChild(f(c.getSubtreeIterator()))):c.remove(a.originalRange),j.appendChild(d);
return j}(new d(c))},insertNode:function(a){t(this.startContainer)?(this.startOffset!=this.startContainer.nodeValue.length&&e.splitDataNode(this.startContainer,this.startOffset),e.insertAfter(a,this.startContainer)):e.insertAt(this.startContainer,a,this.startOffset);this.setStart(this.startContainer,this.startOffset)},cloneRange:function(){return b.extend(new m(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,
startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,c=this.endContainer.nodeName;return["#text"==a?this.startContainer.nodeValue:a,"(",this.startOffset,") : ","#text"==c?this.endContainer.nodeValue:c,"(",this.endOffset,")"].join("")}}),d=z.extend({init:function(a){b.extend(this,{range:a,_current:null,_next:null,_end:null});if(!a.collapsed){var c=a.commonAncestorContainer;this._next=a.startContainer==
c&&!t(a.startContainer)?a.startContainer.childNodes[a.startOffset]:p(c,a.startContainer);this._end=a.endContainer==c&&!t(a.endContainer)?a.endContainer.childNodes[a.endOffset]:p(c,a.endContainer).nextSibling}},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;this._next=this._current&&this._current.nextSibling!=this._end?this._current.nextSibling:null;t(this._current)&&(this.range.endContainer==this._current&&(a=a.cloneNode(!0),a.deleteData(this.range.endOffset,
a.length-this.range.endOffset)),this.range.startContainer==this._current&&(a=a.cloneNode(!0),a.deleteData(0,this.range.startOffset)));return a},traverse:function(a){function c(){b._current=b._next;b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null;return b._current}for(var b=this,d;d=c();)b.hasPartialSubtree()?b.getSubtreeIterator().traverse(a):a(d);return d},remove:function(a){var c=this.range.startContainer==this._current,b=this.range.endContainer==this._current,d,f,
g;if(t(this._current)&&(c||b)){d=c?this.range.startOffset:0;f=b?this.range.endOffset:this._current.length;g=f-d;if(a&&(c||b))this._current==a.startContainer&&d<=a.startOffset&&(a.startOffset-=g),this._current==a.endContainer&&f<=a.endOffset&&(a.endOffset-=g);this._current.deleteData(d,g)}else{c=this._current.parentNode;if(a&&(this.range.startContainer==c||this.range.endContainer==c))b=h(this._current),c==a.startContainer&&b<=a.startOffset&&(a.startOffset-=1),c==a.endContainer&&b<a.endOffset&&(a.endOffset-=
1);e.remove(this._current)}},hasPartialSubtree:function(){return!t(this._current)&&(e.isAncestorOrSelf(this._current,this.range.startContainer)||e.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var a=this.range.cloneRange();a.selectNodeContents(this._current);e.isAncestorOrSelf(this._current,this.range.startContainer)&&a.setStart(this.range.startContainer,this.range.startOffset);e.isAncestorOrSelf(this._current,this.range.endContainer)&&a.setEnd(this.range.endContainer,
this.range.endOffset);return new d(a)}}),j=z.extend({init:function(a){this.ownerDocument=a;this.rangeCount=1},addRange:function(a){var c=this.ownerDocument.body.createTextRange();y(c,a,!1);y(c,a,!0);c.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var a,c=new m(this.ownerDocument),b=this.ownerDocument.selection,d;try{if(a=b.createRange(),d=a.item?a.item(0):a.parentElement(),d.ownerDocument!=this.ownerDocument)return c}catch(f){return c}if("Control"==
b.type)c.selectNode(a.item(0));else if(n(a,c,!0),n(a,c,!1),9==c.startContainer.nodeType&&c.setStart(c.endContainer,c.startOffset),9==c.endContainer.nodeType&&c.setEnd(c.startContainer,c.endOffset),0===a.compareEndPoints("StartToEnd",a)&&c.collapse(!1),a=c.startContainer,b=c.endContainer,d=this.ownerDocument.body,!c.collapsed&&0===c.startOffset&&c.endOffset==v(c.endContainer)&&!(a==b&&t(a)&&a.parentNode==d)){for(var g=!1,j=!1;0===h(a)&&a==a.parentNode.firstChild&&a!=d;)a=a.parentNode,g=!0;for(;h(b)==
v(b.parentNode)-1&&b==b.parentNode.lastChild&&b!=d;)b=b.parentNode,j=!0;a==d&&(b==d&&g&&j)&&(c.setStart(a,0),c.setEnd(b,v(d)))}return c}}),k=z.extend({init:function(a){this.enumerate=function(){function c(a){if(e.is(a,"img")||3==a.nodeType&&!e.isWhitespace(a))b.push(a);else for(a=a.firstChild;a;)c(a),a=a.nextSibling}var b=[];(new d(a)).traverse(c);return b}}}),r=z.extend({init:function(a){this.range=a;this.rootNode=A.documentFromRange(a);this.body=this.rootNode.body;this.html=this.body.innerHTML;
this.startContainer=this.nodeToPath(a.startContainer);this.endContainer=this.nodeToPath(a.endContainer);this.startOffset=this.offset(a.startContainer,a.startOffset);this.endOffset=this.offset(a.endContainer,a.endOffset)},index:function(a){for(var c=0,b=a.nodeType;a=a.previousSibling;){var d=a.nodeType;(3!=d||b!=d)&&c++;b=d}return c},offset:function(a,c){if(3==a.nodeType)for(;(a=a.previousSibling)&&3==a.nodeType;)c+=a.nodeValue.length;return c},nodeToPath:function(a){for(var c=[];a!=this.rootNode;)c.push(this.index(a)),
a=a.parentNode;return c},toRangePoint:function(a,c,b,d){for(var f=this.rootNode,g=b.length;g--;)f=f.childNodes[b[g]];for(;3==f.nodeType&&f.nodeValue.length<d;)d-=f.nodeValue.length,f=f.nextSibling;a[c?"setStart":"setEnd"](f,d)},toRange:function(){var a=this.range.cloneRange();this.toRangePoint(a,!0,this.startContainer,this.startOffset);this.toRangePoint(a,!1,this.endContainer,this.endOffset);return a}}),z=z.extend({init:function(){this.caret=null},addCaret:function(a){this.caret=e.create(A.documentFromRange(a),
"span",{className:"k-marker"});a.insertNode(this.caret);a.selectNode(this.caret);return this.caret},removeCaret:function(a){var c=this.caret.previousSibling,b=0;c&&(b=t(c)?c.nodeValue.length:h(c));var d=this.caret.parentNode,f=c?h(c):0;e.remove(this.caret);D(d);f=d.childNodes[f];if(t(f))a.setStart(f,b);else if(f)if(b=e.lastTextNode(f))a.setStart(b,b.nodeValue.length);else a[c?"setStartAfter":"setStartBefore"](f);else!s.msie&&!d.innerHTML&&(d.innerHTML='<br _moz_dirty="" />'),a.selectNodeContents(d);
a.collapse(!0)},add:function(a,c){c&&a.collapsed&&(this.addCaret(a),a=A.expand(a));var b=a.cloneRange();b.collapse(!1);this.end=e.create(A.documentFromRange(a),"span",{className:"k-marker"});b.insertNode(this.end);b=a.cloneRange();b.collapse(!0);this.start=this.end.cloneNode(!0);b.insertNode(this.start);a.setStartBefore(this.start);a.setEndAfter(this.end);D(a.commonAncestorContainer);return a},remove:function(a){var c=this.start,b=this.end;for(D(a.commonAncestorContainer);!c.nextSibling&&c.parentNode;)c=
c.parentNode;for(;!b.previousSibling&&b.parentNode;)b=b.parentNode;var c=c.nextSibling,b=b.previousSibling,d=!1,f=!1;c==this.end&&(f=!!this.start.previousSibling,c=b=this.start.previousSibling||this.end.nextSibling,d=!0);e.remove(this.start);e.remove(this.end);if(!c||!b)a.selectNodeContents(a.commonAncestorContainer),a.collapse(!0);else{var g=d?t(c)?c.nodeValue.length:c.childNodes.length:0,j=t(b)?b.nodeValue.length:b.childNodes.length;if(3==c.nodeType)for(;c.previousSibling&&3==c.previousSibling.nodeType;)c=
c.previousSibling,g+=c.nodeValue.length;if(3==b.nodeType)for(;b.previousSibling&&3==b.previousSibling.nodeType;)b=b.previousSibling,j+=b.nodeValue.length;for(var k=h(c),m=c.parentNode,q=h(b),A=b.parentNode,x=c;x.previousSibling;x=x.previousSibling)3==x.nodeType&&3==x.previousSibling.nodeType&&k--;for(x=b;x.previousSibling;x=x.previousSibling)3==x.nodeType&&3==x.previousSibling.nodeType&&q--;D(m);3==c.nodeType&&(c=m.childNodes[k]);D(A);3==b.nodeType&&(b=A.childNodes[q]);if(d){if(3==c.nodeType)a.setStart(c,
g);else a[f?"setStartAfter":"setStartBefore"](c);a.collapse(!0)}else 3==c.nodeType?a.setStart(c,g):a.setStartBefore(c),3==b.nodeType?a.setEnd(b,j):a.setEndAfter(b);this.caret&&this.removeCaret(a)}}}),x=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,A={nodes:function(a){var c=A.textNodes(a);c.length||(a.selectNodeContents(a.commonAncestorContainer),c=A.textNodes(a),c.length||(c=e.significantChildNodes(a.commonAncestorContainer)));return c},textNodes:function(a){return(new k(a)).enumerate()},
documentFromRange:function(a){a=a.startContainer;return 9==a.nodeType?a:a.ownerDocument},createRange:function(a){return s.msie&&9>s.version?new m(a):a.createRange()},selectRange:function(a){var c=A.image(a);c&&(a.setStartAfter(c),a.setEndAfter(c));c=q.selectionFromRange(a);c.removeAllRanges();c.addRange(a)},split:function(a,c,b){function d(f){var g=a.cloneRange();g.collapse(f);g[f?"setStartBefore":"setEndAfter"](c);g=g.extractContents();b&&(g=e.trim(g));e[f?"insertBefore":"insertAfter"](g,c)}d(!0);
d(!1)},getMarkers:function(a){var c=[];(new d(a)).traverse(function(a){"k-marker"==a.className&&c.push(a)});return c},image:function(a){var c=[];(new d(a)).traverse(function(a){e.is(a,"img")&&c.push(a)});if(1==c.length)return c[0]},expand:function(a){a=a.cloneRange();var c=a.startContainer.childNodes[0===a.startOffset?0:a.startOffset-1],b=a.endContainer.childNodes[a.endOffset];if(!t(c)||!t(b))return a;var d=c.nodeValue,f=b.nodeValue;if(!d||!f)return a;var g=d.split("").reverse().join("").search(x),
j=f.search(x);if(!g||!j)return a;j=-1==j?f.length:j;g=-1==g?0:d.length-g;a.setStart(c,g);a.setEnd(b,j);return a},isExpandable:function(a){var c=a.startContainer,b=A.documentFromRange(a);if(c==b||c==b.body)return!1;a=a.cloneRange();b=c.nodeValue;if(!b)return!1;c=b.substring(0,a.startOffset);a=b.substring(a.startOffset);var d=b=0;c&&(b=c.split("").reverse().join("").search(x));a&&(d=a.search(x));return b&&d}};E(C,{SelectionUtils:q,W3CRange:m,RangeIterator:d,W3CSelection:j,RangeEnumerator:k,RestorePoint:r,
Marker:z,RangeUtils:A})})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.Class,y=w.ui.editor,w=y.EditorUtils,n=w.registerTool,r=y.Dom,z=y.RangeUtils,E=z.selectRange,C=y.Tool,s=y.ToolTemplate,e=y.RestorePoint,h=y.Marker,t=b.extend,p=u.extend({init:function(a){this.options=a;this.restorePoint=new e(a.range);this.marker=new h;this.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a);E(a)},undo:function(){var a=
this.restorePoint;a.body.innerHTML=a.html;E(a.toRange())},redo:function(){this.exec()},exec:function(){var a=this.lockRange(!0);this.formatter.editor=this.editor;this.formatter.toggle(a);this.releaseRange(a)}}),v=u.extend({init:function(a,b){this.body=a.body;this.startRestorePoint=a;this.endRestorePoint=b},redo:function(){this.body.innerHTML=this.endRestorePoint.html;E(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;E(this.startRestorePoint.toRange())}}),
D=p.extend({init:function(a){p.fn.init.call(this,a);this.managesUndoRedo=!0},exec:function(){var a=this.editor,b=a.getRange(),b=new e(b);a.clipboard.paste(this.options.value||"");a.undoRedoStack.push(new v(b,new e(a.getRange())));a.focus()}}),q=C.extend({initialize:function(a,b){var d=b.editor,f=this.options;new y.SelectBox(a,{dataSource:f.items?f.items:d.options.insertHtml,dataTextField:"text",dataValueField:"value",change:function(){C.exec(d,"insertHtml",this.value())},title:d.options.messages.insertHtml,
highlightFirst:!1})},command:function(a){return new D(a)},update:function(a){a=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");a.close();a.value(a.options.title)}}),m=u.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(a){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(a)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},
canUndo:function(){return 0<=this.currentCommandIndex},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),d=u.extend({init:function(a){this.editor=a},keydown:function(a){var d=this,j=d.editor,f=j.keyboard,g=f.isTypingKey(a),k=t(b.Event(),a);d.editor.trigger("keydown",k);k.isDefaultPrevented()&&a.preventDefault();return!k.isDefaultPrevented()&&g&&!f.isTypingInProgress()?(a=j.getRange(),d.startRestorePoint=new e(a),f.startTyping(function(){j.selectionRestorePoint=d.endRestorePoint=
new e(j.getRange());j.undoRedoStack.push(new v(d.startRestorePoint,d.endRestorePoint))}),!0):!1},keyup:function(a){var b=this.editor.keyboard;this.editor.trigger("keyup",a);return b.isTypingInProgress()?(b.endTyping(),!0):!1}}),j=u.extend({init:function(a){this.editor=a;this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.endRestorePoint=new e(this.editor.getRange());this.editor.undoRedoStack.push(new v(this.startRestorePoint,this.endRestorePoint));this.startRestorePoint=this.endRestorePoint},
changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(a){var b=this.editor,d=b.keyboard;return d.isModifierKey(a)?(d.isTypingInProgress()&&d.endTyping(!0),this.startRestorePoint=new e(b.getRange()),!0):d.isSystem(a)?(this.systemCommandIsInProgress=!0,this.changed()&&(this.systemCommandIsInProgress=!1,this.createUndoCommand()),!0):!1},keyup:function(a){return this.systemCommandIsInProgress&&this.changed()?(this.systemCommandIsInProgress=
!1,this.createUndoCommand(a),!0):!1}}),k=u.extend({init:function(a){this.handlers=a;this.typingInProgress=!1},isCharacter:function(a){return 48<=a&&90>=a||96<=a&&111>=a||186<=a&&192>=a||219<=a&&222>=a},toolFromShortcut:function(a,d){var j=String.fromCharCode(d.keyCode),f,g;for(f in a)if(g=b.extend({ctrl:!1,alt:!1,shift:!1},a[f].options),(g.key==j||g.key==d.keyCode)&&g.ctrl==d.ctrlKey&&g.alt==d.altKey&&g.shift==d.shiftKey)return f},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&
!a.ctrlKey&&!a.altKey||32==b||13==b||8==b||46==b&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return 17==b&&!a.shiftKey&&!a.altKey||16==b&&!a.ctrlKey&&!a.altKey||18==b&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return 46==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey},startTyping:function(a){this.onEndTyping=a;this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1;if(this.onEndTyping)this.onEndTyping()},endTyping:function(a){this.clearTimeout();
a?this.stopTyping():this.timeout=window.setTimeout(b.proxy(this.stopTyping,this),1E3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var d,f=this.handlers;for(d=0;d<f.length&&!f[d][b](a);d++);},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}}),x=u.extend({init:function(c){this.editor=c;this.cleaners=[new A,new a]},htmlToFragment:function(a){var b=this.editor.document,
d=r.create(b,"div"),b=b.createDocumentFragment();for(d.innerHTML=a;d.firstChild;)b.appendChild(d.firstChild);return b},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},oncut:function(){var a=this.editor,b=new e(a.getRange());setTimeout(function(){a.undoRedoStack.push(new v(b,new e(a.getRange())))})},onpaste:function(a){var d=this.editor,j=d.getRange(),f=new e(j),g=r.create(d.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});r.persistScrollTop(d.document);d.body.appendChild(g);
if(d.body.createTextRange){a.preventDefault();var k=d.createRange();k.selectNodeContents(g);d.selectRange(k);k=d.body.createTextRange();k.moveToElementText(g);b(d.body).unbind("paste");k.execCommand("Paste");b(d.body).bind("paste",b.proxy(arguments.callee,this))}else k=d.createRange(),k.selectNodeContents(g),E(k);j.deleteContents();setTimeout(function(){var a,c={html:""};E(j);g.parentNode||(g=d.body.lastChild);r.remove(g);g.lastChild&&r.is(g.lastChild,"br")&&r.remove(g.lastChild);a=g.innerHTML;"\ufeff"!=
a&&(c.html=a);d.trigger("paste",c);d.clipboard.paste(c.html,!0);d.undoRedoStack.push(new v(f,new e(d.getRange())));y.EditorUtils.select(d)})},splittableParent:function(a,b){var d,f;if(a)return r.parentOfType(b,["p","ul","ol"])||b.parentNode;d=b.parentNode;f=b.ownerDocument.body;if(r.isInline(d))for(;d.parentNode!=f&&!r.isBlock(d.parentNode);)d=d.parentNode;return d},paste:function(a,b){var d=this.editor,f,g;f=0;for(g=this.cleaners.length;f<g;f++)this.cleaners[f].applicable(a)&&(a=this.cleaners[f].clean(a));
b&&(a=a.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),a=a.replace(/<(a|span)[^>]*><\/\1>/gi,""));a=a.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var j=this.isBlock(a),k=d.getRange();k.deleteContents();k.startContainer==d.document&&k.selectNodeContents(d.body);var e=new h,m=e.addCaret(k);f=this.splittableParent(j,m);var q=!1;if(!/body|td/.test(r.name(f))&&(j||r.isInline(f)))k.selectNode(m),z.split(k,f,!0),q=!0;var A=this.htmlToFragment(a);if(A.firstChild&&"k-paste-container"===
A.firstChild.className){var x=[];f=0;for(g=A.childNodes.length;f<g;f++)x.push(A.childNodes[f].innerHTML);A=this.htmlToFragment(x.join("<br />"))}k.insertNode(A);f=this.splittableParent(j,m);if(q){for(;m.parentNode!=f;)r.unwrap(m.parentNode);r.unwrap(m.parentNode)}r.normalize(k.commonAncestorContainer);m.style.display="inline";r.restoreScrollTop(d.document);r.scrollTo(m);e.removeCaret(k);E(k)}}),A=u.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/\x3c!--(.|\n)*?--\x3e/g,"",/&quot;/g,
"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,
"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(a){return/class="?Mso|style="[^"]*mso-/i.test(a)},listType:function(a){if(/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(a))return"ul";if(/^\s*\w+[\.\)]\u00a0{2,}/.test(a))return"ol"},lists:function(a){for(var d=r.create(document,"div",{innerHTML:a}),j=b(r.blockElements.join(","),d),f=-1,g,k={ul:{},ol:{}},e=d,h=0;h<
j.length;h++){var m=j[h];a=m.innerHTML.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");a=this.listType(a);if(!a||"p"!=r.name(m))m.innerHTML?(k={ul:{},ol:{}},e=d,f=-1):r.remove(m);else{var q=parseFloat(m.style.marginLeft||0),A=k[a][q];if(q>f||!A)A=r.create(document,a),e==d?r.insertBefore(A,m):e.appendChild(A),k[a][q]=A;if(g!=a)for(var x in k)for(var p in k[x])b.contains(A,k[x][p])&&delete k[x][p];r.remove(m.firstChild);e=r.create(document,"li",{innerHTML:m.innerHTML});A.appendChild(e);r.remove(m);
f=q;g=a}}return d.innerHTML},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,c){return!c||0>c.indexOf("href")?"":a})},clean:function(a){var b=this.replacements,d,f;d=0;for(f=b.length;d<f;d+=2)a=a.replace(b[d],b[d+1]);a=this.stripEmptyAnchors(a);a=this.lists(a);return a=a.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),a=u.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},
applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)},clean:function(a){var b=this.replacements,d,f;d=0;for(f=b.length;d<f;d+=2)a=a.replace(b[d],b[d+1]);return a}});t(y,{Command:p,GenericCommand:v,InsertHtmlCommand:D,InsertHtmlTool:q,UndoRedoStack:m,TypingHandler:d,SystemHandler:j,Keyboard:k,Clipboard:x,MSWordFormatCleaner:A,WebkitFormatCleaner:a});n("insertHtml",new q({template:new s({template:w.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery);
(function(b){function w(b){return b.collapsed&&!h.isExpandable(b)}var u=window.kendo,y=u.Class,n=u.ui.editor,r=u.ui.Editor.fn.options.formats,z=n.EditorUtils,E=n.Tool,C=n.ToolTemplate,s=n.FormatTool,e=n.Dom,h=n.RangeUtils,t=b.extend,p=n.EditorUtils.registerTool,v=n.EditorUtils.registerFormat,D=y.extend({init:function(b){this.format=b},numberOfSiblings:function(b){var a=0,c=0,d=0,j=b.parentNode,f;for(f=j.firstChild;f;f=f.nextSibling)f!=b&&("k-marker"==f.className?d++:3==f.nodeType?a++:c++);return 1<
d&&"k-marker"==j.firstChild.className&&"k-marker"==j.lastChild.className?0:c+a},findSuitable:function(b,a){return!a&&0<this.numberOfSiblings(b)?null:e.parentOfType(b,this.format[0].tags)},findFormat:function(b){var a=this.format,c=e.attrEquals,d,j,f,g,k;d=0;for(j=a.length;d<j;d++){f=b;g=a[d].tags;k=a[d].attr;if(f&&e.ofType(f,g)&&c(f,k))return f;for(;f;)if((f=e.parentOfType(f,g))&&c(f,k))return f}return null},isFormatted:function(b){var a,c;a=0;for(c=b.length;a<c;a++)if(this.findFormat(b[a]))return!0;
return!1}}),q=y.extend({init:function(b,a){this.finder=new D(b);this.attributes=t({},b[0].attr,a);this.tag=b[0].tags[0]},wrap:function(b){return e.wrap(b,e.create(b.ownerDocument,this.tag,this.attributes))},activate:function(b,a){this.finder.isFormatted(a)?(this.split(b),this.remove(a)):this.apply(a)},toggle:function(b){var a=h.textNodes(b);0<a.length&&this.activate(b,a)},apply:function(b){var a=[],c,d,j,f;c=0;for(d=b.length;c<d;c++)j=b[c],(f=this.finder.findSuitable(j))?e.attr(f,this.attributes):
f=this.wrap(j),a.push(f);this.consolidate(a)},remove:function(b){var a,c,d;a=0;for(c=b.length;a<c;a++)if(d=this.finder.findFormat(b[a]))this.attributes&&this.attributes.style?(e.unstyle(d,this.attributes.style),d.style.cssText||e.unwrap(d)):e.unwrap(d)},split:function(b){var a=h.textNodes(b),c=a.length,d,j;if(0<c)for(d=0;d<c;d++)(j=this.finder.findFormat(a[d]))&&h.split(b,j,!0)},consolidate:function(b){for(var a,c;1<b.length;)if(a=b.pop(),c=b[b.length-1],a.previousSibling&&"k-marker"==a.previousSibling.className&&
c.appendChild(a.previousSibling),a.tagName==c.tagName&&a.previousSibling==c&&a.style.cssText==c.style.cssText){for(;a.firstChild;)c.appendChild(a.firstChild);e.remove(a)}}}),m=D.extend({init:function(b,a){this.format=b;this.greedyProperty=a;D.fn.init.call(this,b)},getInlineCssValue:function(d){var a=d.attributes,c=b.trim,j,k,f,g,h,m,q;if(a){j=0;for(k=a.length;j<k;j++)if(f=a[j],g=f.nodeName,h=f.nodeValue,f.specified&&"style"==g){f=c(h||d.style.cssText).split(";");g=0;for(h=f.length;g<h;g++)if(m=f[g],
m.length&&(q=m.split(":"),m=c(q[0].toLowerCase()),q=c(q[1]),m==this.greedyProperty))return 0<=m.indexOf("color")?e.toHex(q):q}}},getFormatInner:function(d){d=b(e.isDataNode(d)?d.parentNode:d).parents().andSelf();var a,c,j;a=0;for(c=d.length;a<c;a++)if(j="className"==this.greedyProperty?d[a].className:this.getInlineCssValue(d[a]))return j;return"inherit"},getFormat:function(b){var a=this.getFormatInner(b[0]),c,d;c=1;for(d=b.length;c<d;c++)if(a!=this.getFormatInner(b[c]))return"";return a},isFormatted:function(b){return""!==
this.getFormat(b)}}),d=q.extend({init:function(b,a,c){q.fn.init.call(this,b,a);this.greedyProperty=c;this.values=a;this.finder=new m(b,c)},activate:function(b,a){var c;c=this.greedyProperty;var d="apply";this.split(b);c&&(c=c.replace(/-([a-z])/,function(a,c){return c.toUpperCase()}),"inherit"==this.values.style[c]&&(d="remove"));this[d](a)}}),y=s.extend({init:function(b){s.fn.init.call(this,t(b,{finder:new D(b.format),formatter:function(){return new q(b.format)}}));this.willDelayExecution=w}}),j=
E.extend({willDelayExecution:w,update:function(b,a,c){b=b.data(this.type);a=(c=c.getPending(this.name))&&c.options.params?c.options.params.value:this.finder.getFormat(a);b.close();b.value(a)}}),k=j.extend({init:function(b){E.fn.init.call(this,b);this.type=u.support.browser.msie||u.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new m(this.format,b.cssAttr)},command:function(b){var a=this.options,c=this.format,j={};return new n.FormatCommand(t(b,{formatter:function(){j[a.domAttr]=
b.value;return new d(c,{style:j},a.cssAttr)}}))},initialize:function(b,a){var c=a.editor,d=this.options,j=d.name,f=[];d.defaultValue&&(f=[{text:c.options.messages[d.defaultValue[0].text],value:d.defaultValue[0].value}]);d=f.concat(d.items?d.items:c.options[j]);b[this.type]({dataTextField:"text",dataValueField:"value",dataSource:d,change:function(){E.exec(c,j,this.value())},highlightFirst:!1});b.closest(".k-widget").removeClass("k-"+j).find("*").andSelf().attr("unselectable","on");b.data(this.type).value("inherit")}}),
x=E.extend({init:function(b){E.fn.init.call(this,b);this.options=b;this.format=[{tags:["span"]}]},update:function(){this._widget.close()},command:function(b){var a=this.options,c=this.format,j={};return new n.FormatCommand(t(b,{formatter:function(){j[a.domAttr]=b.value;return new d(c,{style:j},a.cssAttr)}}))},willDelayExecution:w,initialize:function(b,a){var c=a.editor,d=this.name;b=this._widget=new u.ui.ColorPicker(b,{value:"#000",toolIcon:"k-"+this.options.name,palette:"websafe",change:function(){var a=
b.value();a&&E.exec(c,d,a)}});b.bind("activate",function(a){a.preventDefault();b.trigger("change");c.focus()});b.element.attr("title",a.title)}}),j=j.extend({init:function(b){E.fn.init.call(this,b);this.type="kendoSelectBox";this.format=[{tags:["span"]}];this.finder=new m(this.format,"className")},command:function(b){var a=this.format;return new n.FormatCommand(t(b,{formatter:function(){return new d(a,{className:b.value})}}))},initialize:function(b,a){var c=a.editor;new n.SelectBox(b,{dataTextField:"text",
dataValueField:"value",dataSource:this.options.items||c.options.style,title:c.options.messages.style,change:function(){E.exec(c,"style",this.value())},highlightFirst:!1});b.closest(".k-widget").removeClass("k-"+this.name).find("*").andSelf().attr("unselectable","on")}});t(n,{InlineFormatFinder:D,InlineFormatter:q,GreedyInlineFormatFinder:m,GreedyInlineFormatter:d,InlineFormatTool:y,FontTool:k,ColorTool:x,StyleTool:j});p("style",new n.StyleTool({template:new C({template:z.dropDownListTemplate,title:"Styles"})}));
v("bold",[{tags:["strong"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);p("bold",new y({key:"B",ctrl:!0,format:r.bold,template:new C({template:z.buttonTemplate,title:"Bold"})}));v("italic",[{tags:["em"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);p("italic",new y({key:"I",ctrl:!0,format:r.italic,template:new C({template:z.buttonTemplate,title:"Italic"})}));v("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}}]);p("underline",new y({key:"U",ctrl:!0,format:r.underline,
template:new C({template:z.buttonTemplate,title:"Underline"})}));v("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);p("strikethrough",new y({format:r.strikethrough,template:new C({template:z.buttonTemplate,title:"Strikethrough"})}));v("superscript",[{tags:["sup"]}]);p("superscript",new y({format:r.superscript,template:new C({template:z.buttonTemplate,title:"Superscript"})}));v("subscript",[{tags:["sub"]}]);p("subscript",new y({format:r.subscript,template:new C({template:z.buttonTemplate,
title:"Subscript"})}));p("foreColor",new x({cssAttr:"color",domAttr:"color",name:"foreColor",template:new C({template:z.colorPickerTemplate,title:"Color"})}));p("backColor",new x({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new C({template:z.colorPickerTemplate,title:"Background Color"})}));p("fontName",new k({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new C({template:z.comboBoxTemplate,
title:"Font Name"})}));p("fontSize",new k({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new C({template:z.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.Class,y=b.extend,n=w.ui.editor,w=w.ui.Editor.fn.options.formats,r=n.Dom,z=n.Command,E=n.Tool,C=n.ToolTemplate,s=n.FormatTool,e=n.EditorUtils,h=e.registerTool,t=e.registerFormat,p=n.RangeUtils,v=u.extend({init:function(b){this.format=b},contains:function(b,d){var e,h,a;e=0;for(h=d.length;e<h;e++)if(a=d[e],!a||!r.isAncestorOrSelf(b,a))return!1;return!0},findSuitable:function(d){var k=this.format,e=[],h,a,c;h=0;for(a=d.length;h<a;h++){c=r.ofType(d[h],k[0].tags)?d[h]:
r.parentOfType(d[h],k[0].tags);if(!c)return[];0>b.inArray(c,e)&&e.push(c)}h=0;for(a=e.length;h<a;h++)if(this.contains(e[h],e))return[e[h]];return e},findFormat:function(b){var d=this.format,e,h,a,c,l;e=0;for(h=d.length;e<h;e++){a=b;c=d[e].tags;for(l=d[e].attr;a;){if(r.ofType(a,c)&&r.attrEquals(a,l))return a;a=a.parentNode}}return null},getFormat:function(b){var d=this.findFormat(r.isDataNode(b[0])?b[0].parentNode:b[0]),e,h;if(!d)return"";e=1;for(h=b.length;e<h;e++)if(d!=this.findFormat(r.isDataNode(b[e])?
b[e].parentNode:b[e]))return"";return d.nodeName.toLowerCase()},isFormatted:function(b){for(var d=0,e=b.length;d<e;d++)if(!this.findFormat(b[d]))return!1;return!0}}),D=u.extend({init:function(b,d){this.format=b;this.values=d;this.finder=new v(b)},wrap:function(b,d,e){e=1==e.length?r.blockParentOrBody(e[0]):r.commonAncestor.apply(null,e);r.isInline(e)&&(e=r.blockParentOrBody(e));var h=r.significantChildNodes(e),a=r.findNodeIndex(h[0]);b=r.create(e.ownerDocument,b,d);var c,l;for(c=0;c<h.length;c++)l=
h[c],r.isBlock(l)?(r.attr(l,d),b.childNodes.length&&(r.insertBefore(b,l),b=b.cloneNode(!1)),a=r.findNodeIndex(l)+1):b.appendChild(l);b.firstChild&&r.insertAt(e,b,a)},apply:function(b){var d=r.is(b[0],"img")?[b[0]]:this.finder.findSuitable(b),h=d.length?e.formatByName(r.name(d[0]),this.format):this.format[0],m=h.tags[0],h=y({},h.attr,this.values);if(d.length){b=0;for(m=d.length;b<m;b++)r.attr(d[b],h)}else this.wrap(m,h,b)},remove:function(b){var d,h,m,a;d=0;for(h=b.length;d<h;d++)if(m=this.finder.findFormat(b[d]))r.ofType(m,
["p","img","li"])?(a=e.formatByName(r.name(m),this.format),a.attr.style&&r.unstyle(m,a.attr.style),a.attr.className&&r.removeClass(m,a.attr.className)):r.unwrap(m)},toggle:function(b){b=p.nodes(b);this.finder.isFormatted(b)?this.remove(b):this.apply(b)}}),q=u.extend({init:function(b,d){this.format=b;this.values=d;this.finder=new v(b)},apply:function(b){var d=this.format,e=r.blockParents(b),h=d[0].tags[0],a,c;if(e.length){b=0;for(d=e.length;b<d;b++)r.is(e[b],"li")?(a=e[b].parentNode,a=new n.ListFormatter(a.nodeName.toLowerCase(),
h),c=this.editor.createRange(),c.selectNode(e[b]),a.toggle(c)):r.changeTag(e[b],h)}else(new D(d,this.values)).apply(b)},toggle:function(b){var d=p.textNodes(b);d.length||(b.selectNodeContents(b.commonAncestorContainer),d=p.textNodes(b),d.length||(d=r.significantChildNodes(b.commonAncestorContainer)));this.apply(d)}}),m=z.extend({init:function(b){b.formatter=b.formatter();z.fn.init.call(this,b)}}),u=s.extend({init:function(b){s.fn.init.call(this,y(b,{finder:new v(b.format),formatter:function(){return new D(b.format)}}))}}),
d=E.extend({init:function(b){E.fn.init.call(this,b);this.finder=new v([{tags:r.blockElements}])},command:function(b){return new m(y(b,{formatter:function(){return new q([{tags:[b.value]}],{})}}))},update:function(b,d){var e;e=b.is("select")?b.data("kendoSelectBox"):b.find("select").data("kendoSelectBox");e.close();e.value(this.finder.getFormat(d))},initialize:function(b,d){var e=d.editor;new n.SelectBox(b,{dataTextField:"text",dataValueField:"value",dataSource:this.options.items?this.options.items:
e.options.formatBlock,title:e.options.messages.formatBlock,change:function(){E.exec(e,"formatBlock",this.value())},highlightFirst:!1});b.closest(".k-widget").removeClass("k-formatBlock").find("*").andSelf().attr("unselectable","on")}});y(n,{BlockFormatFinder:v,BlockFormatter:D,GreedyBlockFormatter:q,FormatCommand:m,BlockFormatTool:u,FormatBlockTool:d});h("formatBlock",new d({template:new C({template:e.dropDownListTemplate})}));t("justifyLeft",[{tags:r.blockElements,attr:{style:{textAlign:"left"}}},
{tags:["img"],attr:{style:{"float":"left"}}}]);h("justifyLeft",new u({format:w.justifyLeft,template:new C({template:e.buttonTemplate,title:"Justify Left"})}));t("justifyCenter",[{tags:r.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]);h("justifyCenter",new u({format:w.justifyCenter,template:new C({template:e.buttonTemplate,title:"Justify Center"})}));t("justifyRight",[{tags:r.blockElements,attr:{style:{textAlign:"right"}}},
{tags:["img"],attr:{style:{"float":"right"}}}]);h("justifyRight",new u({format:w.justifyRight,template:new C({template:e.buttonTemplate,title:"Justify Right"})}));t("justifyFull",[{tags:r.blockElements,attr:{style:{textAlign:"justify"}}}]);h("justifyFull",new u({format:w.justifyFull,template:new C({template:e.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);
(function(b){var w=window.kendo;b=b.extend;var u=w.ui.editor,y=u.Dom,n=u.Command,r=u.Tool,z=u.BlockFormatter,E=y.normalize,C=u.RangeUtils,s=u.EditorUtils.registerTool,e=n.extend({init:function(b){this.options=b;n.fn.init.call(this,b)},exec:function(){function b(j){j.firstChild&&y.is(j.firstChild,"br")&&y.remove(j.firstChild);y.isDataNode(j)&&!j.nodeValue&&(j=j.parentNode);if(j&&!y.is(j,"img")){for(;j.firstChild&&1==j.firstChild.nodeType;)j=j.firstChild;""===j.innerHTML&&(j.innerHTML=d)}}var e=this.getRange(),
h=C.documentFromRange(e),n,q,m,d=w.support.browser.msie?"":'<br _moz_dirty="" />',j,k,x;j="p h1 h2 h3 h4 h5 h6".split(" ");n=y.parentOfType(e.startContainer,j);j=y.parentOfType(e.endContainer,j);n=n&&!j||!n&&j;e.deleteContents();j=y.create(h,"a");e.insertNode(j);j.parentNode||(m=e.commonAncestorContainer,m.innerHTML="",m.appendChild(j));E(j.parentNode);m=y.parentOfType(j,["li"]);k=y.parentOfType(j,"h1 h2 h3 h4 h5 h6".split(" "));m?(x=e.cloneRange(),x.selectNode(m),C.textNodes(x).length||(q=y.create(h,
"p"),m.nextSibling&&C.split(x,m.parentNode),y.insertAfter(q,m.parentNode),y.remove(1==m.parentNode.childNodes.length?m.parentNode:m),q.innerHTML=d)):k&&!j.nextSibling&&(q=y.create(h,"p"),y.insertAfter(q,k),q.innerHTML=d,y.remove(j));q||(!m&&!k&&(new z([{tags:["p"]}])).apply([j]),e.selectNode(j),h=y.parentOfType(j,[m?"li":k?y.name(k):"p"]),C.split(e,h,n),n=h.previousSibling,y.is(n,"li")&&(n.firstChild&&!y.is(n.firstChild,"br"))&&(n=n.firstChild),q=h.nextSibling,y.is(q,"li")&&(q.firstChild&&!y.is(q.firstChild,
"br"))&&(q=q.firstChild),y.remove(h),b(n),b(q),E(n));E(q);y.is(q,"img")?e.setStartBefore(q):(e.selectNodeContents(q),(h=C.textNodes(e)[0])&&e.selectNodeContents(h));e.collapse(!0);y.scrollTo(q);C.selectRange(e)}}),h=n.extend({init:function(b){this.options=b;n.fn.init.call(this,b)},exec:function(){var b=this.getRange();b.deleteContents();var e=y.create(C.documentFromRange(b),"br");b.insertNode(e);E(e.parentNode);if(!w.support.browser.msie&&(!e.nextSibling||y.isWhitespace(e.nextSibling))){var h=e.cloneNode(!0);
h.setAttribute("_moz_dirty","");y.insertAfter(h,e)}b.setStartAfter(e);b.collapse(!0);y.scrollTo(e.nextSibling);C.selectRange(b)}});b(u,{ParagraphCommand:e,NewLineCommand:h});s("insertLineBreak",new r({key:13,shift:!0,command:h}));s("insertParagraph",new r({key:13,command:e}))})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.Class,y=b.extend,w=w.ui.editor,n=w.Dom,r=w.RangeUtils,z=w.EditorUtils,E=w.Command,C=w.ToolTemplate,s=w.FormatTool,e=w.BlockFormatFinder,h=r.textNodes,t=w.EditorUtils.registerTool,p=e.extend({init:function(b){this.tag=b;b=this.tags=["ul"==b?"ol":"ul",b];e.fn.init.call(this,[{tags:b}])},isFormatted:function(b){for(var e=[],d,j=0;j<b.length;j++)(d=this.findFormat(b[j]))&&n.name(d)==this.tag&&e.push(d);if(1>e.length||e.length!=b.length)return!1;for(j=0;j<e.length&&
e[j].parentNode==d.parentNode;j++)if(e[j]!=d)return!1;return!0},findSuitable:function(b){return(b=n.parentOfType(b[0],this.tags))&&n.name(b)==this.tag?b:null}}),v=u.extend({init:function(b,e){this.finder=new p(b);this.tag=b;this.unwrapTag=e},wrap:function(b,e){var d=n.create(b.ownerDocument,"li"),j,k;for(j=0;j<e.length;j++)if(k=e[j],n.is(k,"li"))b.appendChild(k);else if(n.is(k,"ul")||n.is(k,"ol"))for(;k.firstChild;)b.appendChild(k.firstChild);else if(n.is(k,"td")){for(;k.firstChild;)d.appendChild(k.firstChild);
b.appendChild(d);k.appendChild(b);b=b.cloneNode(!1);d=d.cloneNode(!1)}else d.appendChild(k),n.isBlock(k)&&(b.appendChild(d),n.unwrap(k),d=d.cloneNode(!1));d.firstChild&&b.appendChild(d)},containsAny:function(b,e){for(var d=0;d<e.length;d++)if(n.isAncestorOrSelf(b,e[d]))return!0;return!1},suitable:function(b,e){if("k-marker"==b.className){var d=b.nextSibling;if(d&&n.isBlock(d)||(d=b.previousSibling)&&n.isBlock(d))return!1}return this.containsAny(b,e)||n.isInline(b)||3==b.nodeType},split:function(e){var m=
h(e),d,j;if(m.length){d=n.parentOfType(m[0],["li"]);j=n.parentOfType(m[m.length-1],["li"]);e.setStartBefore(d);e.setEndAfter(j);d=0;for(j=m.length;d<j;d++){var k=this.finder.findFormat(m[d]);if(k){var p=b(k).parents("ul,ol");p[0]?r.split(e,p.last()[0],!0):r.split(e,k,!0)}}}},merge:function(b,e){for(var d=e.previousSibling;d&&("k-marker"==d.className||3==d.nodeType&&n.isWhitespace(d));)d=d.previousSibling;if(d&&n.name(d)==b){for(;e.firstChild;)d.appendChild(e.firstChild);n.remove(e);e=d}for(d=e.nextSibling;d&&
("k-marker"==d.className||3==d.nodeType&&n.isWhitespace(d));)d=d.nextSibling;if(d&&n.name(d)==b){for(;e.lastChild;)d.insertBefore(e.lastChild,d.firstChild);n.remove(e)}},applyOnSection:function(e,h){function d(){x.push(this)}var j=this.tag,k;(k=1==h.length?n.parentOfType(h[0],["ul","ol"]):n.commonAncestor.apply(null,h))||(k=n.parentOfType(h[0],["p","td"])||h[0].ownerDocument.body);n.isInline(k)&&(k=n.blockParentOrBody(k));var x=[],A=this.finder.findSuitable(h);A||(A=(new p("ul"==j?"ol":"ul")).findSuitable(h));
var a=n.significantChildNodes(k);a.length||(a=h);/table|tbody/.test(n.name(k))&&(a=b.map(h,function(a){return n.parentOfType(a,["td"])}));for(var c=0;c<a.length;c++){var l=a[c],B=n.name(l);if(this.suitable(l,h)&&(!A||!n.isAncestorOrSelf(A,l)))A&&("ul"==B||"ol"==B)?(b.each(l.childNodes,d),n.remove(l)):x.push(l)}x.length==a.length&&(k!=h[0].ownerDocument.body&&!/table|tbody|tr|td/.test(n.name(k)))&&(x=[k]);A||(A=n.create(k.ownerDocument,j),n.insertBefore(A,x[0]));this.wrap(A,x);n.is(A,j)||n.changeTag(A,
j);this.merge(j,A)},apply:function(b){var e=0,d=[],j,k,h;do h=n.parentOfType(b[e],["td","body"]),!j||h!=j?(j&&d.push({section:j,nodes:k}),k=[b[e]],j=h):k.push(b[e]),e++;while(e<b.length);d.push({section:j,nodes:k});for(e=0;e<d.length;e++)this.applyOnSection(d[e].section,d[e].nodes)},unwrap:function(e){var h=e.ownerDocument.createDocumentFragment(),d=this.unwrapTag,j,k,p;for(j=e.firstChild;j;j=j.nextSibling){for(k=n.create(e.ownerDocument,d||"p");j.firstChild;)p=j.firstChild,n.isBlock(p)?(k.firstChild&&
(h.appendChild(k),k=n.create(e.ownerDocument,d||"p")),h.appendChild(p)):k.appendChild(p);k.firstChild&&h.appendChild(k)}d=b(e).parents("ul,ol");d[0]?(n.insertAfter(h,d.last()[0]),d.last().remove()):n.insertAfter(h,e);n.remove(e)},remove:function(b){for(var e,d=0,j=b.length;d<j;d++)(e=this.finder.findFormat(b[d]))&&this.unwrap(e)},toggle:function(b){var e=h(b),d=b.commonAncestorContainer;e.length||(b.selectNodeContents(d),e=h(b),e.length||(d=d.ownerDocument.createTextNode(""),b.startContainer.appendChild(d),
e=[d],b.selectNode(d.parentNode)));this.finder.isFormatted(e)?(this.split(b),this.remove(e)):this.apply(e)}}),D=E.extend({init:function(b){b.formatter=new v(b.tag);E.fn.init.call(this,b)}}),u=s.extend({init:function(b){this.options=b;s.fn.init.call(this,y(b,{finder:new p(b.tag)}))},command:function(b){return new D(y(b,{tag:this.options.tag}))}});y(w,{ListFormatFinder:p,ListFormatter:v,ListCommand:D,ListTool:u});t("insertUnorderedList",new u({tag:"ul",template:new C({template:z.buttonTemplate,title:"Remove Link"})}));
t("insertOrderedList",new u({tag:"ol",template:new C({template:z.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=w.Class,y=b.extend,n=w.ui.editor,r=n.Dom,z=n.RangeUtils,E=n.EditorUtils,C=n.Command,s=n.Tool,e=n.ToolTemplate,h=n.InlineFormatter,t=n.InlineFormatFinder,p=z.textNodes,n=n.EditorUtils.registerTool,v=u.extend({findSuitable:function(b){return r.parentOfType(b,["a"])}}),D=u.extend({init:function(){this.finder=new v},apply:function(b,j){var k=p(b),e,m;j.innerHTML?(e=z.getMarkers(b),m=z.documentFromRange(b),b.deleteContents(),m=r.create(m,"a",j),b.insertNode(m),"a"==r.name(m.parentNode)&&
r.insertAfter(m,m.parentNode),1<e.length&&(r.insertAfter(e[e.length-1],m),r.insertAfter(e[1],m),r[0<k.length?"insertBefore":"insertAfter"](e[0],m))):(e=new h([{tags:["a"]}],j),e.finder=this.finder,e.apply(k))}}),q=C.extend({init:function(b){b.formatter={toggle:function(b){(new h([{tags:["a"]}])).remove(p(b))}};this.options=b;C.fn.init.call(this,b)}}),u=C.extend({init:function(b){this.options=b;C.fn.init.call(this,b);this.formatter=new D;b.url?this.exec=function(){this.formatter.apply(b.range,{href:b.url,
innerHTML:b.text||b.url,target:b.target})}:(this.attributes=null,this.async=!0)},_dialogTemplate:function(b){return w.template("<div class=\"k-editor-dialog\"><ol><li class='k-form-text-row'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label><input type='text' class='k-input' id='k-editor-link-url'></li># if (showText) { #<li class='k-form-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label><input type='text' class='k-input' id='k-editor-link-text'></li># } #<li class='k-form-text-row'><label for='k-editor-link-title'>#: messages.linkToolTip #</label><input type='text' class='k-input' id='k-editor-link-title'></li><li class='k-form-checkbox-row'><input type='checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></li></ol><div class='k-button-wrapper'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href=\"\\#\" class=\"k-dialog-close k-link\">#: messages.dialogCancel #</a></div></div>")({messages:this.editor.options.messages,
showText:b})},exec:function(){function d(a){var d=f.element,l=b("#k-editor-link-url",d).val(),h;if(l&&"http://"!=l){k.attributes={href:l};if(h=b("#k-editor-link-title",d).val())k.attributes.title=h;h=b("#k-editor-link-text",d).val();h!==c&&(k.attributes.innerHTML=h||l);d=b("#k-editor-link-target",d).is(":checked");k.attributes.target=d?"_blank":null;k.formatter.apply(e,k.attributes)}j(a);k.change&&k.change()}function j(a){a.preventDefault();f.destroy();r.windowFromDocument(z.documentFromRange(e)).focus();
k.releaseRange(e)}var k=this,e=k.getRange(),h=e.collapsed,a,c=null,l=k.editor.options.messages,e=k.lockRange(!0);a=p(e);var m=a.length?k.formatter.finder.findSuitable(a[0]):null,h=1>=a.length||2==a.length&&h,f=E.createDialog(k._dialogTemplate(h),k.editor,y({},k.editor.options.dialogOptions,{title:l.createLink,close:j,visible:!1})).find(".k-dialog-insert").click(d).end().find(".k-dialog-close").click(j).end().find(".k-form-text-row input").keydown(function(a){var c=w.keys;a.keyCode==c.ENTER?d(a):a.keyCode==
c.ESC&&j(a)}).end().find("#k-editor-link-url").val(m?m.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(0<a.length?1==a.length?a[0].nodeValue:a[0].nodeValue+a[1].nodeValue:"").end().find("#k-editor-link-title").val(m?m.title:"").end().find("#k-editor-link-target").attr("checked",m?"_blank"==m.target:!1).end().data("kendoWindow").center().open();h&&0<a.length&&(c=b("#k-editor-link-text",f.element).val());b("#k-editor-link-url",f.element).focus().select()},redo:function(){var b=
this.lockRange(!0);this.formatter.apply(b,this.attributes);this.releaseRange(b)}}),m=s.extend({init:function(d){this.options=d;this.finder=new t([{tags:["a"]}]);s.fn.init.call(this,b.extend(d,{command:q}))},initialize:function(b,j){s.fn.initialize.call(this,b,j);b.addClass("k-state-disabled")},update:function(b,j){b.toggleClass("k-state-disabled",!this.finder.isFormatted(j)).removeClass("k-state-hover")}});y(w.ui.editor,{LinkFormatFinder:v,LinkFormatter:D,UnlinkCommand:q,LinkCommand:u,UnlinkTool:m});
n("createLink",new s({key:"K",ctrl:!0,command:u,template:new e({template:E.buttonTemplate,title:"Create Link"})}));n("unlink",new m({key:"K",ctrl:!0,shift:!0,template:new e({template:E.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=b.extend,n=u.ui.editor,r=n.EditorUtils,z=n.Dom,E=r.registerTool,C=n.ToolTemplate,s=n.RangeUtils,e=n.Command,h=u.keys,t="#k-editor-image-url",p="#k-editor-image-title",v=e.extend({init:function(b){e.fn.init.call(this,b);this.async=!0;this.attributes={}},insertImage:function(b,e){var h=this.attributes;if(h.src&&"http://"!=h.src)if(b)z.attr(b,h);else return b=z.create(s.documentFromRange(e),"img",h),b.onload=b.onerror=function(){b.removeAttribute("complete");b.removeAttribute("width");
b.removeAttribute("height")},e.deleteContents(),e.insertNode(b),e.setStartAfter(b),e.setEndAfter(b),s.selectRange(e),!0;return!1},_dialogTemplate:function(b){return u.template('<div class="k-editor-dialog"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<ol><li class="k-form-text-row"><label for="k-editor-image-url">#: messages.imageWebAddress #</label><input type="text" class="k-input" id="k-editor-image-url"></li><li class="k-form-text-row"><label for="k-editor-image-title">#: messages.imageAltText #</label><input type="text" class="k-input" id="k-editor-image-title"></li></ol><div class="k-button-wrapper"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button>&nbsp;#: messages.dialogButtonSeparator #&nbsp;<a href="\\#" class="k-dialog-close k-link">#: messages.dialogCancel #</a></div></div>')({messages:this.editor.options.messages,
showBrowser:b})},redo:function(){var b=this.lockRange();this.insertImage(s.image(b),b)||this.releaseRange(b)},exec:function(){function e(a){var b=n.element;m.attributes={src:b.find(t).val().replace(/ /g,"%20"),alt:b.find(p).val()};j=m.insertImage(k,d);q(a);m.change&&m.change()}function q(a){a.preventDefault();n.destroy();z.windowFromDocument(s.documentFromRange(d)).focus();j||m.releaseRange(d)}var m=this,d=m.lockRange(),j=!1,k=s.image(d),n,A,a=m.editor.options,c=a.messages,l=a.imageBrowser,B=!(!u.ui.ImageBrowser||
!l||!(l.transport&&l.transport.read!==w));A=B?{width:"960px",height:"650px"}:{};n=r.createDialog(m._dialogTemplate(B),m.editor,y(A,a.dialogOptions,{title:c.insertImage,close:q,visible:!1,resizable:B,activate:function(){if(B){var a=this;new u.ui.ImageBrowser(a.element.find(".k-imagebrowser"),y({},l,{change:function(){a.element.find(t).val(this.value())},apply:e}))}}})).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(q).end().find(".k-form-text-row input").keydown(function(a){a.keyCode==
h.ENTER?e(a):a.keyCode==h.ESC&&q(a)}).end().find(t).val(k?k.getAttribute("src",2):"http://").end().find(p).val(k?k.alt:"").end().data("kendoWindow").center().open();b(t,n.element).focus().select()}});u.ui.editor.ImageCommand=v;E("insertImage",new n.Tool({command:v,template:new C({template:r.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);
(function(b,w){var u=window.kendo,y=u.ui.DropDownList,n=y.extend({init:function(b,n){y.fn.init.call(this,b,n);this.value(this.options.title)},options:{name:"SelectBox"},value:function(b){var n=y.fn.value.call(this,b);if(b===w)return n;b!==y.fn.value.call(this)&&(this.text(this.options.title),this._current.removeClass("k-state-selected"),this.current(null),this._oldIndex=this.selectedIndex=-1)}});u.ui.plugin(n);u.ui.editor.SelectBox=n})(window.kendo.jQuery);
(function(b,w){function u(d,k){var e="rtl"==b(d).css("direction")?"Right":"Left",e="td"!=z.name(d)?"margin"+e:"padding"+e;if(k===w)return d.style[e]||0;0<k?d.style[e]=k+"px":(d.style[e]="",d.style.cssText||d.removeAttribute("style"))}var y=window.kendo,n=b.extend,r=y.ui.editor,z=r.Dom,E=r.EditorUtils,C=E.registerTool,s=r.Command,e=r.Tool,h=r.ToolTemplate,t=r.RangeUtils,p=z.blockElements,v=r.BlockFormatFinder,D=r.BlockFormatter,q=y.Class.extend({init:function(){this.finder=new v([{tags:z.blockElements}])},
apply:function(d){var k=this.finder.findSuitable(d),e=[],h;if(k.length){d=0;for(h=k.length;d<h;d++)z.is(k[d],"li")?b(k[d]).index()?0>b.inArray(k[d].parentNode,e)&&e.push(k[d]):e.push(k[d].parentNode):e.push(k[d]);for(;e.length;)if(k=e.shift(),z.is(k,"li")){d=k.parentNode;h=b(k).prev("li");var a=h.find("ul,ol").last(),c=b(k).children("ul,ol")[0];if(c&&h[0])a[0]?(a.append(k),a.append(b(c).children()),z.remove(c)):(h.append(c),c.insertBefore(k,c.firstChild));else{c=h.children("ul,ol")[0];c||(c=z.create(k.ownerDocument,
z.name(d)),h.append(c));for(;k&&k.parentNode==d;)c.appendChild(k),k=e.shift()}}else{d=parseInt(u(k),10)+30;u(k,d);for(d=0;d<e.length;d++)b.contains(k,e[d])&&e.splice(d,1)}}else(new D([{tags:"p"}],{style:{marginLeft:30}})).apply(d)},remove:function(d){d=this.finder.findSuitable(d);var e,h,m,a,c,l,q;h=0;for(m=d.length;h<m;h++){q=b(d[h]);if(q.is("li"))if(a=q.parent(),c=a.parent(),c.is("li,ul,ol")&&!u(a[0])){if(e&&b.contains(e,c[0]))continue;l=q.nextAll("li");l.length&&b(a[0].cloneNode(!1)).appendTo(q).append(l);
c.is("li")?q.insertAfter(c):q.appendTo(c);a.children("li").length||a.remove();continue}else{if(e==a[0])continue;e=a[0]}else e=d[h];a=parseInt(u(e),10)-30;u(e,a)}}}),y=s.extend({init:function(b){b.formatter={toggle:function(b){(new q).apply(t.nodes(b))}};s.fn.init.call(this,b)}}),m=s.extend({init:function(b){b.formatter={toggle:function(b){(new q).remove(t.nodes(b))}};s.fn.init.call(this,b)}}),d=e.extend({init:function(b){e.fn.init.call(this,b);this.finder=new v([{tags:p}])},update:function(d,e){var h=
this.finder.findSuitable(e),m,a,c;a=0;for(c=h.length;a<c;a++)if(m=u(h[a]),m||(m=b(h[a]).parents("ul,ol").length,m=z.is(h[a],"li")&&(1<m||u(h[a].parentNode))||z.ofType(h[a],["ul","ol"])&&0<m),m){d.removeClass("k-state-disabled");return}d.addClass("k-state-disabled").removeClass("k-state-hover")}});n(r,{IndentFormatter:q,IndentCommand:y,OutdentCommand:m,OutdentTool:d});C("indent",new e({command:y,template:new h({template:E.buttonTemplate,title:"Indent"})}));C("outdent",new d({command:m,template:new h({template:E.buttonTemplate,
title:"Outdent"})}))})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=b.extend,y=w.ui.editor,n=y.Dom,r=y.RangeUtils,z=y.EditorUtils,E=y.Command,C=y.Tool,s=y.ToolTemplate,e=E.extend({init:function(b){this.options=b;E.fn.init.call(this,b);this.attributes=null;this.async=!0},exec:function(){function h(b){b.preventDefault();w.data("kendoWindow").destroy();n.windowFromDocument(r.documentFromRange(s)).focus()}var t=this,p=t.editor,s=p.getRange(),w=b(e.template).appendTo(document.body),q=e.indent(p.value());w.kendoWindow(u({},p.options.dialogOptions,
{title:p.options.messages.viewHtml,close:h})).hide().find(".k-editor-textarea").val(q).end().find(".k-dialog-update").click(function(b){p.value(w.find(".k-editor-textarea").val());h(b);t.change&&t.change();p.trigger("change")}).end().find(".k-dialog-close").click(h).end().show().data("kendoWindow").center();w.find(".k-editor-textarea").focus()}});u(e,{template:"<div class='k-editor-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>Update</button>&nbsp;or&nbsp;<a href='#' class='k-dialog-close k-link'>Close</a></div></div>",
indent:function(b){return b.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}});w.ui.editor.ViewHtmlCommand=e;y.EditorUtils.registerTool("viewHtml",new C({command:e,template:new s({template:z.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);
(function(b){var w=window.kendo,u=b.extend;b=w.ui.editor;var y=b.RangeUtils,n=b.Marker,w=w.Class.extend({init:function(b){this.editor=b;this.formats=[]},apply:function(b){if(this.hasPending()){var w=new n;w.addCaret(b);var E=b.startContainer.childNodes[b.startOffset].previousSibling;E?(E.nodeValue||(E=E.previousSibling),b.setStart(E,E.nodeValue.length-1)):b.setStart(b.startContainer,b.startOffset);w.add(b);if(y.textNodes(b).length){for(var E=w.end.previousSibling.previousSibling,C,s=this.formats,
e=0;e<s.length;e++)C=s[e],C=C.command(u({range:b},C.options.params)),C.editor=this.editor,C.exec(),b.selectNode(E);w.remove(b);E.parentNode&&(b.setStart(E,1),b.collapse(!0));this.clear()}else w.remove(b),b.collapse(!0);this.editor.selectRange(b)}},hasPending:function(){return 0<this.formats.length},isPending:function(b){return!!this.getPending(b)},getPending:function(b){for(var n=this.formats,u=0;u<n.length;u++)if(n[u].name==b)return n[u]},toggle:function(b){for(var n=this.formats,u=0;u<n.length;u++)if(n[u].name==
b.name){n[u].params&&n[u].params.value!=b.params.value?n[u].params.value=b.params.value:n.splice(u,1);return}n.push(b)},clear:function(){this.formats=[]}});u(b,{PendingFormats:w})})(window.kendo.jQuery);
(function(b,w){function u(b,e){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+b+'" title="'+e+'">'+e+"</span></span>"}function y(e,h){var d,j=h!==w;if(e.selectionStart!==w)j?(e.focus(),e.setSelectionRange(h,h)):h=[e.selectionStart,e.selectionEnd];else if(document.selection)if(b(e).is(":visible")&&e.focus(),d=document.selection.createRange(),j)d.move("character",h),d.select();else{var j=e.createTextRange(),k=j.duplicate();j.moveToBookmark(d.getBookmark());
k.setEndPoint("EndToStart",j);d=k.text.length;h=[d,d+j.text.length]}return h}var n=window.kendo,r=n.keys,z=n.ui,E=z.Widget,C=n._activeElement,s=n._extractFormat,e=n.parseFloat,h=n.support.placeholder,t=n.getCulture,p=b.proxy,v={190:".",188:","},D=E.extend({init:function(b,e){var d=this,j=e&&e.step!==w,k,h,A;E.fn.init.call(d,b,e);e=d.options;b=d.element.on("blur.kendoNumericTextBox",p(d._focusout,d)).attr("role","spinbutton");e.placeholder=e.placeholder||b.attr("placeholder");d._reset();d._wrapper();
d._arrows();d._input();if(n.support.mobileOS)d._text.on("touchend.kendoNumericTextBox focus.kendoNumericTextBox",function(a){d._toggleText(!1);"focus"===a.type&&b.focus()});else d._text.on("focus.kendoNumericTextBox",p(d._click,d));k=d.min(b.attr("min"));h=d.max(b.attr("max"));A=d._parse(b.attr("step"));null===e.min&&null!==k&&(e.min=k);null===e.max&&null!==h&&(e.max=h);!j&&null!==A&&(e.step=A);b.attr("aria-valuemin",e.min).attr("aria-valuemax",e.max);e.format=s(e.format);j=e.value;d.value(null!==
j?j:b.val());b.is("[disabled]")?d.enable(!1):d.readonly(b.is("[readonly]"));n.notify(d)},options:{name:"NumericTextBox",decimals:null,min:null,max:null,value:null,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:["change","spin"],_editable:function(b){var e=this,d=e.element,j=b.disable;b=b.readonly;var k=e._text.add(d),h=e._inputWrapper.off("mouseenter.kendoNumericTextBox mouseleave.kendoNumericTextBox");e._toggleText(!0);
e._upArrowEventHandler.unbind("press");e._downArrowEventHandler.unbind("press");d.off("keydown.kendoNumericTextBox").off("paste.kendoNumericTextBox");!b&&!j?(h.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoNumericTextBox mouseleave.kendoNumericTextBox",e._toggleHover),k.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1),e._upArrowEventHandler.bind("press",function(b){b.preventDefault();e._spin(1);e._upArrow.addClass("k-state-selected")}),
e._downArrowEventHandler.bind("press",function(b){b.preventDefault();e._spin(-1);e._downArrow.addClass("k-state-selected")}),e.element.on("keydown.kendoNumericTextBox",p(e._keydown,e)).on("paste.kendoNumericTextBox",p(e._paste,e))):(h.addClass(j?"k-state-disabled":"k-state-default").removeClass(j?"k-state-default":"k-state-disabled"),k.attr("disabled",j).attr("readonly",b).attr("aria-disabled",j).attr("aria-readonly",b))},readonly:function(b){this._editable({readonly:b===w?!0:b,disable:!1})},enable:function(b){this._editable({readonly:!1,
disable:!(b===w||b)})},destroy:function(){this.element.add(this._text).add(this._upArrow).add(this._downArrow).add(this._inputWrapper).off(".kendoNumericTextBox");this._form&&this._form.off("reset",this._resetHandler);E.fn.destroy.call(this)},min:function(b){return this._option("min",b)},max:function(b){return this._option("max",b)},step:function(b){return this._option("step",b)},value:function(b){var e;if(b===w)return this._value;b=this._parse(b);e=this._adjust(b);b===e&&(this._update(b),this._old=
this._value)},focus:function(){this._focusin()},_adjust:function(b){var e=this.options,d=e.min,e=e.max;if(null===b)return b;null!==d&&b<d?b=d:null!==e&&b>e&&(b=e);return b},_arrows:function(){var e=this,h,d=e.options,j=d.spinners,k=e.element;h=k.siblings(".k-icon");h[0]||(h=b(u("n",d.upArrowText)+u("s",d.downArrowText)).insertAfter(k),h.wrapAll('<span class="k-select"/>'));h.on("touchcancel.kendoNumericTextBox touchend.kendoNumericTextBox mouseup.kendoNumericTextBox mouseleave.kendoNumericTextBox",
function(){clearTimeout(e._spinning);h.removeClass("k-state-selected")});j||(h.parent().toggle(j),e._inputWrapper.addClass("k-expand-padding"));e._upArrow=h.eq(0);e._upArrowEventHandler=new n.UserEvents(e._upArrow);e._downArrow=h.eq(1);e._downArrowEventHandler=new n.UserEvents(e._downArrow)},_blur:function(){this._toggleText(!0);this._change(this.element.val())},_click:function(b){var e=this;clearTimeout(e._focusing);e._focusing=setTimeout(function(){var d=b.target,j=y(d)[0],d=d.value.substring(0,
j),k=e._format(e.options.format),h=k[","],j=RegExp("\\"+h,"g"),k=RegExp("([\\d\\"+h+"]+)(\\"+k["."]+")?(\\d+)?").exec(d),h=0;k&&(h=k[0].replace(j,"").length,-1!=d.indexOf("(")&&0>e._value&&h++);e._focusin();y(e.element[0],h)})},_change:function(b){this._update(b);b=this._value;this._old!=b&&(this._old=b,this.trigger("change"),this.element.trigger("change"))},_culture:function(b){return b||t(this.options.culture)},_focusin:function(){this._inputWrapper.addClass("k-state-focused");this._toggleText(!1);
this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing);this._inputWrapper.removeClass("k-state-focused").removeClass("k-state-hover");this._blur()},_format:function(b,e){var d=this._culture(e).numberFormat;b=b.toLowerCase();-1<b.indexOf("c")?d=d.currency:-1<b.indexOf("p")&&(d=d.percent);return d},_input:function(){var e=this.element.addClass("k-input").show()[0],h=e.accessKey,d;d=this.wrapper.find(".k-formatted-value");d[0]||(d=b('<input type="text"/>').insertBefore(e).addClass("k-formatted-value"));
e.type="text";d[0].tabIndex=e.tabIndex;d[0].style.cssText=e.style.cssText;d.prop("placeholder",this.options.placeholder);h&&(d.attr("accesskey",h),e.accessKey="");this._text=d.addClass(e.className)},_keydown:function(b){var e=b.keyCode;e==r.DOWN?this._step(-1):e==r.UP?this._step(1):e==r.ENTER&&this._change(this.element.val());this._prevent(e,b.shiftKey)&&!b.ctrlKey&&b.preventDefault()},_paste:function(b){var e=this,d=b.target,j=d.value;setTimeout(function(){null===e._parse(d.value)&&e._update(j)})},
_prevent:function(b,e){var d=this.element[0],j=d.value,k=this.options,h=k.min,p=this._format(k.format),a=p["."],c=k.decimals,l=y(d),k=l[0],l=l[1],n=0===k&&l===j.length,f=!0;null===c&&(c=p.decimals);if(16<b&&21>b||32<b&&37>b||47<b&&58>b||95<b&&106>b||b==r.INSERT||b==r.DELETE||b==r.LEFT||b==r.RIGHT||b==r.TAB||b==r.BACKSPACE||b==r.ENTER){if(f=!1,e&&(h=parseInt(String.fromCharCode(b),10),!isNaN(h))){h+="";j=j.substring(0,k)+h+j.substring(l);if(-1===d.maxLength||d.maxLength>=j.length)d.value=j,y(d,k+h.length);
f=!0}}else if((v[b]===a||110==b)&&0<c&&(-1==j.indexOf(a)||n))110==b?(d.value=j.substring(0,k)+a+j.substring(l),y(d,k+a.length)):e||(f=!1);else if((null===h||0>h)&&-1==j.indexOf("-")&&(189==b||109==b||173==b)&&0===k)f=!1;return f},_option:function(b,e){var d=this.options;if(e===w)return d[b];if((e=this._parse(e))||"step"!==b)d[b]=this._parse(e),this.element.attr("aria-value"+b,d[b])},_spin:function(b,e){var d=this;e=e||500;clearTimeout(d._spinning);d._spinning=setTimeout(function(){d._spin(b,50)},
e);d._step(b)},_step:function(b){var e=this.element,d=this._parse(e.val())||0;C()!=e[0]&&this._focusin();d+=this.options.step*b;this._update(this._adjust(d));this.trigger("spin")},_toggleHover:function(e){b(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_toggleText:function(b){this._text.toggle(b);this.element.toggle(!b)},_parse:function(b,h){return e(b,this._culture(h),this.options.format)},_update:function(b){var e=this.options,d=e.format,e=e.decimals,j=this._culture(),k=this._format(d,
j),h;null===e&&(e=k.decimals);b=this._parse(b,j);(h=null!==b)&&(b=parseFloat(b.toFixed(e)));this._value=b=this._adjust(b);this._placeholder(n.toString(b,d,j));this.element.val(h?b.toString().replace(".",k["."]):"").attr("aria-valuenow",b)},_placeholder:function(b){this._text.val(b);!h&&!b&&this._text.val(this.options.placeholder)},_wrapper:function(){var e=this.element,h=e[0],d;d=e.parents(".k-numerictextbox");d.is("span.k-numerictextbox")||(d=e.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),
d=d.wrap("<span/>").parent());d[0].style.cssText=h.style.cssText;h.style.width="";this.wrapper=d.addClass("k-widget k-numerictextbox").addClass(h.className).css("display","");this._inputWrapper=b(d[0].firstChild)},_reset:function(){var b=this,e=b.element,d=e.closest("form");d[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(e[0].value)})},b._form=d.on("reset",b._resetHandler))}});z.plugin(D)})(window.kendo.jQuery);
(function(b,w){function u(a,c){try{return b.contains(a,c)}catch(d){return!1}}function y(a){a=b(a);a.addClass("k-item").children(m).addClass(A);a.children("a").addClass(j).children(m).addClass(A);a.filter(":not([disabled])").addClass(l);a.filter(".k-separator:empty").append("&nbsp;");a.filter("li[disabled]").addClass(B).removeAttr("disabled").attr("aria-disabled",!0);a.filter("[role]").length||a.attr("role","menuitem");a.children("."+j).length||a.contents().filter(function(){return!this.nodeName.match(q)&&
!(3==this.nodeType&&!b.trim(this.nodeValue))}).wrapAll("<span class='"+j+"'/>");n(a);r(a)}function n(a){a=b(a);a.find("> .k-link > [class*=k-i-arrow]").remove();a.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var a=b(this),c=a.parent().parent();a.append("<span class='k-icon "+(c.hasClass(d+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function r(a){a=b(a);a.filter(".k-first:not(:first-child)").removeClass(x);a.filter(".k-last:not(:last-child)").removeClass(k);
a.filter(":first-child").addClass(x);a.filter(":last-child").addClass(k)}var z=window.kendo,E=z._activeElement,C=z.support.touch&&z.support.mobileOS,s=C||z.support.pointers,e=b.extend,h=b.proxy,t=b.each,p=z.template,v=z.keys,D=z.ui.Widget,q=/^(ul|a|div)$/i,m="img",d="k-menu",j="k-link",k="k-last",x="k-first",A="k-image",a=z.support.pointers?"MSPointerOver":"mouseenter",c=z.support.pointers?"MSPointerOut":"mouseleave",l="k-state-default",B="k-state-disabled",f={content:p("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),
group:p("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:p("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:p("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),
image:p("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:p("<span class='#= arrowClass(item, group) #'></span>"),sprite:p("<span class='k-sprite #= spriteCssClass #'></span>"),empty:p("")},g={wrapperCssClass:function(a,b){var c="k-item",d=b.index,c=!1===b.enabled?c+" k-state-disabled":c+" k-state-default";a.firstLevel&&0===d&&(c+=" k-first");d==a.length-1&&(c+=" k-last");b.cssClass&&(c+=" "+b.cssClass);return c},textClass:function(){return j},textAttributes:function(a){return a.url?" href='"+
a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c=b.horizontal?c+" k-i-arrow-s":c+" k-i-arrow-e"},text:function(a){return!1===a.encoded?a.text:z.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return!0!==a.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(a){return a.content?a.content:"&nbsp;"}},F=D.extend({init:function(d,f){D.fn.init.call(this,d,f);d=this.wrapper=this.element;f=this.options;this._initData(f);
this._updateClasses();this._animations(f);this.nextItemZIndex=100;this._tabindex();this._focusProxy=h(this._focusHandler,this);d.on("touchstart MSPointerDown",this._focusProxy).on("click.kendoMenu",".k-item.k-state-disabled",!1).on("click.kendoMenu",".k-item:not(.k-state-disabled)",h(this._click,this)).on("keydown.kendoMenu",h(this._keydown,this)).on("focus.kendoMenu",h(this._focus,this)).on("focus.kendoMenu",".k-content",h(this._focus,this)).on("blur.kendoMenu",h(this._removeHoverItem,this)).on(a+
".kendoMenu",".k-item:not(.k-state-disabled)",h(this._mouseenter,this)).on(c+".kendoMenu",".k-item:not(.k-state-disabled)",h(this._mouseleave,this)).on(a+".kendoMenu "+c+".kendoMenu mousedown.kendoMenu click.kendoMenu",".k-item:not(.k-state-disabled) > .k-link",h(this._toggleHover,this));f.openOnClick&&(this.clicked=!1,this._documentClickHandler=h(this._documentClick,this),b(document).click(this._documentClickHandler));d.attr("role","menubar");d[0].id&&(this._ariaId=z.format("{0}_mn_active",d[0].id));
z.notify(this)},events:["open","close","activate","deactivate","select"],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(a){a.dataSource&&(this.element.empty(),this.append(a.dataSource,this.element))},setOptions:function(a){var b=this.options.animation;this._animations(a);a.animation=e(!0,b,a.animation);"dataSource"in a&&this._initData(a);D.fn.setOptions.call(this,
a)},destroy:function(){D.fn.destroy.call(this);this.element.off(".kendoMenu");this._documentClickHandler&&b(document).unbind("click",this._documentClickHandler)},enable:function(a,b){this._toggleDisabled(a,!1!==b);return this},disable:function(a){this._toggleDisabled(a,!1);return this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-group, > .k-animation-container > .k-group"):null);t(c.items,function(){c.group.append(this);n(this)});n(b);r(c.group.find(".k-first, .k-last").add(c.items));
return this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());t(c.items,function(){b.before(this);n(this);r(this)});r(b);return this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());t(c.items,function(){b.after(this);n(this);r(this)});r(b);return this},_insert:function(a,c,f){if(!c||!c.length)f=this.element;var g=b.isPlainObject(a),j={firstLevel:f.hasClass(d),horizontal:f.hasClass(d+"-horizontal"),expanded:!0,length:f.children().length};
c&&!f.length&&(f=b(F.renderGroup({group:j})).appendTo(c));g||b.isArray(a)?a=b.map(g?[a]:a,function(a,c){return"string"===typeof a?b(a):b(F.renderItem({group:j,item:e(a,{index:c})}))}):(a=b(a),c=a.find("> ul").addClass("k-group").attr("role","menu"),a=a.filter("li"),a.add(c.find("> li")).each(function(){y(this)}));return{items:a,group:f}},remove:function(a){a=this.element.find(a);var b=a.parentsUntil(this.element,":not(.k-list) > .k-item"),c=a.parent("ul");a.remove();c&&!c.children(":not(.k-list) > .k-item").length&&
(a=c.parent(".k-animation-container"),a.length?a.remove():c.remove());b.length&&(b=b.eq(0),n(b),r(b));return this},open:function(a){var c=this,f=c.options,g="horizontal"==f.orientation,j=f.direction,k=z.support.isRtl(c.wrapper);a=c.element.find(a);/^(top|bottom|default)$/.test(j)&&(j=k?g?(j+" left").replace("default","bottom"):"left":g?(j+" right").replace("default","bottom"):"right");a.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var a=b(this).data("kendoPopup");
a&&a.close()});a.each(function(){var a=b(this);clearTimeout(a.data("timer"));a.data("timer",setTimeout(function(){var b=a.find(".k-group:first:hidden"),l;if(b[0]&&!1===c.trigger("open",{item:a[0]})){a.data("zIndex",a.css("zIndex"));a.css("zIndex",c.nextItemZIndex++);l=b.data("kendoPopup");var h=a.parent().hasClass(d),m=h&&g,F=j,F=F.split(" ")[!h+0]||F,q=["bottom",k?"right":"left"],p=["top",k?"right":"left"];/left|right/.test(F)?(q=["top",F],p[1]=z.directions[F].reverse):(q[0]=F,p[0]=z.directions[F].reverse);
q=q.join(" ");p=p.join(" ");F=f.animation.open.effects;F!==w?h=F:(F=j,F=F.split(" ")[!h+0]||F,h="slideIn:"+F.replace("top","up").replace("bottom","down"));l?(l=b.data("kendoPopup"),l.options.origin=q,l.options.position=p,l.options.animation.open.effects=h):l=b.kendoPopup({activate:function(){c.trigger("activate",{item:this.wrapper.parent()})},deactivate:function(){c.trigger("deactivate",{item:this.wrapper.parent()})},origin:q,position:p,collision:f.popupCollision!==w?f.popupCollision:m?"fit":"fit flip",
anchor:a,appendTo:a,animation:{open:e(!0,{effects:h},f.animation.open),close:f.animation.close},close:function(a){var b=a.sender.wrapper.parent();c.trigger("close",{item:b[0]})?a.preventDefault():(b.css("zIndex",b.data("zIndex")),b.removeData("zIndex"))}}).data("kendoPopup");b.removeAttr("aria-hidden");l.open()}},c.options.hoverDelay))});return c},close:function(a){var c=this,d=c.element;a=d.find(a);a.length||(a=d.find(">.k-item"));a.each(function(){var a=b(this);clearTimeout(a.data("timer"));a.data("timer",
setTimeout(function(){var b=a.find(".k-group:first:visible").data("kendoPopup");b&&(b.close(),b.element.attr("aria-hidden",!0))},c.options.hoverDelay))});return c},_toggleDisabled:function(a,c){this.element.find(a).each(function(){b(this).toggleClass(l,c).toggleClass(B,!c).attr("aria-disabled",!c)})},_toggleHover:function(c){var d=b(z.eventTarget(c)||c.target).closest(":not(.k-list) > .k-item"),f=c.type==a||-1!=="mousedown".indexOf(c.type);d.parents("li."+B).length||d.toggleClass("k-state-hover",
f||"mousedown"==c.type||"click"==c.type);this._removeHoverItem()},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass("k-state-focused")&&(a.removeClass("k-state-focused"),this._oldHoverItem=null)},_updateClasses:function(){var a=this.element;a.addClass("k-widget k-reset k-header "+d).addClass(d+"-"+this.options.orientation);a.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",a.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");
a.find("> li,.k-group > li").each(function(){y(this)})},_mouseenter:function(a){var c=this,d=b(a.currentTarget),f=d.children(".k-animation-container").length||d.children(".k-group").length;a.delegateTarget==d.parents(".k-menu")[0]&&((!c.options.openOnClick||c.clicked)&&!u(a.currentTarget,a.relatedTarget)&&f&&c.open(d),(c.options.openOnClick&&c.clicked||s)&&d.siblings().each(h(function(a,b){c.close(b)},c)))},_mouseleave:function(a){var c=b(a.currentTarget),d=c.children(".k-animation-container").length||
c.children(".k-group").length;c.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?a.stopImmediatePropagation():!this.options.openOnClick&&(!C&&!(z.support.pointers&&2==a.originalEvent.pointerType)&&!u(a.currentTarget,a.relatedTarget)&&d)&&this.close(c)},_click:function(a){var c=this.options,f=b(z.eventTarget(a)),g=f[0]?f[0].nodeName.toUpperCase():"",g="INPUT"==g||"SELECT"==g||"BUTTON"==g,e=f.closest("."+j),f=f.closest(":not(.k-list) > .k-item"),k=e.attr("href"),l,
h=!!k&&"#"!=k.charAt(k.length-1);if(!f.children("div:not(.k-animation-container,.k-list-container)")[0])if(f.hasClass(B))a.preventDefault();else if(!a.handled&&(this.trigger("select",{item:f[0]})&&!g)&&a.preventDefault(),a.handled=!0,k=f.children(".k-group,.k-animation-container"),l=k.is(":visible"),c.closeOnClick&&!h&&(!k.length||c.openOnClick&&l))f.removeClass("k-state-hover").css("height"),this._oldHoverItem=this._findRootParent(f),this.close(e.parentsUntil(this.element,":not(.k-list) > .k-item")),
this.clicked=!1,-1!="MSPointerUp".indexOf(a.type)&&a.preventDefault();else if(f.parent().hasClass(d)&&c.openOnClick||!s)if(!h&&!g&&a.preventDefault(),this.clicked=!0,a=k.is(":visible")?"close":"open",c.closeOnClick||"close"!=a)this[a](f)},_documentClick:function(a){u(this.element[0],a.target)||(this.clicked=!1)},_focus:function(a){var c=a.target,d=this._hoverItem(),f=E();c!=this.wrapper[0]&&!b(c).is(":focusable")?(a.stopPropagation(),b(c).closest(".k-content").closest(".k-group").closest(".k-item").addClass("k-state-focused"),
this.wrapper.focus()):f===a.currentTarget&&(d.length?this._moveHover([],d):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(a){var b=a.keyCode,c=this._oldHoverItem,d,f,g,j=z.support.isRtl(this.wrapper);if(!(a.target!=a.currentTarget&&b!=v.ESC)){c||(c=this._oldHoverItem=this._hoverItem());f=this._itemBelongsToVertival(c);g=this._itemHasChildren(c);if(b==v.RIGHT)d=this[j?"_itemLeft":"_itemRight"](c,f,g);else if(b==v.LEFT)d=this[j?"_itemRight":"_itemLeft"](c,
f,g);else if(b==v.DOWN)d=this._itemDown(c,f,g);else if(b==v.UP)d=this._itemUp(c,f,g);else if(b==v.ESC)d=this._itemEsc(c,f);else if(b==v.ENTER||b==v.SPACEBAR)d=c.children(".k-link"),0<d.length&&(this._click({target:d[0],preventDefault:function(){}}),this._moveHover(c,this._findRootParent(c)));else if(b==v.TAB){d=this._findRootParent(c);this.close(d);this._moveHover(c,d);return}d&&d[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},
_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return!a.length?b:a.parent().hasClass("k-group")||b},_itemHasChildren:function(a){return!a.length?!1:0<a.children("ul.k-group, div.k-animation-container").length},_moveHover:function(a,b){var c=this._ariaId;a.length&&b.length&&(a.removeClass("k-state-focused"),a[0].id===c&&a.removeAttr("id"));b.length&&(b[0].id&&(c=b[0].id),b.addClass("k-state-focused"),this._oldHoverItem=b,c&&(this.element.removeAttr("aria-activedescendant"),
b.attr("id",c),this.element.attr("aria-activedescendant",c)))},_findRootParent:function(a){return a.parent().hasClass("k-menu")?a:a.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass("k-menu")},_itemRight:function(a,b,c){var d;b?c?(this.open(a),d=a.find(".k-group").children().first()):"horizontal"==this.options.orientation&&(b=this._findRootParent(a),this.close(b),d=b.nextAll(":not(.k-item.k-separator):eq(0)")):(d=a.nextAll(":not(.k-item.k-separator):eq(0)"),
d.length||(d=a.prevAll(":not(.k-item.k-separator):last")));d&&!d.length?d=this.wrapper.children(".k-item").first():d||(d=[]);this._moveHover(a,d);return d},_itemLeft:function(a,b){var c;b?(c=a.parent().closest(".k-item"),this.close(c),this._isRootItem(c)&&"horizontal"==this.options.orientation&&(c=c.prevAll(":not(.k-item.k-separator):eq(0)"))):(c=a.prevAll(":not(.k-item.k-separator):eq(0)"),c.length||(c=a.nextAll(":not(.k-item.k-separator):last")));c.length||(c=this.wrapper.children(".k-item").last());
this._moveHover(a,c);return c},_itemDown:function(a,b,c){if(b)b=a.nextAll(":not(.k-item.k-separator):eq(0)");else{if(!c||a.hasClass(B))return;this.open(a);b=a.find(".k-group").children().first()}!b.length&&a.length?b=a.parent().children().first():a.length||(b=this.wrapper.children(".k-item").first());this._moveHover(a,b);return b},_itemUp:function(a,b){var c;if(b)return c=a.prevAll(":not(.k-item.k-separator):eq(0)"),!c.length&&a.length?c=a.parent().children().last():a.length||(c=this.wrapper.children(".k-item").last()),
this._moveHover(a,c),c},_itemEsc:function(a,b){var c;if(b)c=a.parent().closest(".k-item"),this.close(c),this._moveHover(a,c);else return a;return c},_focusHandler:function(a){var c=this,d=b(z.eventTarget(a)).closest(":not(.k-list) > .k-item");setTimeout(function(){c._moveHover([],d);d.children(".k-content")[0]&&d.parent().closest(".k-item").removeClass("k-state-focused")},200)},_animations:function(a){a&&("animation"in a&&!a.animation)&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});
e(F,{renderItem:function(a){a=e({menu:{},group:{}},a);var b=f.empty,c=a.item;return f.item(e(a,{image:c.imageUrl?f.image:b,sprite:c.spriteCssClass?f.sprite:b,itemWrapper:f.itemWrapper,renderContent:F.renderContent,arrow:c.items||c.content?f.arrow:b,subGroup:F.renderGroup},g))},renderGroup:function(a){return f.group(e({renderItems:function(a){for(var b="",c=0,d=a.items,f=d?d.length:0,g=e({length:f},a.group);c<f;c++)b+=F.renderItem(e(a,{group:g,item:e({index:c},d[c])}));return b}},a,g))},renderContent:function(a){return f.content(e(a,
g))}});z.ui.plugin(F)})(window.kendo.jQuery);
(function(b,w){function u(e){e=null!=e?e:"";return e.type||b.type(e)||"string"}function y(b){var m=(b.model.fields||b.model)[b.field],d=u(m),m=m?m.validation:{},j,k=z.attr("type"),p=z.attr("bind"),n,a={name:b.field};for(j in m)n=m[j],0<=t(j,v)?a[k]=j:e(n)||(a[j]=h(n)?n.value||j:n),a[z.attr(j+"-msg")]=n.message;0<=t(d,v)&&(a[k]=d);a[p]=("boolean"===d?"checked:":"value:")+b.field;return a}function n(b){var e,d,j,k,h;if(b&&b.length){h=[];e=0;for(d=b.length;e<d;e++)j=b[e],k=j.text||j.value||j,j=null==
j.value?j.text||j:j.value,h[e]={text:k,value:j}}return h}function r(b,h){var d=b?b.validation||{}:{},j;for(j in d)e(d[j])&&(h[j]=d[j])}var z=window.kendo,E=z.ui,C=E.Widget,s=b.extend,e=b.isFunction,h=b.isPlainObject,t=b.inArray,p=/("|'|\[|\]|\$|\.|\:|\+)/g,v=["url","email","number","date","boolean"],D=C.extend({init:function(e,h){C.fn.init.call(this,e,h);this._validateProxy=b.proxy(this._validate,this);this.refresh()},events:["change"],options:{name:"Editable",editors:{number:function(e,h){var d=
y(h);b('<input type="text"/>').attr(d).appendTo(e).kendoNumericTextBox({format:h.format});b("<span "+z.attr("for")+'="'+h.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},date:function(e,h){var d=y(h),j=h.format;j&&(j=z._extractFormat(j));d[z.attr("format")]=j;b('<input type="text"/>').attr(d).appendTo(e).kendoDatePicker({format:h.format});b("<span "+z.attr("for")+'="'+h.field+'" class="k-invalid-msg"/>').hide().appendTo(e)},string:function(e,h){var d=y(h);b('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(e)},
"boolean":function(e,h){var d=y(h);b('<input type="checkbox" />').attr(d).appendTo(e)},values:function(e,h){var d=y(h);b("<select "+z.attr("text-field")+'="text"'+z.attr("value-field")+'="value"'+z.attr("source")+"='"+z.stringify(n(h.values)).replace(/\'/g,"&apos;")+"'"+z.attr("role")+'="dropdownlist"/>').attr(d).appendTo(e);b("<span "+z.attr("for")+'="'+h.field+'" class="k-invalid-msg"/>').hide().appendTo(e)}},clearContainer:!0,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>'},
editor:function(b,e){var d=this.options.editors,j=h(b),k=j?b.field:b,n=this.options.model||{},A=j&&b.values?"values":u(e),a=j&&b.editor,A=a?b.editor:d[A],c=this.element.find("["+z.attr("container-for")+"="+k.replace(p,"\\$1")+"]"),A=A?A:d.string;a&&"string"===typeof b.editor&&(A=function(a){a.append(b.editor)});c=c.length?c:this.element;A(c,s(!0,{},j?b:{field:k},{model:n}))},_validate:function(e){var h="boolean"===typeof e.value,d=this._validationEventInProgress,j={};j[e.field]=e.value;h=b(":input["+
z.attr("bind")+'="'+(h?"checked:":"value:")+e.field.replace(p,"\\$1")+'"]',this.element);try{this._validationEventInProgress=!0,(!this.validatable.validateInput(h)||!d&&this.trigger("change",{values:j}))&&e.preventDefault()}finally{this._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){C.fn.destroy.call(this);this.options.model.unbind("set",this._validateProxy);z.unbind(this.element);z.destroy(this.element);this.element.removeData("kendoValidator")},
refresh:function(){var e,m,d=this.options.fields||[],j=this.options.clearContainer?this.element.empty():this.element,k=this.options.model||{},p={},n,a,c;b.isArray(d)||(d=[d]);e=0;for(m=d.length;e<m;e++)n=d[e],a=(a=h(n))?n.field:n,c=(k.fields||k)[a],r(c,p),this.editor(n,c);if(!m)for(a in e=k.fields||k,e)r(e[a],p);j.find(":input:not(:button, ["+z.attr("role")+"=upload], ["+z.attr("skip")+"], [type=file]), select").each(function(){var a=z.attr("bind"),c=this.getAttribute(a)||"",d="checkbox"===this.type||
"radio"===this.type?"checked:":"value:",g=this.name;-1===c.indexOf(d)&&g&&(c+=(c.length?",":"")+d+g,b(this).attr(a,c))});z.bind(j,this.options.model);this.options.model.bind("set",this._validateProxy);this.validatable=j.kendoValidator({validateOnBlur:!1,errorTemplate:this.options.errorTemplate||w,rules:p}).data("kendoValidator");j.find(":focusable:first").focus()}});E.plugin(D)})(window.kendo.jQuery);
(function(b){function w(e,h){e.filters&&(e.filters=b.grep(e.filters,function(b){w(b,h);return b.filters?b.filters.length:b.field!=h}))}function u(b){var h,n,p,r,s;if(b&&b.length){s=[];h=0;for(n=b.length;h<n;h++)p=b[h],r=p.text||p.value||p,p=null==p.value?p.text||p:p.value,s[h]={text:r,value:p}}return s}var y=window.kendo,n=y.ui,r=b.proxy,z={number:"numerictextbox",date:"datepicker"},E=b.isFunction,C=n.Widget,s=C.extend({init:function(e,h){var n="string",p;C.fn.init.call(this,e,h);this.operators=h.operators||
{};e=this.element;h=this.options;h.appendToElement||(p=e.addClass("k-filterable").find(".k-grid-filter"),p[0]||(p=e.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),p.attr("tabindex",-1).on("click.kendoFilterMenu",r(this._click,this)));this.link=p||b();this.dataSource=h.dataSource;this.field=h.field||e.attr(y.attr("field"));this.model=this.dataSource.reader.model;this._parse=function(b){return b+""};if(this.model&&this.model.fields&&(p=this.model.fields[this.field]))n=
p.type||"string",p.parse&&(this._parse=r(p.parse,p));h.values&&(n="enums");this.type=n;h.appendToElement&&this._init()},_init:function(){var e=this,h=e.options,n=e.operators||{},p,s=h.ui,w=E(s),q,m=e.type;e._refreshHandler=r(e.refresh,e);e.dataSource.bind("change",e._refreshHandler);n=n[m]||h.operators[m];for(p in n)break;e._defaultFilter=function(){return{field:e.field,operator:p||"eq",value:""}};w||(q=s||z[m]);e.form=b('<form class="k-filter-menu"/>').html(y.template("boolean"===m?'<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>':
'<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>')({field:e.field,
format:h.format,ns:y.ns,messages:h.messages,extra:h.extra,operators:n,type:m,role:q,values:u(h.values)})).on("keydown.kendoFilterMenu",r(e._keydown,e)).on("submit.kendoFilterMenu",r(e._submit,e)).on("reset.kendoFilterMenu",r(e._reset,e));h.appendToElement?(e.element.append(e.form),e.popup=e.element.closest(".k-popup").data("kendoPopup")):e.popup=e.form.kendoPopup({anchor:e.link,open:r(e._open,e),activate:r(e._activate,e),close:e.options.closeCallback}).data("kendoPopup");w&&e.form.find(".k-textbox").removeClass("k-textbox").each(function(){s(b(this))});
e.form.find("["+y.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+y.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+y.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+y.attr("role")+"=datepicker]").removeClass("k-textbox");e.refresh();e.trigger("init",{field:e.field,container:e.form})},refresh:function(){var b=this.dataSource.filter()||{filters:[],logic:"and"};this.filterModel=y.observable({logic:"and",filters:[this._defaultFilter(),
this._defaultFilter()]});y.bind(this.form.children().first(),this.filterModel);this._bind(b)?this.link.addClass("k-state-active"):this.link.removeClass("k-state-active")},destroy:function(){C.fn.destroy.call(this);this.form&&(y.unbind(this.form),y.destroy(this.form),this.form.unbind(".kendoFilterMenu"),this.popup.destroy());this.link.unbind(".kendoFilterMenu");this.dataSource.unbind("change",this._refreshHandler)},_bind:function(b){var h=b.filters,n,p,r=!1,s=0,q=this.filterModel,m;n=0;for(p=h.length;n<
p;n++)m=h[n],m.field==this.field?(q.set("logic",b.logic),r=q.filters[s],r||(q.filters.push({field:this.field}),r=q.filters[s]),r.set("value",this._parse(m.value)),r.set("operator",m.operator),s++,r=!0):m.filters&&(r=r||this._bind(m));return r},_merge:function(e){var h=e.logic||"and",n=e.filters,p,r=this.dataSource.filter()||{filters:[],logic:"and"},s,q;w(r,this.field);n=b.grep(n,function(b){return""!==b.value});s=0;for(q=n.length;s<q;s++)p=n[s],p.value=this._parse(p.value);n.length&&(r.filters.length?
(e.filters=n,"and"!==r.logic&&(r.filters=[{logic:r.logic,filters:r.filters}],r.logic="and"),1<n.length?r.filters.push(e):r.filters.push(n[0])):(r.filters=n,r.logic=h));return r},filter:function(b){b=this._merge(b);b.filters.length&&this.dataSource.filter(b)},clear:function(){var e=this,h=e.dataSource.filter()||{filters:[]};h.filters=b.grep(h.filters,function(h){return h.filters?(h.filters=b.grep(h.filters,function(b){return b.field!=e.field}),h.filters.length):h.field!=e.field});h.filters.length||
(h=null);e.dataSource.filter(h)},_submit:function(b){b.preventDefault();this.filter(this.filterModel.toJSON());this.popup.close()},_reset:function(){this.clear();this.popup.close()},_click:function(b){b.preventDefault();b.stopPropagation();this.popup||this._init();this.popup.toggle()},_open:function(){var e;b(".k-filter-menu").not(this.form).each(function(){(e=b(this).data("kendoPopup"))&&e.close()})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(b){b.keyCode==
y.keys.ESC&&this.popup.close()},events:["init"],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:"Is equal to",neq:"Is not equal to",startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:"Is equal to",neq:"Is not equal to",gte:"Is after or equal to",gt:"Is after",
lte:"Is before or equal to",lt:"Is before"},enums:{eq:"Is equal to",neq:"Is not equal to"}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});n.plugin(s)})(window.kendo.jQuery);
(function(b,w){function u(d){d=b(d);d.children(t).children(".k-icon").remove();d.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var d=b(this),e=d.parent();d.append("<span class='k-icon "+(e.hasClass(v)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function y(d){d=b(d);d.filter(".k-first:not(:first-child)").removeClass(p);d.filter(".k-last:not(:last-child)").removeClass(h);d.filter(":first-child").addClass(p);
d.filter(":last-child").addClass(h)}var n=window.kendo,r=n.keys,z=b.extend,E=b.each,C=n.template,s=n.ui.Widget,e=/^(ul|a|div)$/i,h="k-last",t=".k-link",p="k-first",v="k-state-active",D={content:C("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:C("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:C("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),
item:C("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:C("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:C("<span class='#= arrowClass(item) #'></span>"),sprite:C("<span class='k-sprite #= spriteCssClass #'></span>"),empty:C("")},q={aria:function(b){var j=
"";if(b.items||b.content||b.contentUrl)j+="aria-expanded='"+(b.expanded?"true":"false")+"' ";!1===b.enabled&&(j+="aria-disabled='true'");return j},wrapperCssClass:function(b,j){var e="k-item",h=j.index,e=!1===j.enabled?e+" k-state-disabled":!0===j.expanded?e+(" "+v):e+" k-state-default";0===h&&(e+=" k-first");h==b.length-1&&(e+=" k-last");j.cssClass&&(e+=" "+j.cssClass);return e},textClass:function(b,j){var e="k-link";j.firstLevel&&(e+=" k-header");return e},textAttributes:function(b){return b.url?
" href='"+b.url+"'":""},arrowClass:function(b){return b="k-icon"+(b.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand")},text:function(b){return!1===b.encoded?b.text:n.htmlEncode(b.text)},tag:function(b){return b.url?"a":"span"},groupAttributes:function(b){return!0!==b.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(b){return!0!==b.item.expanded?" style='display:none'":""},content:function(b){return b.content?
b.content:b.contentUrl?"":"&nbsp;"},contentUrl:function(b){return b.contentUrl?n.attr("content-url")+'="'+b.contentUrl+'"':""}},m=s.extend({init:function(d,j){var e=this,h;s.fn.init.call(e,d,j);d=e.wrapper=e.element.addClass("k-widget k-reset k-header k-panelbar");j=e.options;d[0].id&&(e._itemId=d[0].id+"_pb_active");e._tabindex();e._initData(j);e._updateClasses();e._animations(j);d.on("click.kendoPanelBar",".k-item:not(.k-state-disabled) > .k-link",function(d){e._click(b(d.currentTarget))&&d.preventDefault()}).on("mouseenter.kendoPanelBar mouseleave.kendoPanelBar",
".k-item:not(.k-state-disabled) > .k-link",e._toggleHover).on("click.kendoPanelBar",".k-item.k-state-disabled > .k-link",!1).on("keydown.kendoPanelBar",b.proxy(e._keydown,e)).on("focus.kendoPanelBar",function(){var b=e.select();e._current(b[0]?b:e._first())}).on("blur.kendoPanelBar",function(){e._current(null)}).attr("role","menu");h=d.find("li."+v+" > .k-content");h[0]&&e.expand(h.parent(),!1);n.notify(e)},events:"expand collapse select activate error contentLoad".split(" "),options:{name:"PanelBar",
animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){s.fn.destroy.call(this);this.element.off(".kendoPanelBar");n.destroy(this.element)},_initData:function(b){b.dataSource&&(this.element.empty(),this.append(b.dataSource,this.element))},setOptions:function(b){var e=this.options.animation;this._animations(b);b.animation=z(!0,e,b.animation);"dataSource"in b&&this._initData(b);s.fn.setOptions.call(this,b)},expand:function(d,e){var h=
this,m={};e=!1!==e;d=this.element.find(d);d.each(function(n,a){a=b(a);var c=a.find("> .k-panel").add(a.find("> .k-content"));if(!a.hasClass("k-state-disabled")&&0<c.length){if("single"==h.options.expandMode&&h._collapseAllExpanded(a))return h;d.find(".k-state-highlighted").removeClass("k-state-highlighted");a.addClass("k-state-highlighted");e||(m=h.options.animation,h.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}});h._triggerEvent("expand",a)||h._toggleItem(a,!1);e||(h.options.animation=
m)}});return h},collapse:function(d,e){var h=this,m={};e=!1!==e;d=h.element.find(d);d.each(function(d,a){a=b(a);var c=a.find("> .k-panel").add(a.find("> .k-content"));!a.hasClass("k-state-disabled")&&c.is(":visible")&&(a.removeClass("k-state-highlighted"),e||(m=h.options.animation,h.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),h._triggerEvent("collapse",a)||h._toggleItem(a,!0),e||(h.options.animation=m))});return h},_toggleDisabled:function(b,e){b=this.element.find(b);b.toggleClass("k-state-default",
e).toggleClass("k-state-disabled",!e).attr("aria-disabled",!e)},select:function(d){var e=this;if(d===w)return e.element.find("> li > .k-state-selected, .k-panel > li > .k-state-selected").parent();e.element.find(d).each(function(){var d=b(this),h=d.children(t);if(d.hasClass("k-state-disabled"))return e;e._updateSelected(h)});return e},enable:function(b,e){this._toggleDisabled(b,!1!==e);return this},disable:function(b){this._toggleDisabled(b,!1);return this},append:function(b,e){e=this.element.find(e);
var h=this._insert(b,e,e.length?e.find("> .k-panel"):null);E(h.items,function(){h.group.append(this);y(this)});u(e);y(h.group.find(".k-first, .k-last"));h.group.height("auto");return this},insertBefore:function(b,e){e=this.element.find(e);var h=this._insert(b,e,e.parent());E(h.items,function(){e.before(this);y(this)});y(e);h.group.height("auto");return this},insertAfter:function(b,e){e=this.element.find(e);var h=this._insert(b,e,e.parent());E(h.items,function(){e.after(this);y(this)});y(e);h.group.height("auto");
return this},remove:function(b){b=this.element.find(b);var e=b.parentsUntil(this.element,".k-item"),h=b.parent("ul");b.remove();h&&(!h.hasClass("k-panelbar")&&!h.children(".k-item").length)&&h.remove();e.length&&(e=e.eq(0),u(e),y(e));return this},reload:function(d){var e=this;d=e.element.find(d);d.each(function(){var d=b(this);e._ajaxRequest(d,d.children(".k-content"),!d.is(":visible"))})},_first:function(){return this.element.children(".k-item:not(.k-state-disabled)").first()},_last:function(){var b=
this.element.children(".k-item:not(.k-state-disabled)").last(),e=b.children(".k-group:visible");return e[0]?e.children(".k-item:not(.k-state-disabled)").last():b},_current:function(b){var e=this._focused,h=this._itemId;if(b===w)return e;this.element.removeAttr("aria-activedescendant");e&&(e[0].id===h&&e.removeAttr("id"),e.children(t).removeClass("k-state-focused"));b&&(h=b[0].id||h,b.attr("id",h).children(t).addClass("k-state-focused"),this.element.attr("aria-activedescendant",h));this._focused=b},
_keydown:function(b){var e=b.keyCode,h=this._current();b.target==b.currentTarget&&(e==r.DOWN||e==r.RIGHT?(this._current(this._nextItem(h)),b.preventDefault()):e==r.UP||e==r.LEFT?(this._current(this._prevItem(h)),b.preventDefault()):e==r.ENTER||e==r.SPACEBAR?(this._click(h.children(t)),b.preventDefault()):e==r.HOME?(this._current(this._first()),b.preventDefault()):e==r.END&&(this._current(this._last()),b.preventDefault()))},_nextItem:function(b){if(!b)return this._first();var e=b.children(".k-group:visible"),
h=b.next();e[0]&&(h=e.children("."+p));h[0]||(h=b.parent(".k-group:visible").parent(".k-item").next());if(!h[0]||!h.is(":visible"))h=this._first();h.hasClass("k-state-disabled")&&(h=this._nextItem(h));return h},_prevItem:function(b){if(!b)return this._last();var e=b.prev();if(e[0])for(b=e;b[0];)b=b.children(".k-group:visible").children("."+h),b[0]&&(e=b);else e=b.parent(".k-group:visible").parent(".k-item"),e[0]||(e=this._last());e.hasClass("k-state-disabled")&&(e=this._prevItem(e));return e},_insert:function(d,
e,h){var n=b.isPlainObject(d),p=e&&e[0],a;p||(h=this.element);a={firstLevel:h.hasClass("k-panelbar"),expanded:h.parent().hasClass(v),length:h.children().length};p&&!h.length&&(h=b(m.renderGroup({group:a})).appendTo(e));n||b.isArray(d)?(d=b.map(n?[d]:d,function(c,d){return"string"===typeof c?b(c):b(m.renderItem({group:a,item:z(c,{index:d})}))}),p&&e.attr("aria-expanded",!1)):(d=b(d),this._updateItemsClasses(d));return{items:d,group:h}},_toggleHover:function(d){var e=b(d.currentTarget);e.parents("li.k-state-disabled").length||
e.toggleClass("k-state-hover","mouseenter"==d.type)},_updateClasses:function(){var d;d=this.element.find("li > ul").not(function(){return b(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");d.parent().attr("aria-expanded",!1).not("."+v).children("ul").attr("aria-hidden",!0).hide();d=this.element.add(d).children();this._updateItemsClasses(d);u(d);y(d)},_updateItemsClasses:function(b){for(var e=b.length,h=0;h<e;h++)this._updateItemClasses(b[h],h)},_updateItemClasses:function(d,
j){var h=this._selected,m=this.options.contentUrls,n=m&&m[j],a=this.element[0],c;d=b(d).addClass("k-item").attr("role","menuitem");d.children("img").addClass("k-image");c=d.children("a").addClass("k-link");c[0]&&(c.attr("href",n),c.children("img").addClass("k-image"));d.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");d.filter("li[disabled]").addClass("k-state-disabled").attr("aria-disabled",!0).removeAttr("disabled");d.children("div").addClass("k-content").attr("role",
"region").attr("aria-hidden",!0).hide().parent().attr("aria-expanded",!1);c=d.children(".k-state-selected");c[0]&&(h&&h.removeAttr("aria-selected").children(".k-state-selected").removeClass("k-state-selected"),c.addClass("k-state-selected"),this._selected=d.attr("aria-selected",!0));d.children(t)[0]||(h="<span class='k-link'/>",m&&(m[j]&&d[0].parentNode==a)&&(h='<a class="k-link k-header" href="'+m[j]+'"/>'),d.contents().filter(function(){return!this.nodeName.match(e)&&!(3==this.nodeType&&!b.trim(this.nodeValue))}).wrapAll(h));
d.parent(".k-panelbar")[0]&&d.children(t).addClass("k-header")},_click:function(b){var e=this.element,h;if(!b.parents("li.k-state-disabled").length&&b.closest(".k-widget")[0]==e[0]){h=b.closest(t);b=h.closest(".k-item");this._updateSelected(h);e=b.find("> .k-panel").add(b.find("> .k-content"));h=(h=h.attr("href"))&&("#"==h.charAt(h.length-1)||-1!=h.indexOf("#"+this.element[0].id+"-"));h=!(!h&&!e.length);if(e.data("animating"))return h;this._triggerEvent("select",b)&&(h=!0);if(!1!==h){if("single"==
this.options.expandMode&&this._collapseAllExpanded(b))return h;if(e.length&&(e=e.is(":visible"),!this._triggerEvent(!e?"expand":"collapse",b)))h=this._toggleItem(b,e);return h}}},_toggleItem:function(b,e){var h=b.find("> .k-panel"),m;h.length?(this._toggleGroup(h,e),m=!0):(h=b.children(".k-content"),h.length&&(m=!0,h.is(":empty")?this._ajaxRequest(b,h,e):this._toggleGroup(h,e)));return m},_toggleGroup:function(b,e){var h=this,m=h.options.animation,n=m.expand,a=(m=z({},m.collapse))&&"effects"in m;
b.is(":visible")==e&&(b.parent().attr("aria-expanded",!e).attr("aria-hidden",e).toggleClass("k-state-default",e).toggleClass(v,!e).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!e).toggleClass("k-panelbar-collapse",!e).toggleClass("k-i-arrow-s",e).toggleClass("k-panelbar-expand",e),n=e?z(a?m:z({reverse:!0},n),{hide:!0}):z({complete:function(a){h._triggerEvent("activate",a.closest(".k-item"))}},n),b.kendoStop(!0,!0).kendoAnimate(n))},_collapseAllExpanded:function(d){var e=this,h=!1;if(d.children(t).hasClass("k-header"))return d=
d.find("> .k-panel").add(d.find("> .k-content")),d.is(":visible")&&(h=!0),d.is(":visible")||0===d.length||(d=b(e.element).children(),d.find("> .k-panel").add(d.find("> .k-content")).filter(function(){return b(this).is(":visible")}).each(function(d,m){m=b(m);(h=e._triggerEvent("collapse",m.closest(".k-item")))||e._toggleGroup(m,!0)})),h},_ajaxRequest:function(d,e,h){var m=this,n=d.find(".k-panelbar-collapse, .k-panelbar-expand"),a=d.find(t),c=setTimeout(function(){n.addClass("k-loading")},100),l=a.attr("href");
b.ajax({type:"GET",cache:!1,url:l,dataType:"html",data:{},error:function(a,b){n.removeClass("k-loading");m.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(c);n.removeClass("k-loading")},success:function(a){try{e.html(a)}catch(b){(a=window.console)&&a.error&&a.error(b.name+": "+b.message+" in "+l),this.error(this.xhr,"error")}m._toggleGroup(e,h);m.trigger("contentLoad",{item:d[0],contentElement:e[0]})}})},_triggerEvent:function(b,e){return this.trigger(b,{item:e[0]})},
_updateSelected:function(b){var e=this.element,h=b.parent(".k-item"),m=this._selected;m&&m.removeAttr("aria-selected");this._selected=h.attr("aria-selected",!0);e.find("> li > .k-state-selected, .k-panel > li > .k-state-selected").removeClass("k-state-selected");e.find("> .k-state-highlighted, .k-panel > .k-state-highlighted").removeClass("k-state-highlighted");b.addClass("k-state-selected");b.parentsUntil(e,".k-item").filter(":has(.k-header)").addClass("k-state-highlighted");this._current(h)},_animations:function(b){b&&
("animation"in b&&!b.animation)&&(b.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});z(m,{renderItem:function(b){b=z({panelBar:{},group:{}},b);var e=D.empty,h=b.item;return D.item(z(b,{image:h.imageUrl?D.image:e,sprite:h.spriteCssClass?D.sprite:e,itemWrapper:D.itemWrapper,renderContent:m.renderContent,arrow:h.items||h.content||h.contentUrl?D.arrow:e,subGroup:m.renderGroup},q))},renderGroup:function(b){return D.group(z({renderItems:function(b){for(var d="",e=0,h=b.items,a=h?h.length:
0,c=z({length:a},b.group);e<a;e++)d+=m.renderItem(z(b,{group:c,item:z({index:e},h[e])}));return d}},b,q))},renderContent:function(b){return D.content(z(b,q))}});n.ui.plugin(m)})(window.kendo.jQuery);
(function(b,w){function u(a){a.children(p).addClass(q);a.children("a").addClass(v).children(p).addClass(q);a.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(j);a.filter("li[disabled]").addClass(d).removeAttr("disabled");a.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(k+" "+x);a.attr("role","tab");a.filter("."+k).attr("aria-selected",!0);a.each(function(){var a=b(this);a.children("."+v).length||a.contents().filter(function(){return!this.nodeName.match(t)&&
!(3==this.nodeType&&!C(this.nodeValue))}).wrapAll("<a class='"+v+"'/>")})}function y(a){a=a.children(".k-item");a.filter(".k-first:not(:first-child)").removeClass(m);a.filter(".k-last:not(:last-child)").removeClass(D);a.filter(":first-child").addClass(m);a.filter(":last-child").addClass(D)}var n=window.kendo,r=n.keys,z=b.map,E=b.each,C=b.trim,s=b.extend,e=n.template,h=n.ui.Widget,t=/^(a|div)$/i,p="img",v="k-link",D="k-last",q="k-image",m="k-first",d="k-state-disabled",j="k-state-default",k="k-state-active",
x="k-tab-on-top",A=".k-item:not(."+d+")",a=".k-tabstrip-items > "+A+":not(."+k+")",c={content:e("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:e("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:e("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:e("<img class='k-image' alt='' src='#= imageUrl #' />"),
sprite:e("<span class='k-sprite #= spriteCssClass #'></span>"),empty:e("")},l={wrapperCssClass:function(a,b){var c="k-item",d=b.index,c=!1===b.enabled?c+" k-state-disabled":c+" k-state-default";0===d&&(c+=" k-first");d==a.length-1&&(c+=" k-last");return c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return!1===a.encoded?a.text:n.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return!0!==a.active?" style='display:none' aria-hidden='true' aria-expanded='false'":
""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?n.attr("content-url")+'="'+a.contentUrl+'"':""}},B=h.extend({init:function(c,d){var e=this;h.fn.init.call(e,c,d);e._animations(e.options);e.wrapper=e.element.is("ul")?e.element.wrapAll("<div />").parent():e.element;d=e.options;e._isRtl=n.support.isRtl(e.wrapper);e._tabindex();e._updateClasses();e._dataSource();d.dataSource&&e.dataSource.fetch();e.options.contentUrls&&e.wrapper.find(".k-tabstrip-items > .k-item").each(function(a,
c){b(c).find(">."+v).data("contentUrl",e.options.contentUrls[a])});e.wrapper.on("mouseenter.kendoTabStrip mouseleave.kendoTabStrip",a,e._toggleHover).on("keydown.kendoTabStrip",b.proxy(e._keydown,e)).on("focus.kendoTabStrip",b.proxy(e._active,e)).on("blur.kendoTabStrip",function(){e._current(null)});e.wrapper.children(".k-tabstrip-items").on("click.kendoTabStrip",".k-state-disabled .k-link",!1).on("click.kendoTabStrip"," > "+A,function(a){e._click(b(a.currentTarget))&&a.preventDefault()});var j=e.tabGroup.children("li."+
k),l=e.contentHolder(j.index());0<l.length&&0===l[0].childNodes.length&&e.activateTab(j.eq(0));e.element.attr("role","tablist");e.element[0].id&&(e._ariaId=e.element[0].id+"_ts_active");n.notify(e)},_active:function(){var a=this.tabGroup.children().filter("."+k),a=a[0]?a:this._endItem("first");a[0]&&this._current(a)},_endItem:function(a){return this.tabGroup.children(A)[a]()},_item:function(a,b){var c;c="prev"===b?"last":"first";if(!a)return this._endItem(c);a=a[b]();a[0]||(a=this._endItem(c));a.hasClass(d)&&
(a=this._item(a,b));return a},_current:function(a){var b=this._focused,c=this._ariaId;if(a===w)return b;b&&(b[0].id===c&&b.removeAttr("id"),b.removeClass("k-state-focused"));if(a&&(a.hasClass(k)||a.addClass("k-state-focused"),this.element.removeAttr("aria-activedescendant"),c=a[0].id||c))a.attr("id",c),this.element.attr("aria-activedescendant",c);this._focused=a},_keydown:function(a){var b=a.keyCode,c=this._current(),d=this._isRtl,e;if(a.target==a.currentTarget){if(b==r.DOWN||b==r.RIGHT)e=d?"prev":
"next";else if(b==r.UP||b==r.LEFT)e=d?"next":"prev";else if(b==r.ENTER||b==r.SPACEBAR)this._click(c),a.preventDefault();else{if(b==r.HOME){this._click(this._endItem("first"));a.preventDefault();return}if(b==r.END){this._click(this._endItem("last"));a.preventDefault();return}}e&&(this._click(this._item(c,e)),a.preventDefault())}},_dataSource:function(){this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler):this._refreshHandler=b.proxy(this.refresh,this);this.dataSource=
n.data.DataSource.create(this.options.dataSource).bind("change",this._refreshHandler)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();a.fetch()},_animations:function(a){a&&("animation"in a&&!a.animation)&&(a.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(a){var b=this.options,c=n.getter(b.dataTextField),d=n.getter(b.dataContentField),e=n.getter(b.dataContentUrlField),h=n.getter(b.dataImageUrlField),j=n.getter(b.dataUrlField),l=n.getter(b.dataSpriteCssClass),
k,m=[],p,q=this.dataSource.view(),B;a=a||{};a.action&&(q=a.items);k=0;for(B=q.length;k<B;k++)p={text:c(q[k])},b.dataContentField&&(p.content=d(q[k])),b.dataContentUrlField&&(p.contentUrl=e(q[k])),b.dataUrlField&&(p.url=j(q[k])),b.dataImageUrlField&&(p.imageUrl=h(q[k])),b.dataSpriteCssClass&&(p.spriteCssClass=l(q[k])),m[k]=p;if("add"==a.action)a.index<this.tabGroup.children().length?this.insertBefore(m,this.tabGroup.children().eq(a.index)):this.append(m);else if("remove"==a.action)for(k=0;k<q.length;k++)this.remove(a.index);
else"itemchange"==a.action?(k=this.dataSource.view().indexOf(q[0]),a.field===b.dataTextField&&this.tabGroup.children().eq(k).find(".k-link").text(q[0].get(a.field))):(this.trigger("dataBinding"),this.remove("li"),this.append(m),this.trigger("dataBound"))},value:function(a){var c=this;if(a!==w)a!=c.value()&&c.tabGroup.children().each(function(){b.trim(b(this).text())==a&&c.select(this)});else return c.select().text()},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=
this.options.animation;this._animations(a);a.animation=s(!0,b,a.animation);h.fn.setOptions.call(this,a)},events:"select activate error contentLoad change dataBinding dataBound".split(" "),options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){h.fn.destroy.call(this);this._refreshHandler&&this.dataSource.unbind("change",
this._refreshHandler);this.wrapper.off(".kendoTabStrip");n.destroy(this.wrapper)},select:function(a){var c=this;if(0===arguments.length)return c.tabGroup.children("li."+k);isNaN(a)||(a=c.tabGroup.children().get(a));a=c.tabGroup.find(a);b(a).each(function(a,d){d=b(d);!d.hasClass(k)&&!c.trigger("select",{item:d[0],contentElement:c.contentHolder(d.index())[0]})&&c.activateTab(d)});return c},enable:function(a,b){this._toggleDisabled(a,!1!==b);return this},disable:function(a){this._toggleDisabled(a,!1);
return this},reload:function(a){a=this.tabGroup.find(a);var c=this;a.each(function(){var a=b(this),d=a.find("."+v).data("contentUrl"),f=c.contentHolder(a.index());d&&c.ajaxRequest(a,f,null,d)});return c},append:function(a){var b=this,c=b._create(a);E(c.tabs,function(a){b.tabGroup.append(this);b.wrapper.append(c.contents[a])});y(b.tabGroup);b._updateContentElements();return b},insertBefore:function(a,c){var d=this._create(a),e=b(this.contentElement(c.index()));E(d.tabs,function(a){c.before(this);e.before(d.contents[a])});
y(this.tabGroup);this._updateContentElements();return this},insertAfter:function(a,c){var d=this._create(a),e=b(this.contentElement(c.index()));E(d.tabs,function(a){c.after(this);e.after(d.contents[a])});y(this.tabGroup);this._updateContentElements();return this},remove:function(a){var c=this,d=typeof a,e=b();"string"===d?a=c.tabGroup.find(a):"number"===d&&(a=c.tabGroup.children().eq(a));a.each(function(){e.push(c.contentElement(b(this).index()))});a.remove();e.remove();c._updateContentElements();
return c},_create:function(a){var c=this,d;b.isPlainObject(a)||b.isArray(a)?(a=b.isArray(a)?a:[a],d=z(a,function(a,d){return b(B.renderItem({group:c.tabGroup,item:s(a,{index:d})}))}),a=z(a,function(a,c){if(a.content||a.contentUrl)return b(B.renderContent({item:s(a,{index:c})}))})):(d=b(a),a=b("<div class='k-content'/>"),u(d));return{tabs:d,contents:a}},_toggleDisabled:function(a,c){a=this.tabGroup.find(a);a.each(function(){b(this).toggleClass(j,c).toggleClass(d,!c)})},_updateClasses:function(){var a,
c,d;this.wrapper.addClass("k-widget k-header k-tabstrip");this.tabGroup=this.wrapper.children("ul").addClass("k-tabstrip-items k-reset");this.tabGroup[0]||(this.tabGroup=b("<ul class='k-tabstrip-items k-reset'/>").appendTo(this.wrapper));a=this.tabGroup.find("li").addClass("k-item");a.length&&(c=a.filter("."+k).index(),d=0<=c?c:w,this.tabGroup.contents().filter(function(){return 3==this.nodeType&&!C(this.nodeValue)}).remove());0<=c&&a.eq(c).addClass(x);this.contentElements=this.wrapper.children("div");
this.contentElements.addClass("k-content").eq(d).addClass(k).css({display:"block"});a.length&&(u(a),y(this.tabGroup),this._updateContentElements())},_updateContentElements:function(){var a=this,c=a.options.contentUrls||[],d=a.element.attr("id"),e=a.wrapper.children("div");a.tabGroup.find(".k-item").each(function(h){var j=e.eq(h),l=d+"-"+(h+1);this.setAttribute("aria-controls",l);!j.length&&c[h]?b("<div id='"+l+"' class='k-content'/>").appendTo(a.wrapper):j.attr("id",l);j.attr("role","tabpanel");j.filter(":not(."+
k+")").attr("aria-hidden",!0).attr("aria-expanded",!1);j.filter("."+k).attr("aria-expanded",!0)});a.contentElements=a.contentAnimators=a.wrapper.children("div");n.kineticScrollNeeded&&n.mobile.ui.Scroller&&(n.touchScroller(a.contentElements),a.contentElements=a.contentElements.children(".km-scroll-container"))},_toggleHover:function(a){b(a.currentTarget).toggleClass("k-state-hover","mouseenter"==a.type)},_click:function(a){var b=a.find("."+v),c=b.attr("href"),e=this.options.collapsible,h=this.contentHolder(a.index());
if(a.closest(".k-widget")[0]==this.wrapper[0]){if(a.is("."+d+(!e?",."+k:"")))return!0;b=b.data("contentUrl")||c&&("#"==c.charAt(c.length-1)||-1!=c.indexOf("#"+this.element[0].id+"-"));c=!c||b;if(this.tabGroup.children("[data-animating]").length)return c;if(this.trigger("select",{item:a[0],contentElement:h[0]}))return!0;if(!1!==c){if(e&&a.is("."+k))return this.deactivateTab(a),!0;this.activateTab(a)&&(c=!0);return c}}},deactivateTab:function(a){var b=this.options.animation,c=b.open,d=(b=s({},b.close))&&
"effects"in b;a=this.tabGroup.find(a);b=s(d?b:s({reverse:!0},c),{hide:!0});n.size(c.effects)?(a.kendoAddClass(j,{duration:c.duration}),a.kendoRemoveClass(k,{duration:c.duration})):(a.addClass(j),a.removeClass(k));a.removeAttr("aria-selected");this.contentAnimators.filter("."+k).kendoStop(!0,!0).kendoAnimate(b).removeClass(k).attr("aria-hidden",!0)},activateTab:function(a){a=this.tabGroup.find(a);var b=this,c=b.options.animation,d=c.open,e=(c=s({},c.close))&&"effects"in c,h=a.parent().children(),l=
h.filter("."+k),h=h.index(a),c=s(e?c:s({reverse:!0},d),{hide:!0});n.size(d.effects)?(l.kendoRemoveClass(k,{duration:c.duration}),a.kendoRemoveClass("k-state-hover",{duration:c.duration})):(l.removeClass(k),a.removeClass("k-state-hover"));e=b.contentAnimators;a.data("in-request")&&(b.xhr.abort(),a.removeAttr("data-in-request"));if(0===e.length)return l.removeClass(x),a.addClass(x).css("z-index"),a.addClass(k),b._current(a),b.trigger("change"),!1;var e=e.filter("."+k),m=b.contentHolder(h),p=m.closest(".k-content");
if(0===m.length)return e.removeClass(k).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(c),!1;a.attr("data-animating",!0);var q=(a.children("."+v).data("contentUrl")||!1)&&m.is(":empty"),B=function(){l.removeClass(x);a.addClass(x).css("z-index");n.size(d.effects)?(l.kendoAddClass(j,{duration:d.duration}),a.kendoAddClass(k,{duration:d.duration})):(l.addClass(j),a.addClass(k));l.removeAttr("aria-selected");a.attr("aria-selected",!0);b._current(a);p.addClass(k).removeAttr("aria-hidden").kendoStop(!0,
!0).attr("aria-expanded",!0).kendoAnimate(s({init:function(){b.trigger("activate",{item:a[0],contentElement:m[0]})}},d,{complete:function(){a.removeAttr("data-animating")}}))},h=function(){q?(a.removeAttr("data-animating"),b.ajaxRequest(a,m,function(){a.attr("data-animating",!0);B();b.trigger("change")})):(B(),b.trigger("change"))};e.removeClass(k);e.attr("aria-hidden",!0);e.attr("aria-expanded",!1);e.length?e.kendoStop(!0,!0).kendoAnimate(s({complete:h},c)):h();return!0},contentElement:function(a){if(isNaN(a-
0))return w;var b=this.contentElements&&this.contentElements[0]&&!n.kineticScrollNeeded?this.contentElements:this.contentAnimators;a=RegExp("-"+(a+1)+"$");if(b)for(var c=0,d=b.length;c<d;c++)if(a.test(b.closest(".k-content")[c].id))return b[c];return w},contentHolder:function(a){a=b(this.contentElement(a));var c=a.children(".km-scroll-container");return n.support.touch&&c[0]?c:a},ajaxRequest:function(a,c,d,e){a=this.tabGroup.find(a);if(!a.find(".k-loading").length){var h=this,j=a.find("."+v),l=null,
k=setTimeout(function(){l=b("<span class='k-icon k-loading'/>").prependTo(j)},100);e=e||j.data("contentUrl")||j.attr("href");a.attr("data-in-request",!0);h.xhr=b.ajax({type:"GET",cache:!1,url:e,dataType:"html",data:{},error:function(a,b){h.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){a.removeAttr("data-in-request");clearTimeout(k);null!==l&&l.remove()},success:function(b){try{c.html(b)}catch(j){(b=window.console)&&b.error&&b.error(j.name+": "+j.message+" in "+e),this.error(this.xhr,
"error")}d&&d.call(h,c);h.trigger("contentLoad",{item:a[0],contentElement:c[0]})}})}}});s(B,{renderItem:function(a){a=s({tabStrip:{},group:{}},a);var b=c.empty,d=a.item;return c.item(s(a,{image:d.imageUrl?c.image:b,sprite:d.spriteCssClass?c.sprite:b,itemWrapper:c.itemWrapper},l))},renderContent:function(a){return c.content(s(a,l))}});n.ui.plugin(B)})(window.kendo.jQuery);
(function(b,w){function u(a){return 60*a.getHours()*v+a.getMinutes()*v+1E3*a.getSeconds()+a.getMilliseconds()}function y(a,b,d){b=u(b);d=u(d);if(!a||b==d)return!0;a=u(a);b>a&&(a+=D);d<b&&(d+=D);return a>=b&&a<=d}function n(a){var b=a.parseFormats;a.format=s(a.format||z.getCulture(a.culture).calendars.standard.patterns.t);b=q(b)?b:[b];b.splice(0,0,a.format);a.parseFormats=b}function r(a){a.preventDefault()}var z=window.kendo,E=z.keys,C=z._activeElement,s=z._extractFormat,e=z.support,h=e.browser,t=
z.ui,p=t.Widget,v=6E4,D=864E5,q=b.isArray,m=b.extend,d=b.proxy,j=Date,k=new j,k=new j(k.getFullYear(),k.getMonth(),k.getDate(),0,0,0),x=function(a){var c=a.id;this.options=a;this.ul=b('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:e.kineticScrollNeeded?"":"auto"}).on("click.kendoTimePicker","li",d(this._click,this)).on("mouseenter.kendoTimePicker","li",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoTimePicker","li",
function(){b(this).removeClass("k-state-hover")});this.list=b("<div class='k-list-container'/>").append(this.ul).on("mousedown.kendoTimePicker",r);c&&(this._timeViewID=c+"_timeview",this._optionID=c+"_option_selected",this.ul.attr("id",this._timeViewID));this._popup();this.template=z.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};x.prototype={current:function(a){var c=this.options.active;if(a!==w)this._current&&this._current.removeClass("k-state-selected").removeAttr("aria-selected").removeAttr("id"),
a&&(a=b(a).addClass("k-state-selected").attr("id",this._optionID).attr("aria-selected",!0),this.scroll(a[0])),this._current=a,c&&c(a);else return this._current},close:function(){this.popup.close()},destroy:function(){this.ul.off(".kendoTimePicker");this.list.off(".kendoTimePicker");this.popup.destroy()},open:function(){this.ul[0].firstChild||this.bind();this.popup.open();this._current&&this.scroll(this._current[0])},dataBind:function(a){for(var b=this.options,d=b.format,e=z.toString,f=this.template,
g=a.length,h=0,j,k="";h<g;h++)j=a[h],y(j,b.min,b.max)&&(k+=f(e(j,d,b.culture)));this._html(k,g)},refresh:function(){var a=this.options,b=a.format,d,e=new j,f=new j(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),e=new j(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);d=-1*(f.getTimezoneOffset()-e.getTimezoneOffset());var f=0>d,g=a.min,e=a.max,h=u(g),k=u(e),m=a.interval*v,n=z.toString,p=this.template,g=new j(+g),q=g.getDate(),A,r=0,s="";d=f?(D+d*v)/m:D/m;h!=k&&(h>k&&(k+=D),d=(k-h)/m+1);for(h=parseInt(d,
10);r<d;r++){if(r){A=g;var x=m,t=f,w=A.getTimezoneOffset(),y=void 0;A.setTime(A.getTime()+x);t||(y=A.getTimezoneOffset()-w,A.setTime(A.getTime()+y*v))}k&&h==r&&(A=u(g),q<g.getDate()&&(A+=D),A>k&&(g=new j(+e)));s+=p(n(g,b,a.culture))}this._html(s,d)},bind:function(){var a=this.options.dates;a&&a[0]?this.dataBind(a):this.refresh()},_html:function(a,b){this.ul[0].innerHTML=a;this._height(b);this.current(null);this.select(this._value)},scroll:function(a){if(a){var b=this.ul[0],d=a.offsetTop,e=b.scrollTop,
f=b.clientHeight;a=d+a.offsetHeight;b.scrollTop=e>d?d:a>e+f?a-f:e}},select:function(a){var c=this.options,d=this._current;a instanceof Date&&(a=z.toString(a,c.format,c.culture));"string"===typeof a&&(!d||d.text()!==a?(a=b.grep(this.ul[0].childNodes,function(b){return(b.textContent||b.innerText)==a}),a=a[0]?a:null):a=d);this.current(a)},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(a){this._value=a;this.ul[0].firstChild&&this.select(a)},_click:function(a){var c=b(a.currentTarget);
a.isDefaultPrevented()||(this.select(c),this.options.change(c.text(),!0),this.close())},_height:function(a){if(a){a=this.list;var b=a.parent(".k-animation-container"),d=this.options.height;a.add(b).show().height(this.ul[0].scrollHeight>d?d:"auto").hide()}},_parse:function(a){var b=this.options,d=this._value||k;if(a instanceof j)return a;(a=z.parseDate(a,b.parseFormats,b.culture))&&(a=new j(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return a},
_adjustListWidth:function(){var a=this.list,b=a[0].style.width,d=this.options.anchor,e;if(a.data("width")||!b){e=(b=window.getComputedStyle?window.getComputedStyle(d[0],null):0)?parseFloat(b.width):d.outerWidth();if(b&&(h.mozilla||h.msie))e+=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth);b=e-(a.outerWidth()-a.width());a.css({fontFamily:d.css("font-family"),width:b}).data("width",b)}},_popup:function(){var a=this.options;this.popup=
new t.Popup(this.list,m(a.popup,{anchor:a.anchor,open:a.open,close:a.close,animation:a.animation,isRtl:e.isRtl(a.anchor)}));z.touchScroller(this.popup.element)},move:function(a){var b=a.keyCode,d=this.ul[0],e=this._current,f=b===E.DOWN;if(b===E.UP||f)a.altKey?this.toggle(f):((e=f?e?e[0].nextSibling:d.firstChild:e?e[0].previousSibling:d.lastChild)&&this.select(e),this.options.change(this._current.text()),a.preventDefault());else if(b===E.ENTER||b===E.TAB||b===E.ESC)a.preventDefault(),e&&this.options.change(e.text(),
!0),this.close()}};x.getMilliseconds=u;z.TimeView=x;var A=p.extend({init:function(a,b){var d=this,e,f;p.fn.init.call(d,a,b);a=d.element;b=d.options;n(b);d._wrapper();d.timeView=f=new x(m({},b,{id:a.attr("id"),anchor:d.wrapper,format:b.format,change:function(b,c){c?d._change(b):a.val(b)},open:function(b){d.timeView._adjustListWidth();d.trigger("open")?b.preventDefault():(a.attr("aria-expanded",!0),e.attr("aria-hidden",!1))},close:function(b){d.trigger("close")?b.preventDefault():(a.attr("aria-expanded",
!1),e.attr("aria-hidden",!0))},active:function(b){a.removeAttr("aria-activedescendant");b&&a.attr("aria-activedescendant",f._optionID)}}));e=f.ul;d._icon();d._reset();a[0].type="text";a.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":f._timeViewID});a.is("[disabled]")?d.enable(!1):d.readonly(a.is("[readonly]"));d.value(b.value||a.val());z.notify(d)},options:{name:"TimePicker",min:k,max:k,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,
animation:{}},events:["open","close","change"],setOptions:function(a){var b=this.timeView,d=b.options;p.fn.setOptions.call(this,a);n(this.options);b.options=m(d,this.options,{active:d.active,change:d.change,close:d.close,open:d.open});b.ul[0].innerHTML=""},dataBind:function(a){q(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,e=a.disable;a=a.readonly;var h=b._arrow.off(".kendoTimePicker"),f=b.element.off(".kendoTimePicker"),g=b._inputWrapper.off(".kendoTimePicker");!a&&!e?(g.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",
b._toggleHover),f.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoTimePicker",d(b._keydown,b)).on("blur.kendoTimePicker",d(b._blur,b)).on("focus.kendoTimePicker",function(){b._inputWrapper.addClass("k-state-focused")}),h.on("click.kendoTimePicker",d(b._click,b)).on("mousedown.kendoTimePicker",r)):(g.addClass(e?"k-state-disabled":"k-state-default").removeClass(e?"k-state-default":"k-state-disabled"),f.attr("disabled",e).attr("readonly",
a).attr("aria-disabled",e).attr("aria-readonly",a))},readonly:function(a){this._editable({readonly:a===w?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a===w||a)})},destroy:function(){p.fn.destroy.call(this);this.timeView.destroy();this.element.off(".kendoTimePicker");this._arrow.off(".kendoTimePicker");this._inputWrapper.off(".kendoTimePicker");this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},
min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){if(a===w)return this._value;this._old=this._update(a);null===this._old&&this.element.val("");this._oldText=this.element.val()},_blur:function(){var a=this.element.val();this.close();a!==this._oldText&&this._change(a);this._inputWrapper.removeClass("k-state-focused")},_click:function(){var a=this.element;this.timeView.toggle();!e.touch&&a[0]!==C()&&a.focus()},_change:function(a){a=this._update(a);
+this._old!=+a&&(this._old=a,this._oldText=this.element.val(),this.trigger("change"),this.element.trigger("change"))},_icon:function(){var a=this.element,c;c=a.next("span.k-select");c[0]||(c=b('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(a));this._arrow=c.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(a){var b=a.keyCode,d=this.timeView,e=this.element.val();d.popup.visible()||a.altKey?
d.move(a):b===E.ENTER&&e!==this._oldText&&this._change(e)},_option:function(a,b){var d=this.options;if(b===w)return d[a];if(b=this.timeView._parse(b))b=new j(+b),d[a]=b,this.timeView.options[a]=b,this.timeView.bind()},_toggleHover:function(a){b(a.currentTarget).toggleClass("k-state-hover","mouseenter"===a.type)},_update:function(a){var b=this.options,d=this.timeView,e=d._parse(a);y(e,b.min,b.max)||(e=null);this._value=e;this.element.val(e?z.toString(e,b.format,b.culture):a);d.value(e);return e},_wrapper:function(){var a=
this.element,c;c=a.parents(".k-timepicker");c[0]||(c=a.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default"),c=c.wrap("<span/>").parent());c[0].style.cssText=a[0].style.cssText;this.wrapper=c.addClass("k-widget k-timepicker k-header").addClass(a[0].className);a.css({width:"100%",height:a[0].style.height});this._inputWrapper=b(c[0].firstChild)},_reset:function(){var a=this,b=a.element,d=b.closest("form");d[0]&&(a._resetHandler=function(){a.value(b[0].defaultValue)},a._form=d.on("reset",
a._resetHandler))}});t.plugin(A)})(window.kendo.jQuery);
(function(b,w){function u(b){b.preventDefault()}function y(d){var a=n.getCulture(d.culture).calendars.standard.patterns;d.format=C(d.format||a.g);d.timeFormat=a=C(d.timeFormat||a.t);n.DateView.normalize(d);-1===b.inArray(a,d.parseFormats)&&d.parseFormats.splice(1,0,a)}var n=window.kendo,r=n.TimeView,z=n.parseDate,E=n._activeElement,C=n._extractFormat,s=n.calendar,e=s.isInRange,h=s.restrictValue,t=s.isEqualDatePart,p=r.getMilliseconds,s=n.ui,v=s.Widget,D=Date,q=new D(1900,0,1),m=new D(2099,11,31),
d={view:"date"},j={view:"time"},k=b.extend,x=v.extend({init:function(b,a){v.fn.init.call(this,b,a);b=this.element;a=this.options;y(a);this._wrapper();this._views();this._icons();this._reset();this._template();b[0].type="text";b.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1});this._midnight=0===p(a.min)+p(a.max);b.is("[disabled]")?this.enable(!1):this.readonly(b.is("[readonly]"));this.value(a.value||b.val());n.notify(this)},options:{name:"DateTimePicker",value:null,
format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new D(q),max:new D(m),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:["open","close","change"],setOptions:function(b){var a=this.dateView.options,c=this.timeView.options;v.fn.setOptions.call(this,b);y(this.options);b=this.options;k(a,b,{change:a.change,close:a.close,open:a.open});k(c,b,{format:b.timeFormat,active:c.active,
change:c.change,close:c.close,open:c.open});this.timeView.ul[0].innerHTML=""},_editable:function(d){var a=this,c=a.element.off(".kendoDateTimePicker"),e=a._dateIcon.off(".kendoDateTimePicker"),h=a._timeIcon.off(".kendoDateTimePicker"),f=a._inputWrapper.off(".kendoDateTimePicker"),g=d.readonly;d=d.disable;!g&&!d?(f.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",a._toggleHover),c.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",
!1).attr("aria-readonly",!1).on("keydown.kendoDateTimePicker",b.proxy(a._keydown,a)).on("focus.kendoDateTimePicker",function(){a._inputWrapper.addClass("k-state-focused")}).on("blur.kendoDateTimePicker",function(){a._inputWrapper.removeClass("k-state-focused");c.val()!==a._oldText&&a._change(c.val());a.close("date");a.close("time")}),e.on("mousedown.kendoDateTimePicker",u).on("click.kendoDateTimePicker",function(){a.toggle("date");!n.support.touch&&c[0]!==E()&&c.focus()}),h.on("mousedown.kendoDateTimePicker",
u).on("click.kendoDateTimePicker",function(){a.toggle("time");!n.support.touch&&c[0]!==E()&&c.focus()})):(f.addClass(d?"k-state-disabled":"k-state-default").removeClass(d?"k-state-default":"k-state-disabled"),c.attr("disabled",d).attr("readonly",g).attr("aria-disabled",d).attr("aria-readonly",g))},readonly:function(b){this._editable({readonly:b===w?!0:b,disable:!1})},enable:function(b){this._editable({readonly:!1,disable:!(b===w||b)})},destroy:function(){v.fn.destroy.call(this);this.dateView.destroy();
this.timeView.destroy();this.element.off(".kendoDateTimePicker");this._dateIcon.off(".kendoDateTimePicker");this._timeIcon.off(".kendoDateTimePicker");this._inputWrapper.off(".kendoDateTimePicker");this._form&&this._form.off("reset",this._resetHandler)},close:function(b){"time"!==b&&(b="date");this[b+"View"].close()},open:function(b){"time"!==b&&(b="date");this[b+"View"].open()},min:function(b){return this._option("min",b)},max:function(b){return this._option("max",b)},toggle:function(b){var a="timeView";
"time"!==b?b="date":a="dateView";this[b+"View"].toggle();this[a].close()},value:function(b){if(b===w)return this._value;this._old=this._update(b);null===this._old&&this.element.val("");this._oldText=this.element.val()},_change:function(b){b=this._update(b);+this._old!=+b&&(this._old=b,this._oldText=this.element.val(),this.trigger("change"),this.element.trigger("change"))},_option:function(b,a){var c=this.options,d=this.timeView,e=d.options,f=this._value||this._old;if(a===w)return c[b];if(a=z(a,c.parseFormats,
c.culture)){c[b]=new D(+a);this.dateView[b](a);this._midnight=0===p(c.min)+p(c.max);if(f&&t(a,f)){if(this._midnight&&"max"==b){e[b]=m;d.dataBind([m]);return}e[b]=a}else e.max=m,e.min=q;d.bind()}},_toggleHover:function(d){b(d.currentTarget).toggleClass("k-state-hover","mouseenter"===d.type)},_update:function(d){var a=this.options,c=a.min,j=a.max,k=a.dates,f=this.timeView,g=z(d,a.parseFormats,a.culture),p,r,s,x;if(+g===+this._value)return a=n.toString(g,a.format,a.culture),a!==d&&this.element.val(null===
g?d:a),g;null!==g&&t(g,c)?g=h(g,c,j):e(g,c,j)||(g=null);this._value=g;f.value(g);this.dateView.value(g);if(g&&(s=this._old,r=f.options,k[0]&&(k=b.grep(k,function(a){return t(g,a)}),k[0]&&(f.dataBind(k),x=!0)),x||(t(g,c)&&(r.min=c,r.max=m,p=!0),t(g,j)&&(this._midnight?(f.dataBind([m]),x=!0):(r.max=j,p||(r.min=q),p=!0))),!x&&(!s&&p||s&&!t(s,g))))p||(r.max=m,r.min=q),f.bind();this.element.val(g?n.toString(g,a.format,a.culture):d);this._updateARIA(g);return g},_keydown:function(b){var a=this.dateView,
c=this.timeView,d=this.element.val(),e=a.popup.visible();b.altKey&&b.keyCode===n.keys.DOWN?this.toggle(e?"time":"date"):e?(a.move(b),this._updateARIA(a._current)):c.popup.visible()?c.move(b):b.keyCode===n.keys.ENTER&&d!==this._oldText&&this._change(d)},_views:function(){var b=this,a=b.element,c=b.options,h=a.attr("id"),p,f,g,F,s;b.dateView=p=new n.DateView(k({},c,{id:h,anchor:b.wrapper,change:function(){var a=p.calendar.value(),d=+a,f=+c.min,g=+c.max;if(d===f||d===g)d=new D(+b._value),d.setFullYear(a.getFullYear()),
d.setMonth(a.getMonth()),d.setDate(a.getDate()),e(d,f,g)&&(a=d);b._change(a);b.close("date")},close:function(c){b.trigger("close",d)?c.preventDefault():(a.attr("aria-expanded",!1),g.attr("aria-hidden",!0),f.popup.visible()||a.removeAttr("aria-owns"))},open:function(f){b.trigger("open",d)?f.preventDefault():(b.element.val()!==b._oldText&&((s=z(a.val(),c.parseFormats,c.culture))?(b.dateView._current=s,b.dateView.calendar._focus(s)):b.dateView.value(s)),g.attr("aria-hidden",!1),a.attr("aria-expanded",
!0).attr("aria-owns",p._dateViewID))}}));g=p.div;b.timeView=f=new r({id:h,value:c.value,anchor:b.wrapper,animation:c.animation,format:c.timeFormat,culture:c.culture,height:c.height,interval:c.interval,min:new D(q),max:new D(m),parseFormats:c.parseFormats,change:function(d,g){d=f._parse(d);d<c.min?(d=new D(+c.min),f.options.min=d):d>c.max&&(d=new D(+c.max),f.options.max=d);g?(b._timeSelected=!0,b._change(d)):(a.val(n.toString(d,c.format,c.culture)),p.value(d),b._updateARIA(d))},close:function(c){b.trigger("close",
j)?c.preventDefault():(F.attr("aria-hidden",!0),a.attr("aria-expanded",!1),p.popup.visible()||a.removeAttr("aria-owns"))},open:function(c){f._adjustListWidth();b.trigger("open",j)?c.preventDefault():(F.attr("aria-hidden",!1),a.attr("aria-expanded",!0).attr("aria-owns",f._timeViewID))},active:function(b){a.removeAttr("aria-activedescendant");b&&a.attr("aria-activedescendant",f._optionID)}});F=f.ul},_icons:function(){var d=this.element,a;a=d.next("span.k-select");a[0]||(a=b('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d));
a=a.children();this._dateIcon=a.eq(0).attr({role:"button","aria-controls":this.dateView._dateViewID});this._timeIcon=a.eq(1).attr({role:"button","aria-controls":this.timeView._timeViewID})},_wrapper:function(){var d=this.element,a;a=d.parents(".k-datetimepicker");a[0]||(a=d.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default"),a=a.wrap("<span/>").parent());a[0].style.cssText=d[0].style.cssText;d.css({width:"100%",height:d[0].style.height});this.wrapper=a.addClass("k-widget k-datetimepicker k-header").addClass(d[0].className);
this._inputWrapper=b(a[0].firstChild)},_reset:function(){var b=this,a=b.element,c=a.closest("form");c[0]&&(b._resetHandler=function(){b.value(a[0].defaultValue)},b._form=c.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=n.template(this.options.ARIATemplate)},_updateARIA:function(){}});s.plugin(x)})(window.kendo.jQuery);
(function(b,w){function u(a){return function(b){var d=b.children(".k-animation-container");d.length||(d=b);return d.children(a)}}function y(a){return a.children("div").find(".k-checkbox:first :checkbox")}function n(a){var c=a.children("div"),d=a.children("ul"),e=c.children(".k-icon"),f=a.children(":checkbox"),g=c.children(".k-in");if(!a.hasClass("k-treeview")){c.length||(c=b("<div />").prependTo(a));if(!e.length&&d.length)b("<span class='k-icon' />").prependTo(c);else if(!d.length||!d.children().length)e.remove(),
d.remove();f.length&&b("<span class='k-checkbox' />").appendTo(c).append(f);if(!g.length){b("<span class='k-in' />").appendTo(c);a=c[0].nextSibling;for(g=c.find(".k-in")[0];a&&"ul"!=a.nodeName.toLowerCase();)c=a,a=a.nextSibling,3==c.nodeType&&(c.nodeValue=b.trim(c.nodeValue)),g.appendChild(c)}}}function r(a){this.treeview=a;this.hovered=a.element;this._draggable=new E.Draggable(a.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(b){return a.templates.dragClue({item:a.dataItem(b),treeview:a.options})},
cursorOffset:{left:10,top:z.support.touch||z.support.pointers?-40/z.support.zoomLevel():10},dragstart:p(this.dragstart,this),dragcancel:p(this.dragcancel,this),drag:p(this.drag,this),dragend:p(this.dragend,this)})}var z=window.kendo,E=z.ui,C=b.extend,s=z.template,e=b.isArray,h=E.Widget,t=z.data.HierarchicalDataSource,p=b.proxy,v=z.keys,D="checked",q="undefined",m,d,j,k,x={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},A=function(a){return"object"===
typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName};d=u(".k-group");j=u(".k-group,.k-content");k=function(a){return a.children("div").children(".k-icon")};m=h.extend({init:function(a,b){var d=!1;e(b)&&(b={dataSource:b});b&&(typeof b.loadOnDemand==q&&e(b.dataSource))&&(b.loadOnDemand=!1);h.prototype.init.call(this,a,b);a=this.element;b=this.options;if(d=a.is("ul")||a.hasClass("k-treeview"))b.dataSource.list=a.is("ul")?a:a.children("ul");
this._animation();this._accessors();this._templates();a.hasClass("k-treeview")?(this.wrapper=a,this.root=a.children("ul").eq(0)):(this._wrapper(),d&&(this.root=a,this._group(this.wrapper)));this._tabindex();this.wrapper.filter("[role=tree]").length||this.wrapper.attr("role","tree");this._dataSource(d);this._attachEvents();b.dragAndDrop&&(this.dragging=new r(this));d?this._attachUids():b.autoBind&&(this._progress(!0),this.dataSource.fetch());b.checkboxes&&b.checkboxes.checkChildren&&this._updateIndeterminateInitial(this.wrapper);
this.element[0].id&&(this._ariaId=z.format("{0}_tv_active",this.element[0].id))},_attachEvents:function(){var a=this;a.wrapper.on("mouseenter.kendoTreeView",".k-in.k-state-selected",function(a){a.preventDefault()}).on("mouseenter.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",function(){b(this).removeClass("k-state-hover")}).on("click.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",
p(a._click,a)).on("dblclick.kendoTreeView",".k-in:not(.k-state-disabled)",p(a._toggleButtonClick,a)).on("click.kendoTreeView",".k-plus,.k-minus",p(a._toggleButtonClick,a)).on("keydown.kendoTreeView",p(a._keydown,a)).on("focus.kendoTreeView",p(a._focus,a)).on("blur.kendoTreeView",p(a._blur,a)).on("mousedown.kendoTreeView",".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",p(a._mousedown,a)).on("change.kendoTreeView",".k-checkbox :checkbox",p(a._checkboxChange,a)).on("click.kendoTreeView",".k-checkbox :checkbox",
p(a._checkboxClick,a)).on("click.kendoTreeView",function(c){b(c.target).is(":focusable")||a.focus()})},_checkboxClick:function(a){var c=b(a.target);c.data("indeterminate")&&(c.data("indeterminate",!1).prop("indeterminate",!1).prop(D,!0),this._checkboxChange(a))},_attachUids:function(a,c){var d=this,e,f=z.attr("uid");a=a||d.root;c=c||d.dataSource;e=c.view();a.children("li").each(function(a,c){c=b(c).attr(f,e[a].uid);c.attr("role","treeitem");d._attachUids(c.children("ul"),e[a].children)})},_animation:function(){var a=
this.options,b=a.animation;if(!1===b)b={expand:{effects:{}},collapse:{hide:!0,effects:{}}};else if(!b.collapse||!("effects"in b.collapse))b.collapse=C({reverse:!0},b.expand);C(b.collapse,{hide:!0});a.animation=b},_templates:function(){var a=this.options,b=p(this._fieldAccessor,this);a.template&&"string"==typeof a.template?a.template=s(a.template):a.template||(a.template=s("# var text = "+b("text")+"(item); ## if (typeof item.encoded != 'undefined' && item.encoded === false) {##= text ## } else { ##: text ## } #"));
this._checkboxes();this.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;a.firstLevel&&0===d&&(c+=" k-first");d==a.length-1&&(c+=" k-last");return c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;a.firstLevel&&0===d&&(c+="k-top ");return 0===d&&d!=e?c+"k-top":d==e?c+"k-bot":c+"k-mid"},textClass:function(a){var b="k-in";!1===a.enabled&&(b+=" k-state-disabled");!0===a.selected&&(b+=" k-state-selected");return b},toggleButtonClass:function(a){var b="k-icon",b=!0!==a.expanded?
b+" k-plus":b+" k-minus";!1===a.enabled&&(b+="-disabled");return b},groupAttributes:function(a){return!0!==a.expanded?" style='display:none'":""},groupCssClass:function(a){var b="k-group";a.firstLevel&&(b+=" k-treeview-lines");return b},dragClue:s("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status'></span>#= treeview.template(data) #</div>"),group:s("<ul class='#= r.groupCssClass(group) #'#= r.groupAttributes(group) # role='group'>#= renderItems(data) #</ul>"),itemContent:s("# var imageUrl = "+
b("imageUrl")+"(item); ## var spriteCssClass = "+b("spriteCssClass")+"(item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= treeview.template(data) #"),itemElement:s("# var url = "+b("url")+"(item); #<div class='#= r.cssClass(group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation'></span># } ## if (treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),
item:s("<li role='treeitem' class='#= r.wrapperCssClass(group, item) #' "+z.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:s("<div class='k-icon k-loading' /> Loading...")}},items:function(){return this.element.find(".k-item")},setDataSource:function(a){this.options.dataSource=a;this._dataSource();this.dataSource.fetch()},_dataSource:function(a){function b(a){for(var d=0;d<
a.length;d++)a[d]._initChildren(),a[d].children.fetch(),b(a[d].children.view())}var d=this.options.dataSource,d=e(d)?{data:d}:d;this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler):this._refreshHandler=p(this.refresh,this);d.fields||(d.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]);this.dataSource=t.create(d);a&&(this.dataSource.fetch(),b(this.dataSource.view()));this.dataSource.bind("change",this._refreshHandler)},events:"dragstart drag drop dragend dataBound expand collapse select change navigate".split(" "),
options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var a=this.options,b,d,h,f=this.element;for(b in x)d=a[x[b]],h=f.attr(z.attr(b+"-field")),!d&&h&&(d=h),d||(d=b),e(d)||(d=[d]),a[x[b]]=d},_fieldAccessor:function(a){var c=this.options[x[a]],d=c.length,e="(function(item) {";0===d?e+="return item['"+a+"'];":(e+="var level = item.level();var levels = ["+
b.map(c,function(a){return"function(d){ return "+z.expr(a)+"}"}).join(",")+"];",e+="return levels[Math.min(level, "+d+"-1)](item)");return e+"})"},setOptions:function(a){"dragAndDrop"in a&&(a.dragAndDrop&&!this.options.dragAndDrop)&&(this.dragging=new r(this));h.fn.setOptions.call(this,a);this._animation();this._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(".k-item")[0]})},_setIndeterminate:function(a){var b=d(a),e,h=!0,f;if(b.length){b=y(b.children());e=b.length;if(1<
e)for(f=1;f<e;f++){if(b[f].checked!=b[f-1].checked||b[f].indeterminate||b[f-1].indeterminate){h=!1;break}}else h=!b[0].indeterminate;y(a).data("indeterminate",!h).prop("indeterminate",!h).prop(D,h&&b[0].checked)}},_updateIndeterminateInitial:function(a){var b=d(a).children(),e;if(b.length){for(e=0;e<b.length;e++)this._updateIndeterminateInitial(b.eq(e));this._setIndeterminate(a)}},_updateIndeterminate:function(a){a=this.parent(a);var b;a.length&&(this._setIndeterminate(a),b=a.children("div").find(".k-checkbox > :checkbox"),
!1===b.prop("indeterminate")?this.dataItem(a).set(D,b.prop(D)):this.dataItem(a).checked=!1,this._updateIndeterminate(a))},_checkboxChange:function(a){var c=b(a.target);a=c.prop(D);c=c.closest(".k-item");this.dataItem(c).set(D,a)},_toggleButtonClick:function(a){this.toggle(b(a.target).closest(".k-item"))},_mousedown:function(a){this._clickTarget=a=b(a.currentTarget).closest(".k-item");this.current(a)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},
_focus:function(){var a=this.select(),c=this._clickTarget;z.support.touch||(c&&c.length&&(a=c),this._focusable(a)||(a=this.current()),this._focusable(a)||(a=this._nextVisible(b())),this.current(a))},focus:function(){var a=this.wrapper,b=a[0],d;d=document.body;do b=b.parentNode;while(b.scrollHeight<=b.clientHeight&&b!=d);d=b.scrollTop;a.focus();b.scrollTop=d},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},
parent:function(a){var c=/\bk-treeview\b/,d=/\bk-item\b/,e,f;"string"==typeof a&&(a=this.element.find(a));A(a)||(a=a[0]);f=d.test(a.className);do a=a.parentNode,d.test(a.className)&&(f?e=a:f=!0);while(!c.test(a.className)&&!e);return b(e)},_nextVisible:function(a){var b=this._expanded(a);if(!a.length||!a.is(":visible"))a=this.root.children().eq(0);else if(b)a=d(a).children().first();else{for(;a.length&&!a.next().length;)a=this.parent(a);a=a.next().length?a.next():a}this._enabled(a)||(a=this._nextVisible(a));
return a},_previousVisible:function(a){if(!a.length||a.prev().length)for(a=a.length?a.prev():this.root.children().last();this._expanded(a);)a=d(a).children().last();else a=this.parent(a)||a;this._enabled(a)||(a=this._previousVisible(a));return a},_keydown:function(a){var c=a.keyCode,d,e=this.current(),f=this._expanded(e),g=e.find(".k-checkbox:first :checkbox"),h=z.support.isRtl(this.element);a.target==a.currentTarget&&(!h&&c==v.RIGHT||h&&c==v.LEFT?f?d=this._nextVisible(e):this.expand(e):!h&&c==v.LEFT||
h&&c==v.RIGHT?f?this.collapse(e):(d=this.parent(e),this._enabled(d)||(d=w)):c==v.DOWN?d=this._nextVisible(e):c==v.UP?d=this._previousVisible(e):c==v.HOME?d=this._nextVisible(b()):c==v.END?d=this._previousVisible(b()):c==v.ENTER?e.find(".k-in:first").hasClass("k-state-selected")||this._trigger("select",e)||this.select(e):c==v.SPACEBAR&&g.length&&(g.prop(D,!g.prop(D)).data("indeterminate",!1).prop("indeterminate",!1),this._checkboxChange({target:g}),d=e),d&&(a.preventDefault(),e[0]!=d[0]&&(this._trigger("navigate",
d),this.current(d))))},_click:function(a){var c=b(a.target),d=j(c.closest(".k-item")),e=c.attr("href");(e?"#"==e||0<=e.indexOf("#"+this.element.id+"-"):d.length&&!d.children().length)&&a.preventDefault();!c.hasClass(".k-state-selected")&&!this._trigger("select",c)&&this.select(c)},_wrapper:function(){var a=this.element,b;a.is("div")?(b=a,a=b.children("ul").eq(0)):b=a.wrap("<div />").parent();this.wrapper=b.addClass("k-widget k-treeview");this.root=a},_group:function(a){var b=a.hasClass("k-treeview"),
b={firstLevel:b,expanded:b||this._expanded(a)};a=a.children("ul");a.addClass(this.templates.groupCssClass(b)).css("display",b.expanded?"":"none");this._nodes(a,b)},_nodes:function(a,c){var d=this,e=a.children("li"),f;c=C({length:e.length},c);e.each(function(a,e){e=b(e);f={index:a,expanded:d._expanded(e)};n(e);d._updateNodeClasses(e,c,f);d._group(e)})},_checkboxes:function(){var a=this.options,b=a.checkboxes,d;if(b||a.checkboxTemplate)a.checkboxTemplate?d=a.checkboxTemplate:(d="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",
b.name&&(d+=" name='"+b.name+"'"),d+=" />"),b=C({template:d},a.checkboxes),"string"==typeof b.template&&(b.template=s(b.template)),a.checkboxes=b},_updateNodeClasses:function(a,b,d){var e=a.children("div"),f=a.children("ul"),g=this.templates;if(!a.hasClass("k-treeview")&&(d=d||{},d.expanded=typeof d.expanded!=q?d.expanded:this._expanded(a),d.index=typeof d.index!=q?d.index:a.index(),d.enabled=typeof d.enabled!=q?d.enabled:!e.children(".k-in").hasClass("k-state-disabled"),b=b||{},b.firstLevel=typeof b.firstLevel!=
q?b.firstLevel:a.parent().parent().hasClass("k-treeview"),b.length=typeof b.length!=q?b.length:a.parent().children().length,a.removeClass("k-first k-last").addClass(g.wrapperCssClass(b,d)),e.removeClass("k-top k-mid k-bot").addClass(g.cssClass(b,d)),e.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(g.textClass(d)),f.length||"true"==a.attr("data-hasChildren")))e.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(g.toggleButtonClass(d)),
f.addClass("k-group")},_processNodes:function(a,c){var d=this;d.element.find(a).each(function(a,f){c.call(d,a,b(f).closest(".k-item"))})},dataItem:function(a){a=b(a).closest(".k-item").attr(z.attr("uid"));var c=this.dataSource;return c&&c.getByUid(a)},_insertNode:function(a,c,e,h,f){var g=d(e),j=g.children().length+1,k={firstLevel:e.hasClass("k-treeview"),expanded:!f,length:j},m="",p=function(a,b){a.appendTo(b)};for(f=0;f<a.length;f++)j=a[f],j.index=c+f,m+=this._renderItem({group:k,item:j});c=b(m);
if(c.length){g.length||(g=b(this._renderGroup({group:k})).appendTo(e));h(c,g);e.hasClass("k-item")&&(n(e),this._updateNodeClasses(e));this._updateNodeClasses(c.prev().first());this._updateNodeClasses(c.next().last());for(f=0;f<a.length;f++)j=a[f],j.hasChildren&&(e=j.children.data(),e.length&&this._insertNode(e,j.index,c.eq(f),p,!this._expanded(c.eq(f))));return c}},_updateNode:function(a,c){function d(){e.dataItem(this).set(D,k)}var e=this,f,g,h,k,m,n={treeview:e.options,item:h};if("selected"==a)h=
c[0],g=e.findByUid(h.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",h[a]).end(),h[a]?(e.current(g),g.attr("aria-selected",!0)):g.attr("aria-selected",!1);else for(f=0;f<c.length;f++)n.item=h=c[f],"spriteCssClass"==a||"imageUrl"==a||0<=b.inArray(a,e.options.dataTextField)?e.findByUid(h.uid).find(">div>.k-in").html(e.templates.itemContent(n)):a==D?(g=e.findByUid(h.uid),k=h[a],g.children("div").find(".k-checkbox :checkbox").prop(D,h[a]).data("indeterminate",!1).prop("indeterminate",
!1),e.options.checkboxes.checkChildren&&(g.find(".k-checkbox :checkbox").each(d),e._updateIndeterminate(g))):"expanded"==a?e._toggle(e.findByUid(h.uid),h,h[a]):"enabled"==a&&(g=e.findByUid(h.uid),g.find(".k-checkbox :checkbox").prop("disabled",!h[a]),m=!j(g).is(":visible"),g.removeAttr("aria-disabled"),h[a]||(h.selected&&h.set("selected",!1),h.expanded&&h.set("expanded",!1),m=!0,g.removeAttr("aria-selected").attr("aria-disabled",!0)),e._updateNodeClasses(g,{},{enabled:h[a],expanded:!m}))},refresh:function(a){function b(a,
c){var f=d(c).children(),g=!e._expanded(c);typeof k==q&&(k=f.length);e._insertNode(a,k,c,function(a,b){k==f.length?a.appendTo(b):a.insertBefore(f.eq(k))},g);e._expanded(c)&&(e._updateNodeClasses(c),d(c).css("display","block"))}var e=this,h=e.wrapper,f=a.node,g=a.action,j=a.items,k=a.index,m=e.options,n=m.loadOnDemand,m=m.checkboxes&&m.checkboxes.checkChildren;if(a.field)return e._updateNode(a.field,j);f&&(h=e.findByUid(f.uid),e._progress(h,!1));if(m&&"remove"!=g&&f&&f.checked)for(a=0;a<j.length;a++)j[a].checked=
!0;"add"==g?b(j,h):"remove"==g?e._remove(e.findByUid(j[0].uid),!1):f?(d(h).empty(),b(j,h)):e.root=e.wrapper.html(e._renderGroup({items:j,group:{firstLevel:!0,expanded:!0}})).children("ul");for(a=0;a<j.length;a++)(!n||j[a].expanded)&&j[a].load();e.trigger("dataBound",{node:f?h:w})},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0;this._processNodes(a,
function(a,d){this.dataItem(d).set("enabled",b)})},current:function(a){var c=this._current,d=this.element,e=this._ariaId;if(0<arguments.length&&a&&a.length){if(c&&(c[0].id===e&&c.removeAttr("id"),c.find(".k-in:first").removeClass("k-state-focused")),c=this._current=b(a,d).closest(".k-item"),c.find(".k-in:first").addClass("k-state-focused"),e=c[0].id||e)this.wrapper.removeAttr("aria-activedescendant"),c.attr("id",e),this.wrapper.attr("aria-activedescendant",e)}else return c||(c=this._nextVisible(b())),
c},select:function(a){var c=this,d=c.element;if(!arguments.length)return d.find(".k-state-selected").closest(".k-item");a=b(a,d).closest(".k-item");d.find(".k-state-selected").each(function(){var a=c.dataItem(this);a.set("selected",!1);delete a.selected});a.length&&c.dataItem(a).set("selected",!0);c.trigger("change")},_toggle:function(a,b,d){var e=this.options,f=j(a),g=d?"expand":"collapse",h=e.animation[g];if(!f.data("animating")&&!this._trigger(g,a))if(this._expanded(a,d),(g=b&&b.loaded())&&0<f.children().length){if(this._updateNodeClasses(a,
{},{expanded:d}),f.css("display")!=(d?"block":"none"))d||f.css("height",f.height()).css("height"),f.kendoStop(!0,!0).kendoAnimate(C({reset:!0},h,{complete:function(){d&&f.css("height","")}}))}else if(!g||g&&d)e.loadOnDemand&&this._progress(a,!0),f.remove(),b.load()},toggle:function(a,c){a=b(a);k(a).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(c=!this._expanded(a)),this._expanded(a,c))},destroy:function(){h.fn.destroy.call(this);this.element.off(".kendoTreeView");
this.dragging&&this.dragging.destroy();z.destroy(this.element)},_expanded:function(a,b){var d=z.attr("expanded"),e=this.dataItem(a);if(1==arguments.length)return"true"===a.attr(d)||e&&e.expanded;j(a).data("animating")||(e&&e.set("expanded",b),b?(a.attr(d,"true"),a.attr("aria-expanded","true")):(a.removeAttr(d),a.attr("aria-expanded","false")))},_progress:function(a,b){var d=this.element;1==arguments.length?a?d.html(this.templates.loading):d.empty():k(a).toggleClass("k-loading",b)},text:function(a,
b){var d=this.dataItem(a),e=this.options[x.text],f=d.level(),e=e[Math.min(f,e.length-1)];if(b)d.set(e,b);else return d[e]},_objectOrSelf:function(a){return b(a).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,b,d,e){var f=this._objectOrSelf(d||b),g=f.dataSource;if(d&&d[0]!=f.element[0]&&(b=f.dataItem(d),b.loaded()||(f._progress(d,!0),b.load()),d!=this.root&&(g=b.children,!g||!(g instanceof t))))b._initChildren(),g=b.children;a=this._toObservableData(a);return e.call(this,
g,a)},_toObservableData:function(a){var c=a,d;if(a instanceof window.jQuery||A(a))d=this._objectOrSelf(a).dataSource,a=b(a).attr(z.attr("uid")),(c=d.getByUid(a))&&(c=d.remove(c));return c},_insert:function(a,b,d){b instanceof z.data.ObservableArray?b=b.toJSON():e(b)||(b=[b]);a.splice.apply(a,[d,0].concat(b));return this.findByUid(a[d].uid)},insertAfter:function(a,b){var d=b.parent(),e;d.parent().is("li")&&(e=d.parent());return this._dataSourceMove(a,d,e,function(a,d){return this._insert(a.data(),
d,b.index()+1)})},insertBefore:function(a,b){var d=b.parent(),e;d.parent().is("li")&&(e=d.parent());return this._dataSourceMove(a,d,e,function(a,d){return this._insert(a.data(),d,b.index())})},append:function(a,b){var e=this,h=e.root;b&&(h=d(b));return e._dataSourceMove(a,h,b,function(a,d){function h(){var j=a.data(),k=Math.max(j.length,0);b&&e._expanded(b,!0);return e._insert(j,d,k)}if(a.data())return h();a.one("change",h);return null})},_remove:function(a,c){var d,e,f;a=b(a,this.element);d=a.parent().parent();
e=a.prev();f=a.next();a[c?"detach":"remove"]();d.hasClass("k-item")&&(n(d),this._updateNodeClasses(d));this._updateNodeClasses(e);this._updateNodeClasses(f);return a},remove:function(a){(a=this.dataItem(a))&&this.dataSource.remove(a)},detach:function(a){return this._remove(a,!0)},findByText:function(a){return b(this.element).find(".k-in").filter(function(c,d){return b(d).text()==a}).closest(".k-item")},findByUid:function(a){return this.element.find(".k-item["+z.attr("uid")+"="+a+"]")},_renderItem:function(a){a.group||
(a.group={});a.treeview=this.options;a.r=this.templates;return this.templates.item(a)},_renderGroup:function(a){var b=this;a.renderItems=function(a){var d="",f=0,g=a.items,e=g?g.length:0,h=a.group;for(h.length=e;f<e;f++)a.group=h,a.item=g[f],a.item.index=f,d+=b._renderItem(a);return d};a.r=b.templates;return b.templates.group(a)}});r.prototype={_removeTouchHover:function(){z.support.touch&&this.hovered&&(this.hovered.find(".k-state-hover").removeClass("k-state-hover"),this.hovered=!1)},_hintStatus:function(a){var c=
this._draggable.hint.find(".k-drag-status")[0];if(a)c.className="k-icon k-drag-status "+a;else return b.trim(c.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(a){var c=this.treeview,d=this.sourceNode=a.currentTarget.closest(".k-item");c.trigger("dragstart",{sourceNode:d[0]})&&a.preventDefault();this.dropHint=b("<div class='k-drop-hint' />").css("visibility","hidden").appendTo(c.element)},drag:function(a){var c=this.treeview,d=this.sourceNode,e=this.dropTarget=b(z.eventTarget(a)),
f,g=e.closest(".k-treeview"),h,j,k,m,n,p;g.length?b.contains(d[0],e[0])?f="k-denied":(f="k-insert-middle",h=e.closest(".k-top,.k-mid,.k-bot"),h.length?(j=h.outerHeight(),k=z.getOffset(h).top,m=e.closest(".k-in"),n=j/(0<m.length?4:2),p=a.y.location<k+n,k=k+j-n<a.y.location,this._removeTouchHover(),this.hovered=(n=m.length&&!p&&!k)?g:!1,this.dropHint.css("visibility",n?"hidden":"visible"),m.toggleClass("k-state-hover",n),n?f="k-add":(g=h.position(),g.top+=p?0:j,this.dropHint.css(g)[p?"prependTo":"appendTo"](e.closest(".k-item").children("div:first")),
p&&h.hasClass("k-top")&&(f="k-insert-top"),k&&h.hasClass("k-bot")&&(f="k-insert-bottom"))):e[0]!=this.dropHint[0]&&(f=g[0]!=c.element[0]?"k-add":"k-denied")):(f="k-denied",this._removeTouchHover());c.trigger("drag",{sourceNode:d[0],dropTarget:e[0],pageY:a.y.location,pageX:a.x.location,statusClass:f.substring(2),setStatusClass:function(a){f=a}});0!==f.indexOf("k-insert")&&this.dropHint.css("visibility","hidden");this._hintStatus(f)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var a=
this.treeview,b="over",d=this.sourceNode,e,f=this.dropHint,g=this.dropTarget,h;"visible"==f.css("visibility")?(b=0<f.prevAll(".k-in").length?"after":"before",e=f.closest(".k-item")):g&&(e=g.closest(".k-item"),e.length||(e=g.closest(".k-treeview")));h="k-denied"!=this._hintStatus();g=a.trigger("drop",{sourceNode:d[0],destinationNode:e[0],valid:h,setValid:function(a){h=a},dropTarget:g[0],dropPosition:b});f.remove();this._removeTouchHover();!h||g?this._draggable.dropped=h:(this._draggable.dropped=!0,
"over"==b?d=a.append(d,e):"before"==b?d=a.insertBefore(d,e):"after"==b&&(d=a.insertAfter(d,e)),a.trigger("dragend",{sourceNode:d&&d[0],destinationNode:e[0],dropPosition:b}))},destroy:function(){this._draggable.destroy()}};E.plugin(m)})(window.kendo.jQuery);
(function(b,w){function u(a,b,c){c=c?" k-slider-horizontal":" k-slider-vertical";var d=a.style?a.style:b.attr("style");b=b.attr("class")?" "+b.attr("class"):"";var e="";"bottomRight"==a.tickPlacement?e=" k-slider-bottomright":"topLeft"==a.tickPlacement&&(e=" k-slider-topleft");return"<div class='k-widget k-slider"+c+b+"'"+(d?" style='"+d+"'":"")+"><div class='k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+e+"'></div></div>"}function y(a,b,c){return"<a class='k-button k-button-"+b+"'><span class='k-icon "+
("increase"==b?c?"k-i-arrow-e":"k-i-arrow-n":c?"k-i-arrow-w":"k-i-arrow-s")+"' title='"+a[b+"ButtonTitle"]+"'>"+a[b+"ButtonTitle"]+"</span></a>"}function n(a,b){var c="<ul class='k-reset k-slider-items'>",d=j.floor(s(b/a.smallStep))+1,e;for(e=0;e<d;e++)c+="<li class='k-tick' role='presentation'>&nbsp;</li>";return c+"</ul>"}function r(a,b){var c=b.is("input")?1:2;return"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==c?
a.leftDragHandleTitle:a.dragHandleTitle)+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(1<c?a.selectionStart||a.min:a.value||a.min)+"'>Drag</a>"+(1<c?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'>Drag</a>":"")+"</div>"}function z(a){return function(b){return b+a}}function E(a){return function(){return a}}function C(a){return(a+
"").replace(".",h.cultures.current.numberFormat["."])}function s(a){a=parseFloat(a,10);var b=j.pow(10,A||0);return j.round(a*b)/b}function e(a,b){var c=q(a.getAttribute(b));null===c&&(c=w);return c}var h=window.kendo,t=h.ui.Widget,p=h.ui.Draggable,v=b.extend,D=h.format,q=h.parseFloat,m=b.proxy,d=b.isArray,j=Math,k=h.support,x=k.pointers?"MSPointerDown.slider":"mousedown.slider touchstart.slider",A=3,a=h.getTouches,c=t.extend({init:function(a,b){t.fn.init.call(this,a,b);b=this.options;this._distance=
b.max-b.min;this._isRtl=(this._isHorizontal="horizontal"==b.orientation)&&h.support.isRtl(a);this._position=this._isHorizontal?"left":"bottom";this._size=this._isHorizontal?"width":"height";this._outerSize=this._isHorizontal?"outerWidth":"outerHeight";b.tooltip.format=b.tooltip.enabled?b.tooltip.format||"{0}":"{0}";this._createHtml();this.wrapper=this.element.closest(".k-slider");this._trackDiv=this.wrapper.find(".k-slider-track");this._setTrackDivWidth();this._maxSelection=this._trackDiv[this._size]();
var c=this._maxSelection/((b.max-b.min)/b.smallStep),d=this._calculateItemsWidth(j.floor(this._distance/b.smallStep));"none"!=b.tickPlacement&&2<=c&&(this._trackDiv.before(n(b,this._distance)),this._setItemsWidth(d),this._setItemsTitle(),this._setItemsLargeTick());this._calculateSteps(d);this._tabindex(this.wrapper.find(".k-draghandle"));this[b.enabled?"enable":"disable"]();c=h.support.isRtl(this.wrapper)?-1:1;this._keyMap={37:z(-1*c*b.smallStep),40:z(-b.smallStep),39:z(1*c*b.smallStep),38:z(+b.smallStep),
35:E(b.max),36:E(b.min),33:z(+b.largeStep),34:z(-b.largeStep)};h.notify(this)},events:["change","slide"],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var a=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._size](this.wrapper[this._size]()-2-a)},_setItemsWidth:function(a){var c=this.options,d=a.length-1,e=this.wrapper.find(".k-tick"),h;
h=0;var j=e.length,k=0;for(h=0;h<j-2;h++)b(e[h+1])[this._size](a[h]);this._isHorizontal?(b(e[0]).addClass("k-first")[this._size](a[d-1]),b(e[d]).addClass("k-last")[this._size](a[d])):(b(e[d]).addClass("k-first")[this._size](a[d]),b(e[0]).addClass("k-last")[this._size](a[d-1]));if(0!==this._distance%c.smallStep&&!this._isHorizontal){for(h=0;h<a.length;h++)k+=a[h];h=this._maxSelection-k;h+=parseFloat(this._trackDiv.css(this._position),10)+2;this.wrapper.find(".k-slider-items").css("padding-top",h)}},
_setItemsTitle:function(){for(var a=this.options,c=this.wrapper.find(".k-tick"),d=a.min,e=c.length,h=this._isHorizontal&&!this._isRtl?0:e-1,e=this._isHorizontal&&!this._isRtl?e:-1,j=this._isHorizontal&&!this._isRtl?1:-1;0!==h-e;h+=j)b(c[h]).attr("title",D(a.tooltip.format,s(d))),d+=a.smallStep},_setItemsLargeTick:function(){var a=this.options,c=this.wrapper.find(".k-tick"),d={},e=s(a.largeStep/a.smallStep);if(0===1E3*a.largeStep%(1E3*a.smallStep))if(this._isHorizontal&&!this._isRtl)for(a=0;a<c.length;a=
s(a+e))d=b(c[a]),d.addClass("k-tick-large").html("<span class='k-label'>"+d.attr("title")+"</span>");else for(a=c.length-1;0<=a;a=s(a-e))d=b(c[a]),d.addClass("k-tick-large").html("<span class='k-label'>"+d.attr("title")+"</span>"),this._isRtl||0!==a&&a!==c.length-1&&d.css("line-height",d[this._size]()+"px")},_calculateItemsWidth:function(a){var b=this.options,c=parseFloat(this._trackDiv.css(this._size))+1,d=c/this._distance;0<this._distance/b.smallStep-j.floor(this._distance/b.smallStep)&&(c-=this._distance%
b.smallStep*d);b=c/a;c=[];for(d=0;d<a-1;d++)c[d]=b;c[a-1]=c[a]=b/2;return this._roundWidths(c)},_roundWidths:function(a){var b=0,c=a.length,d;for(d=0;d<c;d++)b+=a[d]-j.floor(a[d]),a[d]=j.floor(a[d]);b=j.round(b);return this._addAdditionalSize(b,a)},_addAdditionalSize:function(a,b){if(0===a)return b;var c=parseFloat(b.length-1)/parseFloat(1==a?a:a-1),d;for(d=0;d<a;d++)b[parseInt(j.round(c*d),10)]+=1;return b},_calculateSteps:function(a){var b=this.options,c=b.min,d=0,e=j.ceil(this._distance/b.smallStep),
h=1,e=e+(0===this._distance/b.smallStep%1?1:0);a.splice(0,0,2*a[e-2]);a.splice(e-1,1,2*a.pop());this._pixelSteps=[d];this._values=[c];if(0!==e){for(;h<e;)d+=(a[h-1]+a[h])/2,this._pixelSteps[h]=d,this._values[h]=c+=b.smallStep,h++;a=0===this._distance%b.smallStep?e-1:e;this._pixelSteps[a]=this._maxSelection;this._values[a]=b.max;this._isRtl&&(this._pixelSteps.reverse(),this._values.reverse())}},_getValueFromPosition:function(a,b){var c=this.options,d=j.max(c.smallStep*(this._maxSelection/this._distance),
0),e=0,h=d/2;this._isHorizontal?(e=a-b.startPoint,this._isRtl&&(e=this._maxSelection-e)):e=b.startPoint-a;if(this._maxSelection-(parseInt(this._maxSelection%d,10)-3)/2<e)return c.max;for(c=0;c<this._pixelSteps.length;c++)if(j.abs(this._pixelSteps[c]-e)-1<=h)return s(this._values[c])},_getFormattedValue:function(a,b){var c="",c=this.options.tooltip,e,j,k;d(a)?(j=a[0],k=a[1]):b&&b.type&&(j=b.selectionStart,k=b.selectionEnd);b&&(e=b.tooltipTemplate);!e&&c.template&&(e=h.template(c.template));d(a)||b&&
b.type?e?c=e({selectionStart:j,selectionEnd:k}):(j=D(c.format,j),k=D(c.format,k),c=j+" - "+k):(b&&(b.val=a),c=e?e({value:a}):D(c.format,a));return c},_getDraggableArea:function(){var a=h.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?a.left:a.top+this._maxSelection,endPoint:this._isHorizontal?a.left+this._maxSelection:a.top}},_createHtml:function(){var a=this.element,b=this.options,c=a.find("input");2==c.length?(c.eq(0).val(b.selectionStart),c.eq(1).val(b.selectionEnd)):a.val(b.value);
a.wrap(u(b,a,this._isHorizontal)).hide();b.showButtons&&a.before(y(b,"increase",this._isHorizontal)).before(y(b,"decrease",this._isHorizontal));a.before(r(b,a))},_focus:function(a){a=a.target;var c=this.value(),d=this._drag;d||(a==this.wrapper.find(".k-draghandle").eq(0)[0]?(d=this._firstHandleDrag,this._activeHandle=0):(d=this._lastHandleDrag,this._activeHandle=1),c=c[this._activeHandle]);b(a).addClass("k-state-selected");d&&(this._activeHandleDrag=d,d.selectionStart=this.options.selectionStart,
d.selectionEnd=this.options.selectionEnd,d._updateTooltip(c))},_focusWithMouse:function(a){var c=this;a=b(a.target);var d=a.is(".k-draghandle")?a.index():0;window.setTimeout(function(){c.wrapper.find(".k-draghandle")[2==d?1:0].focus()},1);c._setTooltipTimeout()},_blur:function(a){var c=this._activeHandleDrag;b(a.target).removeClass("k-state-selected");c&&(c._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=
a._drag||a._activeHandleDrag;b&&b._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var a=this._drag||this._activeHandleDrag;a&&a.tooltipDiv&&a.tooltipDiv.stop(!0,!1).css("opacity",1)}}),l=c.extend({init:function(a,d){var h;a.type="text";d=v({},{value:e(a,"value"),min:e(a,"min"),max:e(a,"max"),smallStep:e(a,"step")},d);a=b(a);d&&d.enabled===w&&(d.enabled=!a.is("[disabled]"));c.fn.init.call(this,a,d);d=this.options;if("undefined"===typeof d.value||null===
d.value)d.value=d.min,a.val(d.min);d.value=j.max(j.min(d.value,d.max),d.min);h=this.wrapper.find(".k-draghandle");new l.Selection(h,this,d);this._drag=new l.Drag(h,"",this,d)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(c){var d=this,e=d.options,j;d.disable();if(!1!==c){d.wrapper.removeClass("k-state-disabled").addClass("k-state-default");d.wrapper.find("input").removeAttr("disabled");
c=function(c){var f=a(c)[0];if(f){var f=d._isHorizontal?f.location.pageX:f.location.pageY,e=d._getDraggableArea(),h=b(c.target);h.hasClass("k-draghandle")?h.addClass("k-state-selected"):(d._update(d._getValueFromPosition(f,e)),d._focusWithMouse(c),d._drag.dragstart(c),c.preventDefault())}};d.wrapper.find(".k-tick, .k-slider-track").on(x,c).end().on(x,function(){b(document.documentElement).one("selectstart",h.preventDefault)});d.wrapper.find(".k-draghandle").attr("tabindex",0).on("touchend.slider mouseup.slider",
function(){d._setTooltipTimeout()}).on("click.slider",function(a){d._focusWithMouse(a);a.preventDefault()}).on("focus.slider",m(d._focus,d)).on("blur.slider",m(d._blur,d));j=m(function(a){a=d._nextValueByIndex(d._valueIndex+1*a);d._setValueInRange(a);d._drag._updateTooltip(a)},d);if(e.showButtons){var l=m(function(a,b){this._clearTooltipTimeout();if(1===a.which||k.touch&&0===a.which)j(b),this.timeout=setTimeout(m(function(){this.timer=setInterval(function(){j(b)},60)},this),200)},d);d.wrapper.find(".k-button").on("touchend.slider mouseup.slider",
m(function(a){this._clearTimer();d._focusWithMouse(a)},d)).on("mouseover.slider",function(a){b(a.currentTarget).addClass("k-state-hover")}).on("mouseout.slider",m(function(a){b(a.currentTarget).removeClass("k-state-hover");this._clearTimer()},d)).eq(0).on("touchstart.slider mousedown.slider",m(function(a){l(a,1)},d)).click(!1).end().eq(1).on("touchstart.slider mousedown.slider",m(function(a){l(a,-1)},d)).click(h.preventDefault)}d.wrapper.find(".k-draghandle").off("keydown.slider",!1).on("keydown.slider",
m(this._keydown,d));e.enabled=!0}},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled");b(this.element).prop("disabled","disabled");this.wrapper.find(".k-button").off("touchstart.slider mousedown.slider").on("touchstart.slider mousedown.slider",h.preventDefault).off("touchend.slider mouseup.slider").on("touchend.slider mouseup.slider",h.preventDefault).off("mouseleave.slider").on("mouseleave.slider",h.preventDefault).off("mouseover.slider").on("mouseover.slider",
h.preventDefault);this.wrapper.find(".k-tick, .k-slider-track").off(x);this.wrapper.find(".k-draghandle").attr("tabindex",-1).off("touchend.slider mouseup.slider").off("keydown.slider").off("click.slider").off("focus.slider").off("blur.slider");this.options.enabled=!1},_update:function(a){var b=this.value()!=a;this.value(a);b&&this.trigger("change",{value:this.options.value})},value:function(a){var b=this.options;a=s(a);if(isNaN(a))return b.value;a>=b.min&&a<=b.max&&b.value!=a&&(this.element.prop("value",
C(a)),b.value=a,this._refreshAriaAttr(a),this._refresh())},_refresh:function(){this.trigger("moveSelection",{value:this.options.value})},_refreshAriaAttr:function(a){var b=this._drag,b=b&&b._tooltipDiv?b._tooltipDiv.text():this._getFormattedValue(a,null);this.wrapper.find(".k-draghandle").attr("aria-valuenow",a).attr("aria-valuetext",b)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(a){a.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[a.keyCode](this.options.value)),
this._drag._updateTooltip(this.value()),a.preventDefault())},_setValueInRange:function(a){var b=this.options;a=s(a);isNaN(a)?this._update(b.min):(a=j.max(j.min(a,b.max),b.min),this._update(a))},_nextValueByIndex:function(a){var b=this._values.length;this._isRtl&&(a=b-1-a);return this._values[j.max(0,j.min(a,b-1))]},destroy:function(){t.fn.destroy.call(this);this.wrapper.off(".slider").find(".k-button").off(".slider").end().find(".k-draghandle").off(".slider").end().find(".k-tick, .k-slider-track").off(".slider").end();
this._drag.draggable.destroy()}});l.Selection=function(a,b,c){function d(e){e=b._valueIndex=j.ceil(s((e-c.min)/c.smallStep));e=parseInt(b._pixelSteps[e],10);var h=b._trackDiv.find(".k-slider-selection"),k=parseInt(a[b._outerSize]()/2,10),l=b._isRtl?2:0;h[b._size](b._isRtl?b._maxSelection-e:e);a.css(b._position,e-k-l)}d(c.value);b.bind(["change","slide","moveSelection"],function(a){d(parseFloat(a.value,10))})};l.Drag=function(a,b,c,d){this.owner=c;this.options=d;this.dragHandle=a;this.dragHandleSize=
a[c._outerSize]();this.type=b;this.draggable=new p(a,{distance:0,dragstart:m(this._dragstart,this),drag:m(this.drag,this),dragend:m(this.dragend,this),dragcancel:m(this.dragcancel,this)});a.click(!1)};l.Drag.prototype={dragstart:function(a){this.draggable.userEvents._start(a)},_dragstart:function(a){var c=this.owner,d=this.options;d.enabled?(c.element.off("mouseover.slider"),this.dragHandle.addClass("k-state-selected"),b(document.documentElement).css("cursor","pointer"),this.dragableArea=c._getDraggableArea(),
this.step=j.max(d.smallStep*(c._maxSelection/c._distance),0),this.type?(this.selectionStart=d.selectionStart,this.selectionEnd=d.selectionEnd,c._setZIndex(this.type)):this.oldVal=this.val=d.value,this._removeTooltip(!0),this._createTooltip()):a.preventDefault()},_createTooltip:function(){var a=this.owner,c=this.options.tooltip,d="",e=b(window);c.enabled&&(c.template&&(this.tooltipTemplate=h.template(c.template)),b(".k-slider-tooltip").remove(),this.tooltipDiv=b("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),
d=a._getFormattedValue(this.val||a.value(),this),this.type||(a="k-callout-"+(a._isHorizontal?"s":"e"),this.tooltipInnerDiv="<div class='k-callout "+a+"'>\x3c!-- --\x3e</div>",d+=this.tooltipInnerDiv),this.tooltipDiv.html(d),this._scrollOffset={top:e.scrollTop(),left:e.scrollLeft()},this.moveTooltip())},drag:function(a){var b=this.owner,c=a.x.location,d=a.y.location,e=this.dragableArea.startPoint,h=this.dragableArea.endPoint;a.preventDefault();this.val=b._isHorizontal?b._isRtl?this.constrainValue(c,
e,h,c<h):this.constrainValue(c,e,h,c>=h):this.constrainValue(d,h,e,d<=h);this.oldVal!=this.val&&(this.oldVal=this.val,this.type?("firstHandle"==this.type?this.selectionStart=this.val<this.selectionEnd?this.val:this.selectionEnd=this.val:this.val>this.selectionStart?this.selectionEnd=this.val:this.selectionStart=this.selectionEnd=this.val,a={values:[this.selectionStart,this.selectionEnd],value:[this.selectionStart,this.selectionEnd]}):a={value:this.val},b.trigger("slide",a));this._updateTooltip(this.val)},
_updateTooltip:function(a){var b="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),b=this.owner._getFormattedValue(s(a),this),this.type||(b+=this.tooltipInnerDiv),this.tooltipDiv.html(b),this.moveTooltip())},dragcancel:function(){this.owner._refresh();b(document.documentElement).css("cursor","");return this._end()},dragend:function(){var a=this.owner;b(document.documentElement).css("cursor","");this.type?a._update(this.selectionStart,this.selectionEnd):a._update(this.val);return this._end()},
_end:function(){var a=this.owner;a._focusWithMouse({target:this.dragHandle[0]});a.element.on("mouseover.slider");return!1},_removeTooltip:function(a){var c=this,d=c.owner;c.tooltipDiv&&(d.options.tooltip.enabled&&d.options.enabled)&&(a?(c.tooltipDiv.remove(),c.tooltipDiv=null):c.tooltipDiv.fadeOut("slow",function(){b(this).remove();c.tooltipDiv=null}))},moveTooltip:function(){var a=this.owner,c=0,d=0,e=this.dragHandle,d=h.getOffset(e),j=b(window),k=this.tooltipDiv.find(".k-callout"),l=this.tooltipDiv.outerWidth(),
m=this.tooltipDiv.outerHeight(),n,p;this.type?(n=a.wrapper.find(".k-draghandle"),d=h.getOffset(n.eq(0)),p=h.getOffset(n.eq(1)),a._isHorizontal?(c=p.top,d=d.left+(p.left-d.left)/2):(c=d.top+(p.top-d.top)/2,d=p.left),n=n.eq(0).outerWidth()+16):(c=d.top,d=d.left,n=e.outerWidth()+16);a._isHorizontal?(d-=parseInt((l-e[a._outerSize]())/2,10),c-=m+k.height()+8):(c-=parseInt((m-e[a._outerSize]())/2,10),d-=l+k.width()+8);a._isHorizontal?(e=this._flip(c,m,n,j.outerHeight()+this._scrollOffset.top),c+=e,d+=this._fit(d,
l,j.outerWidth()+this._scrollOffset.left)):(e=this._flip(d,l,n,j.outerWidth()+this._scrollOffset.left),c+=this._fit(c,m,j.outerHeight()+this._scrollOffset.top),d+=e);0<e&&k&&(k.removeClass(),k.addClass("k-callout k-callout-"+(a._isHorizontal?"n":"w")));this.tooltipDiv.css({top:c,left:d})},_fit:function(a,b,c){var d=0;a+b>c&&(d=c-(a+b));0>a&&(d=-a);return d},_flip:function(a,b,c,d){var e=0;a+b>d&&(e+=-(c+b));0>a+e&&(e+=c+b);return e},constrainValue:function(a,b,c,d){var e=0;return e=b<a&&a<c?this.owner._getValueFromPosition(a,
this.dragableArea):d?this.options.max:this.options.min}};h.ui.plugin(l);var B=c.extend({init:function(a,d){var h=b(a).find("input"),j=h.eq(0)[0],k=h.eq(1)[0];j.type="text";k.type="text";if((d=v({},{selectionStart:e(j,"value"),min:e(j,"min"),max:e(j,"max"),smallStep:e(j,"step")},{selectionEnd:e(k,"value"),min:e(k,"min"),max:e(k,"max"),smallStep:e(k,"step")},d))&&d.enabled===w)d.enabled=!h.is("[disabled]");c.fn.init.call(this,a,d);d=this.options;if("undefined"===typeof d.selectionStart||null===d.selectionStart)d.selectionStart=
d.min,h.eq(0).val(d.min);if("undefined"===typeof d.selectionEnd||null===d.selectionEnd)d.selectionEnd=d.max,h.eq(1).val(d.max);h=this.wrapper.find(".k-draghandle");new B.Selection(h,this,d);this._firstHandleDrag=new l.Drag(h.eq(0),"firstHandle",this,d);this._lastHandleDrag=new l.Drag(h.eq(1),"lastHandle",this,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(c){var d=this,e=d.options;
d.disable();!1!==c&&(d.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),d.wrapper.find("input").removeAttr("disabled"),c=function(c){var f=a(c)[0];if(f){var f=d._isHorizontal?f.location.pageX:f.location.pageY,h=d._getDraggableArea(),f=d._getValueFromPosition(f,h),h=b(c.target);h.hasClass("k-draghandle")?h.addClass("k-state-selected"):(f<e.selectionStart?(d._setValueInRange(f,e.selectionEnd),d._firstHandleDrag.dragstart(c),c=0):f>d.selectionEnd?(d._setValueInRange(e.selectionStart,
f),d._lastHandleDrag.dragstart(c),c=1):f-e.selectionStart<=e.selectionEnd-f?(d._setValueInRange(f,e.selectionEnd),d._firstHandleDrag.dragstart(c),c=0):(d._setValueInRange(e.selectionStart,f),d._lastHandleDrag.dragstart(c),c=1),d._focusWithMouse({target:d.wrapper.find(".k-draghandle")[c]}))}},d.wrapper.find(".k-tick, .k-slider-track").on(x,c).end().on(x,function(){b(document.documentElement).one("selectstart",h.preventDefault)}),d.wrapper.find(".k-draghandle").attr("tabindex",0).on("touchend.slider mouseup.slider",
function(){d._setTooltipTimeout()}).on("click.slider",function(a){d._focusWithMouse(a);a.preventDefault()}).on("focus.slider",m(d._focus,d)).on("blur.slider",m(d._blur,d)),d.wrapper.find(".k-draghandle").off("keydown.slider",h.preventDefault).eq(0).on("keydown.slider",m(function(a){this._keydown(a,"firstHandle")},d)).end().eq(1).on("keydown.slider",m(function(a){this._keydown(a,"lastHandle")},d)),d.options.enabled=!0)},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled");
this.wrapper.find("input").prop("disabled","disabled");this.wrapper.find(".k-tick, .k-slider-track").off(x);this.wrapper.find(".k-draghandle").attr("tabindex",-1).off("touchend.slider mouseup.slider").off("keydown.slider").off("click.slider").off("focus.slider").off("blur.slider");this.options.enabled=!1},_keydown:function(a,b){var c=this.options.selectionStart,d=this.options.selectionEnd,e;a.keyCode in this._keyMap&&(this._clearTooltipTimeout(),"firstHandle"==b?(e=this._activeHandleDrag=this._firstHandleDrag,
c=this._keyMap[a.keyCode](c),c>d&&(d=c)):(e=this._activeHandleDrag=this._lastHandleDrag,d=this._keyMap[a.keyCode](d),c>d&&(c=d)),this._setValueInRange(c,d),c=Math.max(c,this.options.selectionStart),d=Math.min(d,this.options.selectionEnd),e.selectionEnd=Math.max(d,this.options.selectionStart),e.selectionStart=Math.min(c,this.options.selectionEnd),e._updateTooltip(this.value()[this._activeHandle]),a.preventDefault())},_update:function(a,b){var c=this.value(),c=c[0]!=a||c[1]!=b;this.value([a,b]);c&&
this.trigger("change",{values:[a,b],value:[a,b]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,b){var c=this.options,d=c.selectionStart,e=c.selectionEnd;if(isNaN(a)&&isNaN(b))return[d,e];a=s(a);b=s(b);if(a>=c.min&&(a<=c.max&&b>=c.min&&b<=c.max&&a<=b)&&(d!=a||e!=b))this.element.find("input").eq(0).prop("value",C(a)).end().eq(1).prop("value",C(b)),c.selectionStart=a,c.selectionEnd=b,this._refresh(),this._refreshAriaAttr(a,b)},values:function(a,b){return d(a)?
this._value(a[0],a[1]):this._value(a,b)},_refresh:function(){var a=this.options;this.trigger("moveSelection",{values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]});a.selectionStart==a.max&&a.selectionEnd==a.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(a,b){var c=this.wrapper.find(".k-draghandle"),d;d=this._getFormattedValue([a,b],this._activeHandleDrag);c.eq(0).attr("aria-valuenow",a);c.eq(1).attr("aria-valuenow",b);c.attr("aria-valuetext",d)},_setValueInRange:function(a,
b){var c=this.options;a=j.max(j.min(a,c.max),c.min);b=j.max(j.min(b,c.max),c.min);a==c.max&&b==c.max&&this._setZIndex("firstHandle");this._update(j.min(a,b),j.max(a,b))},_setZIndex:function(a){this.wrapper.find(".k-draghandle").each(function(c){b(this).css("z-index","firstHandle"==a?1-c:c)})},destroy:function(){t.fn.destroy.call(this);this.wrapper.off(".slider").find(".k-tick, .k-slider-track").off(".slider").end().find(".k-draghandle").off(".slider");this._firstHandleDrag.draggable.destroy();this._lastHandleDrag.draggable.destroy()}});
B.Selection=function(a,b,c){function d(e){e=e||[];var h=e[1]-c.min;e=j.ceil(s((e[0]-c.min)/c.smallStep));var k=j.ceil(s(h/c.smallStep)),h=b._pixelSteps[e];e=b._pixelSteps[k];var k=parseInt(a.eq(0)[b._outerSize]()/2,10),l=b._isRtl?2:0;a.eq(0).css(b._position,h-k-l).end().eq(1).css(b._position,e-k-l);k=b._trackDiv.find(".k-slider-selection");l=j.abs(h-e);k[b._size](l);b._isRtl?(h=j.max(h,e),k.css("right",b._maxSelection-h-1)):(h=j.min(h,e),k.css(b._position,h-1))}d(b.value());b.bind(["change","slide",
"moveSelection"],function(a){d(a.values)})};h.ui.plugin(B)})(window.kendo.jQuery);
(function(b,w){function u(b){return!t.test(b)&&!(h.test(b)||/^\d+$/.test(b))}function y(b,d){return function(a,c){var e=this.element.find(a).data(D);if(1==arguments.length)return e[b];e[b]=c;d&&this.element.data("kendoSplitter").trigger(p)}}function n(b){var d=b.orientation;this.owner=b;this._element=b.element;this.orientation=d;C(this,d===v?k:j);this._resizable=new r.ui.Resizable(b.element,{orientation:d,handle:".k-splitbar-draggable-"+d+"[data-marker="+b._marker+"]",hint:s(this._createHint,this),
start:s(this._start,this),max:s(this._max,this),min:s(this._min,this),invalidClass:"k-restricted-size-"+d,resizeend:s(this._stop,this)})}var r=window.kendo,z=r.ui,E=r.keys,C=b.extend,s=b.proxy,e=z.Widget,h=/^\d+(\.\d+)?px$/i,t=/^\d+(\.\d+)?%$/i,p="resize",v="horizontal",D="pane",q="k-"+D,m="."+q,d=e.extend({init:function(d,h){var a=this,c;e.fn.init.call(a,d,h);a.wrapper=a.element;c="vertical"!=a.options.orientation.toLowerCase();a.orientation=c?v:"vertical";a._dimension=c?"width":"height";a._keys=
{decrease:c?E.LEFT:E.UP,increase:c?E.RIGHT:E.DOWN};a._resizeStep=10;a.bind(p,s(a._resize,a));a._marker=r.guid().substring(0,8);a._initPanes();a._resizeHandler=function(){a.trigger(p)};a._attachEvents();b(window).on("resize",a._resizeHandler);a.resizing=new n(a);a.element.triggerHandler("init.kendoSplitter")},events:["expand","collapse","contentLoad",p,"layoutChange"],_attachEvents:function(){var d=this;d.element.find("> .k-splitbar-draggable-"+d.options.orientation).on("keydown.kendoSplitter",b.proxy(d._keydown,
d)).on("mousedown.kendoSplitter",function(b){b.currentTarget.focus()}).on("focus.kendoSplitter",function(d){b(d.currentTarget).addClass("k-state-focused")}).on("blur.kendoSplitter",function(e){b(e.currentTarget).removeClass("k-state-focused");d.resizing.end()}).on("mouseenter.kendoSplitter",function(){b(this).addClass("k-splitbar-"+d.orientation+"-hover")}).on("mouseleave.kendoSplitter",function(){b(this).removeClass("k-splitbar-"+d.orientation+"-hover")}).on("mousedown.kendoSplitter",function(){d._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup.kendoSplitter",
function(){d._panes().children(".k-splitter-overlay").remove()}).end().on("click.kendoSplitter",".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",d._arrowClick("collapse")).on("click.kendoSplitter",".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",d._arrowClick("expand")).on("dblclick.kendoSplitter",".k-splitbar",s(d._togglePane,d)).parent().closest(".k-splitter").each(function(){var e=b(this),a=e.data("kendoSplitter");if(a)a.bind(p,d._resizeHandler);else e.one("init.kendoSplitter",
function(){b(this).data("kendoSplitter").bind(p,d._resizeHandler);d._resizeHandler()})})},options:{name:"Splitter",orientation:v,panes:[]},destroy:function(){var d="> .k-splitbar-draggable-"+this.options.orientation;e.fn.destroy.call(this);this.element.off(".kendoSplitter").find(d).off(".kendoSplitter");this.resizing.destroy();b(window).off("resize",this._resizeHandler);r.destroy(this.element)},_keydown:function(d){var e=d.keyCode,a=this.resizing,c=b(d.currentTarget),h=this._keys,j=e===h.decrease;
e===h.increase||j?(d.ctrlKey?(e=c[j?"next":"prev"](),a.isResizing()&&a.end(),e[this._dimension]()?this._triggerAction("collapse",c[j?"prev":"next"]()):this._triggerAction("expand",e)):a.move((j?-1:1)*this._resizeStep,c),d.preventDefault()):e===E.ENTER&&(a.end(),d.preventDefault())},_initPanes:function(){var d=this,e=d.options.panes||[];d.element.addClass("k-widget").addClass("k-splitter").children().each(function(a,c){var h=e&&e[a];c=b(c).attr("role","group").addClass(q);c.data(D,h?h:{}).toggleClass("k-scrollable",
h?!1!==h.scrollable:!0);d.ajaxRequest(c)}).end();d.trigger(p)},ajaxRequest:function(b,d,a){var c=this,e;b=c.element.find(b);e=b.data(D);if(d=d||e.contentUrl)b.append("<span class='k-icon k-loading k-pane-loading' />"),r.isLocalUrl(d)?jQuery.ajax({url:d,data:a||{},type:"GET",dataType:"html",success:function(a){b.html(a);c.trigger("contentLoad",{pane:b[0]})}}):b.removeClass("k-scrollable").html("<iframe src='"+d+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")},
_triggerAction:function(b,d){if(!this.trigger(b,{pane:d[0]}))this[b](d[0])},_togglePane:function(d){d=b(d.target);var e;d.closest(".k-splitter")[0]==this.element[0]&&(e=d.children(".k-icon:not(.k-resize-handle)"),1===e.length&&(e.is(".k-collapse-prev")?this._triggerAction("collapse",d.prev()):e.is(".k-collapse-next")?this._triggerAction("collapse",d.next()):e.is(".k-expand-prev")?this._triggerAction("expand",d.prev()):e.is(".k-expand-next")&&this._triggerAction("expand",d.next())))},_arrowClick:function(d){var e=
this;return function(a){a=b(a.target);a.closest(".k-splitter")[0]==e.element[0]&&(a=a.is(".k-"+d+"-prev")?a.parent().prev():a.parent().next(),e._triggerAction(d,a))}},_updateSplitBar:function(b,d,a){var c=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,h=!1!==d.resizable&&!1!==a.resizable,f=d.collapsible;d=d.collapsed;var g=a.collapsible;a=a.collapsed;b.addClass("k-splitbar k-state-default k-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(d||a)).removeClass("k-splitbar-"+
e+"-hover").toggleClass("k-splitbar-draggable-"+e,h&&!d&&!a).toggleClass("k-splitbar-static-"+e,!h&&!f&&!g).html(c("k-collapse-prev",f&&!d&&!a)+c("k-expand-prev",f&&d&&!a)+c("k-resize-handle",h)+c("k-collapse-next",g&&!a&&!d)+c("k-expand-next",g&&a&&!d))},_updateSplitBars:function(){var d=this;this.element.children(".k-splitbar").each(function(){var e=b(this),a=e.prev(m).data(D),c=e.next(m).data(D);c&&d._updateSplitBar(e,a,c)})},_panes:function(){return this.element.children(m)},_resize:function(){var d=
this.element,e=d.children(":not(.k-splitbar)"),a=this.orientation==v,c=d.children(".k-splitbar"),h=c.length,j=a?"width":"height",f=d[j]();0===h?(h=e.length-1,e.slice(0,h).after("<div tabindex='0' class='k-splitbar' data-marker='"+this._marker+"' />"),this._updateSplitBars(),c=d.children(".k-splitbar")):this._updateSplitBars();c.each(function(){f-=this[a?"offsetWidth":"offsetHeight"]});var g=0,k=0,m=b();e.css({position:"absolute",top:0})[j](function(){var a=b(this).data(D)||{},c;if(a.collapsed)c=0,
b(this).css("overflow","hidden");else{if(u(a.size)){m=m.add(this);return}c=parseInt(a.size,10);t.test(a.size)&&(c=Math.floor(c*f/100))}k++;g+=c;return c});f-=g;c=m.length;h=Math.floor(f/c);m.slice(0,c-1).css(j,h).end().eq(c-1).css(j,f-(c-1)*h);var n=0,h=a?"height":"width",p=a?"left":"top",q=a?"offsetWidth":"offsetHeight";0===c&&(e=e.filter(function(){return!(b(this).data(D)||{}).collapsed}).last(),e[j](f+e[0][q]));d.children().css(h,d[h]()).each(function(a,b){b.style[p]=Math.floor(n)+"px";n+=b[q]});
this.trigger("layoutChange")},toggle:function(b,d){var a;b=this.element.find(b);a=b.data(D);if(d||a.collapsible)1==arguments.length&&(d=a.collapsed===w?!1:a.collapsed),a.collapsed=!d,a.collapsed?b.css("overflow","hidden"):b.css("overflow",""),this.trigger(p),this.resizing.destroy(),this.resizing=new n(this)},collapse:function(b){this.toggle(b,!1)},expand:function(b){this.toggle(b,!0)},size:y("size",!0),min:y("min"),max:y("max")});z.plugin(d);var j={sizingProperty:"height",sizingDomProperty:"offsetHeight",
alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},k={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};n.prototype={press:function(b){this._resizable.press(b)},move:function(b,d){this.pressed||(this.press(d),this.pressed=!0);this._resizable.target||this._resizable.press(d);this._resizable.move(b)},end:function(){this._resizable.end();this.pressed=!1},destroy:function(){this._resizable.destroy()},
isResizing:function(){return this._resizable.resizing},_createHint:function(d){return b("<div class='k-ghost-splitbar k-ghost-splitbar-"+this.orientation+" k-state-default' />").css(this.alternateSizingProperty,d[this.alternateSizingProperty]())},_start:function(d){var e=b(d.currentTarget);d=e.prev();var a=e.next(),c=d.data(D),j=a.data(D),k=parseInt(d[0].style[this.positioningProperty],10),e=parseInt(a[0].style[this.positioningProperty],10)+a[0][this.sizingDomProperty]-e[0][this.sizingDomProperty],
f=parseInt(this._element.css(this.sizingProperty),10),g=function(a){var b=parseInt(a,10);return(h.test(a)||/^\d+$/.test(a)?b:f*b/100)||0},m=g(c.min),c=g(c.max)||e-k,n=g(j.min),j=g(j.max)||e-k;this.previousPane=d;this.nextPane=a;this._maxPosition=Math.min(e-n,k+c);this._minPosition=Math.max(k+m,e-j)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(d){var e=b(d.currentTarget),a=this.owner;a._panes().children(".k-splitter-overlay").remove();if(d.keyCode!==
r.keys.ESC){var c=d.position,h=e.prev(),j=e.next();d=h.data(D);var f=j.data(D),h=c-parseInt(h[0].style[this.positioningProperty],10),e=parseInt(j[0].style[this.positioningProperty],10)+j[0][this.sizingDomProperty]-c-e[0][this.sizingDomProperty],c=this._element.children(m).filter(function(){return u(b(this).data(D).size)}).length;if(!u(d.size)||1<c)u(d.size)&&c--,d.size=h+"px";if(!u(f.size)||1<c)f.size=e+"px";a.trigger(p)}return!1}}})(window.kendo.jQuery);
(function(b,w){function u(a){return b.map(y(a),function(a){return a.name}).join(", ")}function y(a){a=a[0];if(a.files)return n(a.files);var b=a.value,d=b.lastIndexOf("\\");return[{name:-1!=d?b.substr(d+1):b,extension:r(a.value),size:null}]}function n(a){return b.map(a,function(a){var b=a.name||a.fileName;return{name:b,extension:r(b),size:a.size||a.fileSize,rawFile:a}})}function r(a){return(a=a.match(q))?a[0]:""}function z(a,c,e){if(c._supportsRemove()){var h=a.data("fileNames"),f=b.map(h,function(a){return a.name});
c._submitRemove(f,e,function(b,d,f){c._removeFileEntry(a);c.trigger(m,{operation:"remove",files:h,response:b,XMLHttpRequest:f})},function(a){c.trigger(d,{operation:"remove",files:h,XMLHttpRequest:a});D("Server response: "+a.responseText)})}}function E(a,c,d){var e=!1,f="";try{f=b.parseJSON(a),e=!0}catch(g){d()}e&&c(f)}function C(a){a.stopPropagation();a.preventDefault()}function s(a,b,d,e){var f,g;a.on("dragenter"+b,function(){d();g=new Date;f||(f=setInterval(function(){100<new Date-g&&(e(),clearInterval(f),
f=null)},100))}).on("dragover"+b,function(){g=new Date})}function e(a){return a.children(".k-icon").is(".k-loading, .k-success, .k-fail")}function h(a){return b(a.target).closest(".k-file")}function t(){var a={},c=b("meta[name=csrf-token]").attr("content"),d=b("meta[name=csrf-param]").attr("content");b("input[name^='__RequestVerificationToken']").each(function(){a[this.name]=this.value});d!==w&&c!==w&&(a[d]=c);return a}var p=window.kendo,v=p.ui.Widget,D=p.logToConsole,q=/\.([^\.]+)$/,m="success",
d="error",j=v.extend({init:function(a,c){v.fn.init.call(this,a,c);this.name=a.name;this.multiple=this.options.multiple;this.localization=this.options.localization;var d=this.element;this.wrapper=d.closest(".k-upload");0===this.wrapper.length&&(this.wrapper=this._wrapInput(d));this._activeInput(d);this.toggle(this.options.enabled);var e=this._ns=".kendoUpload-"+p.guid();d.closest("form").on("submit"+e,b.proxy(this._onParentFormSubmit,this)).on("reset"+e,b.proxy(this._onParentFormReset,this));this.options.async.saveUrl?
(this._module=this._supportsFormData()?new A(this):new x(this),this._async=!0):this._module=new k(this);this._supportsDrop()&&this._setupDropZone();this.wrapper.delegate(".k-upload-action","click",b.proxy(this._onFileAction,this)).delegate(".k-upload-selected","click",b.proxy(this._onUploadSelected,this)).delegate(".k-file","t:progress",b.proxy(this._onFileProgress,this)).delegate(".k-file","t:upload-success",b.proxy(this._onUploadSuccess,this)).delegate(".k-file","t:upload-error",b.proxy(this._onUploadError,
this))},events:["select","upload",m,d,"complete","cancel","progress","remove"],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed"}},setOptions:function(a){var b=this.element;v.fn.setOptions.call(this,a);this.multiple=this.options.multiple;
b.attr("multiple",this._supportsMultiple()?this.multiple:!1);this.toggle(this.options.enabled)},enable:function(a){this.toggle("undefined"===typeof a?!0:a)},disable:function(){this.toggle(!1)},toggle:function(a){this.wrapper.toggleClass("k-state-disabled","undefined"===typeof a?a:!a)},destroy:function(){b(document).add(b(".k-dropzone",this.wrapper)).add(this.wrapper.closest("form")).off(this._ns);v.fn.destroy.call(this)},_addInput:function(a){a.insertAfter(this.element).data("kendoUpload",this);b(this.element).hide().removeAttr("id");
this._activeInput(a)},_activeInput:function(a){var c=this.wrapper;this.element=a;a.attr("multiple",this._supportsMultiple()?this.multiple:!1).attr("autocomplete","off").click(function(a){c.hasClass("k-state-disabled")&&a.preventDefault()}).change(b.proxy(this._onInputChange,this))},_onInputChange:function(a){a=b(a.target);this.trigger("select",{files:y(a)})?(this._addInput(a.clone().val("")),a.remove()):a.trigger("t:select")},_onDrop:function(a){var c=a.originalEvent.dataTransfer.files;C(a);0<c.length&&
(this.trigger("select",{files:n(c)})||b(".k-dropzone",this.wrapper).trigger("t:select",[c]))},_enqueueFile:function(a,c){var d,e;e=b(".k-upload-files",this.wrapper);0===e.length&&(e=b("<ul class='k-upload-files k-reset'></ul>").appendTo(this.wrapper),this.options.showFileList||e.hide());d=b(".k-file",e);e=b("<li class='k-file'><span class='k-filename' title='"+a+"'>"+a+"</span></li>").appendTo(e).data(c);this._async&&e.prepend("<span class='k-icon'></span>");this.multiple||d.trigger("t:remove");return e},
_removeFileEntry:function(a){var c=a.closest(".k-upload-files");a.remove();a=b(".k-file",c);a.find("> .k-fail").length===a.length&&this._hideUploadButton();0===a.length&&c.remove()},_fileAction:function(a,b){var d={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};d.hasOwnProperty(b)&&(this._clearFileAction(a),a.append(this._renderAction(d[b],this.localization[b]).addClass("k-upload-action")))},_fileState:function(a,b){var d=this.localization;if(d={uploading:{cssClass:"k-loading",text:d.statusUploading},
uploaded:{cssClass:"k-success",text:d.statusUploaded},failed:{cssClass:"k-fail",text:d.statusFailed}}[b])a.children(".k-icon").text(d.text)[0].className="k-icon "+d.cssClass},_renderAction:function(a,c){return""!==a?b("<button type='button' class='k-button k-button-icontext'><span class='k-icon "+a+"'></span>"+c+"</button>"):b("<button type='button' class='k-button'>"+c+"</button>")},_clearFileAction:function(a){a.find(".k-upload-action").remove()},_onFileAction:function(a){if(!this.wrapper.hasClass("k-state-disabled")){var c=
b(a.target).closest(".k-upload-action");a=c.find(".k-icon");var c=c.closest(".k-file"),d={files:c.data("fileNames")};a.hasClass("k-delete")?this.trigger("remove",d)||c.trigger("t:remove",d.data):a.hasClass("k-cancel")?(this.trigger("cancel",d),c.trigger("t:cancel"),this._checkAllComplete()):a.hasClass("k-retry")&&c.trigger("t:retry")}return!1},_onUploadSelected:function(){this.wrapper.trigger("t:saveSelected");return!1},_onFileProgress:function(a,c){var d=b(".k-progress-status",a.target);0===d.length&&
(d=b("<span class='k-progress'><span class='k-state-selected k-progress-status' style='width: 0;'></span></span>").appendTo(b(".k-filename",a.target)).find(".k-progress-status"));d.width(c+"%");this.trigger("progress",{files:h(a).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,d){a=h(a);this._fileState(a,"uploaded");this.trigger(m,{files:a.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:d});this._supportsRemove()?this._fileAction(a,"remove"):this._clearFileAction(a);
this._checkAllComplete()},_onUploadError:function(a,b){var e=h(a);this._fileState(e,"failed");this._fileAction(e,"retry");this.trigger(d,{operation:"upload",files:e.data("fileNames"),XMLHttpRequest:b});D("Server response: "+b.responseText);this._checkAllComplete()},_showUploadButton:function(){var a=b(".k-upload-selected",this.wrapper);0===a.length&&(a=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected"));this.wrapper.append(a)},_hideUploadButton:function(){b(".k-upload-selected",
this.wrapper).remove()},_onParentFormSubmit:function(){var a=this.element;a.trigger("t:abort");if(!a.value){var c=b(a);c.attr("disabled","disabled");window.setTimeout(function(){c.removeAttr("disabled")},0)}},_onParentFormReset:function(){b(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=-1<this._userAgent().indexOf("Windows");return!p.support.browser.opera&&!(p.support.browser.safari&&a)},_supportsDrop:function(){var a=
this._userAgent().toLowerCase();return!(!/chrome/.test(a)&&/safari/.test(a)&&/windows/.test(a))&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){b(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var a=this._ns,c=b(".k-dropzone",this.wrapper).append(b("<em>"+this.localization.dropFilesHere+"</em>")).on("dragenter"+a,C).on("dragover"+a,function(a){a.preventDefault()}).on("drop"+a,b.proxy(this._onDrop,
this));s(c,a,function(){c.addClass("k-dropzone-hovered")},function(){c.removeClass("k-dropzone-hovered")});s(b(document),a,function(){c.addClass("k-dropzone-active")},function(){c.removeClass("k-dropzone-active")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(a,c,d,e){var f=this.options.async.removeField||"fileNames";c=b.extend(c,t());c[f]=a;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",url:this.options.async.removeUrl,traditional:!0,data:c,
success:d,error:e})},_wrapInput:function(a){a.wrap("<div class='k-widget k-upload'><div class='k-button k-upload-button'></div></div>");a.closest(".k-button").append("<span>"+this.localization.select+"</span>");return a.closest(".k-upload")},_checkAllComplete:function(){0===b(".k-file .k-icon.k-loading",this.wrapper).length&&this.trigger("complete")}}),k=function(a){this.name="syncUploadModule";this.element=a.wrapper;this.upload=a;this.element.bind("t:select",b.proxy(this.onSelect,this)).bind("t:remove",
b.proxy(this.onRemove,this)).closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};k.prototype={onSelect:function(a){var c=this.upload;a=b(a.target);c._addInput(a.clone().val(""));a=c._enqueueFile(u(a),{relatedInput:a,fileNames:y(a)});c._fileAction(a,"remove")},onRemove:function(a){a=h(a);a.data("relatedInput").remove();this.upload._removeFileEntry(a)}};var x=function(a){this.name="iframeUploadModule";this.element=a.wrapper;this.upload=a;this.iframes=[];this.element.bind("t:select",
b.proxy(this.onSelect,this)).bind("t:cancel",b.proxy(this.onCancel,this)).bind("t:retry",b.proxy(this.onRetry,this)).bind("t:remove",b.proxy(this.onRemove,this)).bind("t:saveSelected",b.proxy(this.onSaveSelected,this)).bind("t:abort",b.proxy(this.onAbort,this))};j._frameId=0;x.prototype={onSelect:function(a){var c=this.upload;a=b(a.target);a=this.prepareUpload(a);c.options.async.autoUpload?this.performUpload(a):(c._supportsRemove()&&this.upload._fileAction(a,"remove"),c._showUploadButton())},prepareUpload:function(a){var c=
this.upload,d=b(c.element),e=c.options.async.saveField||a.attr("name");c._addInput(a.clone().val(""));a.attr("name",e);e=this.createFrame(c.name+"_"+j._frameId++);this.registerFrame(e);var f=this.createForm(c.options.async.saveUrl,e.attr("name")).append(d);a=c._enqueueFile(u(a),{frame:e,relatedInput:d,fileNames:y(a)});e.data({form:f,file:a});return a},performUpload:function(a){var c={files:a.data("fileNames")},d=a.data("frame"),e=this.upload;if(e.trigger("upload",c))e._removeFileEntry(d.data("file")),
this.cleanupFrame(d),this.unregisterFrame(d);else{e._hideUploadButton();d.appendTo(document.body);var f=d.data("form").appendTo(document.body);c.data=b.extend({},c.data,t());for(var g in c.data){var h=f.find("input[name='"+g+"']");0===h.length&&(h=b("<input>",{type:"hidden",name:g}).appendTo(f));h.val(c.data[g])}e._fileAction(a,"cancel");e._fileState(a,"uploading");d.one("load",b.proxy(this.onIframeLoad,this));f[0].submit()}},onSaveSelected:function(){var a=this;b(".k-file",this.element).each(function(){var c=
b(this);e(c)||a.performUpload(c)})},onIframeLoad:function(a){a=b(a.target);var c;try{c=a.contents().text()}catch(d){c="Error trying to get server response: "+d}this.processResponse(a,c)},processResponse:function(a,c){var d=a.data("file"),e=this,f={responseText:c};E(c||"null",function(c){b.extend(f,{statusText:"OK",status:"200"});d.trigger("t:progress",[100]);d.trigger("t:upload-success",[c,f]);e.cleanupFrame(a);e.unregisterFrame(a)},function(){b.extend(f,{statusText:"error",status:"500"});d.trigger("t:upload-error",
[f])})},onCancel:function(a){a=b(a.target).data("frame");this.stopFrameSubmit(a);this.cleanupFrame(a);this.unregisterFrame(a);this.upload._removeFileEntry(a.data("file"))},onRetry:function(a){a=h(a);this.performUpload(a)},onRemove:function(a,b){var d=h(a),e=d.data("frame");e?(this.unregisterFrame(e),this.upload._removeFileEntry(d),this.cleanupFrame(e)):z(d,this.upload,b)},onAbort:function(){var a=this.element,c=this;b.each(this.iframes,function(){b("input",this.data("form")).appendTo(a);c.stopFrameSubmit(this[0]);
this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(a){return b("<iframe name='"+a+"' id='"+a+"' style='display:none;' />")},createForm:function(a,c){return b("<form enctype='multipart/form-data' method='POST' action='"+a+"' target='"+c+"'/>")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(a){this.iframes=b.grep(this.iframes,function(b){return b.attr("name")!=
a.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null);setTimeout(function(){b.remove();a.remove()},1)}};var A=function(a){this.name="formDataUploadModule";this.element=a.wrapper;this.upload=a;this.element.bind("t:select",b.proxy(this.onSelect,this)).bind("t:cancel",b.proxy(this.onCancel,this)).bind("t:remove",b.proxy(this.onRemove,this)).bind("t:retry",b.proxy(this.onRetry,this)).bind("t:saveSelected",b.proxy(this.onSaveSelected,this)).bind("t:abort",b.proxy(this.onAbort,
this))};A.prototype={onSelect:function(a,c){var d=this.upload,e=this,f=b(a.target),g=c?n(c):this.inputFiles(f),f=this.prepareUpload(f,g);b.each(f,function(){d.options.async.autoUpload?e.performUpload(this):(d._supportsRemove()&&d._fileAction(this,"remove"),d._showUploadButton())})},prepareUpload:function(a,c){var d=this.enqueueFiles(c);a.is("input")&&(b.each(d,function(){b(this).data("relatedInput",a)}),a.data("relatedFileEntries",d),this.upload._addInput(a.clone().val("")));return d},enqueueFiles:function(a){var c=
this.upload,d,e,f=a.length,g,h=[];if(!0===c.options.async.batch)d=b.map(a,function(a){return a.name}).join(", "),d=c._enqueueFile(d,{fileNames:a}),d.data("files",a),h.push(d);else for(e=0;e<f;e++)g=a[e],d=g.name,d=c._enqueueFile(d,{fileNames:[g]}),d.data("files",[g]),h.push(d);return h},inputFiles:function(a){return y(a)},performUpload:function(a){var c=this.upload,d=this.createFormData(a.data("files")),e={files:a.data("fileNames")};if(c.trigger("upload",e))this.removeFileEntry(a);else{c._fileAction(a,
"cancel");c._hideUploadButton();e.data=b.extend({},e.data,t());for(var f in e.data)d.append(f,e.data[f]);c._fileState(a,"uploading");this.postFormData(this.upload.options.async.saveUrl,d,a)}},onSaveSelected:function(){var a=this;b(".k-file",this.element).each(function(){var c=b(this);e(c)||a.performUpload(c)})},onCancel:function(a){a=h(a);this.stopUploadRequest(a);this.removeFileEntry(a)},onRetry:function(a){a=h(a);this.performUpload(a)},onRemove:function(a,b){var d=h(a);d.children(".k-icon").is(".k-success")?
z(d,this.upload,b):this.removeFileEntry(d)},postFormData:function(a,b,e){var h=new XMLHttpRequest,f=this;e.data("request",h);h.addEventListener("load",function(a){f.onRequestSuccess.call(f,a,e)},!1);h.addEventListener(d,function(a){f.onRequestError.call(f,a,e)},!1);h.upload.addEventListener("progress",function(a){f.onRequestProgress.call(f,a,e)},!1);h.open("POST",a);h.withCredentials="true";h.send(b)},createFormData:function(a){var b=new FormData,d=this.upload,e,f=a.length;for(e=0;e<f;e++)b.append(d.options.async.saveField||
d.name,a[e].rawFile);return b},onRequestSuccess:function(a,b){function d(){b.trigger("t:upload-error",[e])}var e=a.target,f=this;200<=e.status&&299>=e.status?E(e.responseText,function(a){b.trigger("t:progress",[100]);b.trigger("t:upload-success",[a,e]);f.cleanupFileEntry(b)},d):d()},onRequestError:function(a,b){b.trigger("t:upload-error",[a.target])},cleanupFileEntry:function(a){var c=a.data("relatedInput"),d=!0;c&&(b.each(c.data("relatedFileEntries")||[],function(){0<this.parent().length&&this[0]!=
a[0]&&(d=d&&this.children(".k-icon").is(".k-success"))}),d&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a);this.upload._removeFileEntry(a)},onRequestProgress:function(a,b){var d=Math.round(100*a.loaded/a.total);b.trigger("t:progress",[d])},stopUploadRequest:function(a){a.data("request").abort()}};p.ui.plugin(j)})(window.kendo.jQuery);
(function(b,w){function u(a){return"undefined"!=typeof a}function y(a,b,c){return Math.max(Math.min(a,c),b)}function n(a,b){var c=a.children(x);return c.data("kendoWindow")||c.data("kendo"+b)}function r(c){return b(j).filter(function(){var d=b(this),e=n(d,c);return e.options.modal&&d.is(a)&&e.options.visible}).sort(function(a,c){return+b(a).css("zIndex")-+b(c).css("zIndex")})}function z(a,b){return function(){var a=this.wrapper,f=a[0].style,e=this.options;if(!e.isMaximized&&!e.isMinimized)return this.restoreOptions=
{width:f.width,height:f.height},a.find(A).hide().end().find(c).parent().hide().eq(0).before(d.action({name:"Restore"})),b.call(this),this}}function E(a){this.owner=a;this._draggable=new h(a.wrapper,{filter:A,group:a.wrapper.id+"-resizing",dragstart:v(this.dragstart,this),drag:v(this.drag,this),dragend:v(this.dragend,this)})}function C(a){this.owner=a;this._draggable=new h(a.wrapper,{filter:k,group:a.wrapper.id+"-moving",dragstart:v(this.dragstart,this),drag:v(this.drag,this),dragend:v(this.dragend,
this),dragcancel:v(this.dragcancel,this)})}var s=window.kendo,e=s.ui.Widget,h=s.ui.Draggable,t=b.isPlainObject,p=s._activeElement,v=b.proxy,D=b.extend,q=b.each,m=s.template,d,j=".k-window",k=".k-window-titlebar",x=".k-window-content",A=".k-resize-handle",a=":visible",c=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",l=s.isLocalUrl,B=e.extend({init:function(c,g){var h=this,l,m,n,p,r;e.fn.init.call(h,c,g);g=h.options;c=h.element;r=g.content;h.appendTo=b(g.appendTo||document.body);
h._animations();r&&!t(r)&&(r=g.content={url:r});c.find("script").filter(function(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}).remove();c.parent().is(h.appendTo)||(c.is(a)?m=c.offset():(n=c.css("visibility"),p=c.css("display"),c.css({visibility:"hidden",display:""}),m=c.offset(),c.css({visibility:n,display:p})));if(!u(g.visible)||null===g.visible)g.visible=c.is(a);l=h.wrapper=c.closest(j);if(!c.is(".k-content")||!l[0])c.addClass("k-window-content k-content"),h._createWindow(c,
g),l=h.wrapper=c.closest(j),h._dimensions();m&&l.css({top:m.top,left:m.left});r&&h.refresh(r);g.visible&&h.toFront();m=l.children(x);h._tabindex(m);g.visible&&g.modal&&h._overlay(l.is(a)).css({opacity:0.5});l.on("mouseenter.kendoWindow",".k-window-titlebar .k-window-action",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoWindow",".k-window-titlebar .k-window-action",function(){b(this).removeClass("k-state-hover")}).on("click.kendoWindow",".k-window-titlebar .k-window-action",v(h._windowActionHandler,
h));m.on("keydown.kendoWindow",v(h._keydown,h)).on("focus.kendoWindow",function(){l.addClass("k-state-focused")}).on("blur.kendoWindow",function(){l.removeClass("k-state-focused")});g.resizable&&(l.on("dblclick.kendoWindow",k,function(a){b(a.target).closest(".k-window-action").length||h.toggleMaximization();return this}),q("n e s w se sw ne nw".split(" "),function(a,b){l.append(d.resizeHandle(b))}),h.resizing=new E(h));g.draggable&&(h.dragging=new C(h));if(n=c.attr("id"))n+="_wnd_title",l.find(k).children(".k-window-title").attr("id",
n),m.attr({role:"dialog","aria-labelledby":n});l.add(l.find(".k-resize-handle,.k-window-titlebar")).on("mousedown.kendoWindow",v(h.toFront,h));h.touchScroller=s.touchScroller(c);h._resizeHandler=function(a){return h._onDocumentResize(a)};b(window).on("resize",h._resizeHandler);g.visible&&(h.trigger("open"),h.trigger("activate"));s.notify(h)},_dimensions:function(){var a=this.wrapper,b=this.element,c=this.options;this.title(c.title);q(["minWidth","minHeight","maxWidth","maxHeight"],function(a,d){var f=
c[d];f&&Infinity!=f&&b.css(d,f)});c.width&&a.width(y(parseInt(c.width,10),c.minWidth,c.maxWidth));c.height&&a.height(y(parseInt(c.height,10),c.minHeight,c.maxHeight));c.visible||a.hide()},_animations:function(){var a=this.options;!1===a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},setOptions:function(a){e.fn.setOptions.call(this,a);this._animations();this._dimensions()},events:"open activate deactivate close refresh resize dragstart dragend error".split(" "),options:{name:"Window",
animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,visible:null,height:null,width:null},_closable:function(){return-1<b.inArray("close",b.map(this.options.actions,function(a){return a.toLowerCase()}))},_keydown:function(a){var b=this.options,
c=s.keys,d=a.keyCode,e=this.wrapper,h,j,k=this.options.isMaximized,l,m;a.target==a.currentTarget&&(d==c.ESC&&this._closable()&&this._close(!0),b.draggable&&(!a.ctrlKey&&!k)&&(h=s.getOffset(e),d==c.UP?j=e.css("top",h.top-10):d==c.DOWN?j=e.css("top",h.top+10):d==c.LEFT?j=e.css("left",h.left-10):d==c.RIGHT&&(j=e.css("left",h.left+10))),b.resizable&&(a.ctrlKey&&!k)&&(d==c.UP?(j=!0,m=e.height()-10):d==c.DOWN&&(j=!0,m=e.height()+10),d==c.LEFT?(j=!0,l=e.width()-10):d==c.RIGHT&&(j=!0,l=e.width()+10),j&&(e.css({width:y(l,
b.minWidth,b.maxWidth),height:y(m,b.minHeight,b.maxHeight)}),this.trigger("resize"))),j&&a.preventDefault())},_overlay:function(a){var c=this.appendTo.children(".k-overlay"),d=this.wrapper;c.length||(c=b("<div class='k-overlay' />"));c.insertBefore(d[0]).toggle(a).css("zIndex",parseInt(d.css("zIndex"),10)-1);return c},_windowActionHandler:function(a){var c=b(a.target).closest(".k-window-action").find(".k-icon"),d=this;d._closing||q({"k-i-close":function(){d._close(!0)},"k-i-maximize":d.maximize,"k-i-minimize":d.minimize,
"k-i-restore":d.restore,"k-i-refresh":d.refresh},function(b,e){if(c.hasClass(b))return a.preventDefault(),e.call(d),!1})},center:function(){var a=this.wrapper,c=b(window);a.css({left:c.scrollLeft()+Math.max(0,(c.width()-a.width())/2),top:c.scrollTop()+Math.max(0,(c.height()-a.height())/2)});return this},title:function(a){var b=this.wrapper,c=this.options,e=b.find(k),h=e.children(".k-window-title"),j=e.outerHeight();if(!arguments.length)return h.text();!1===a?(b.addClass("k-window-titleless"),e.remove()):
(e.length||b.prepend(d.titlebar(D(d,c))),b.css("padding-top",j),e.css("margin-top",-j));h.text(a);return this},content:function(a){var b=this.wrapper.children(x),c=b.children(".km-scroll-container"),b=c[0]?c:b;if(!a)return b.html();b.html(a);return this},open:function(){var c=this,d=c.wrapper,e=c.options,h=e.animation.open,j=d.children(x),k=j.css("overflow"),l;c.trigger("open")||(c._closing=!1,c.toFront(),c.element.focus(),e.visible=!0,e.modal&&(l=c._overlay(!1),h.duration?l.kendoStop().kendoAnimate({effects:"fade:in",
duration:h.duration}):l.css("opacity",0.5).show()),d.is(a)||(j.css("overflow","hidden"),d.show().kendoStop().kendoAnimate({effects:h.effects,duration:h.duration,complete:function(){c.element.focus();c.trigger("activate");j.css("overflow",k)}})));e.isMaximized&&(c._documentScrollTop=b(document).scrollTop(),b("html, body").css("overflow","hidden"));return c},_close:function(c){var d=this,e=d.wrapper,h=d.options,k=h.animation.open,l=h.animation.close,m,p;e.is(a)&&!d.trigger("close",{userTriggered:!!c})&&
(d._closing=!0,h.visible=!1,b(j).each(function(a,c){var d=b(c).find(x);c!=e&&0<d.find("> .k-content-frame").length&&d.children(".k-overlay").remove()}),c=r(h.name),m=h.modal&&!c.length,p=h.modal?d._overlay(!0):b(w),m?l.duration?p.kendoStop().kendoAnimate({effects:"fade:out",duration:l.duration,hide:!0}):p.hide():c.length&&n(c.eq(c.length-1),h.name)._overlay(!0),e.kendoStop().kendoAnimate({effects:l.effects||k.effects,reverse:!0===l.reverse,duration:l.duration,complete:function(){e.hide();d.trigger("deactivate")}}));
d.options.isMaximized&&(b("html, body").css("overflow",""),d._documentScrollTop&&0<d._documentScrollTop&&b(document).scrollTop(d._documentScrollTop))},close:function(){this._close(!1);return this},toFront:function(a){var c=this.wrapper,e=c[0],h=+c.css("zIndex"),k=h,l=p(),m=this.element;a=a&&a.target?a.target:null;b(j).each(function(a,c){var f=b(c),g=f.css("zIndex"),f=f.find(x);isNaN(g)||(h=Math.max(+g,h));c!=e&&0<f.find("> .k-content-frame").length&&f.append(d.overlay)});(10001==h||k<h)&&c.css("zIndex",
h+2);this.element.find("> .k-overlay").remove();if(!b(l).is(m)&&!b(a).is(".k-window-titlebar .k-window-action,.k-window-titlebar .k-window-action .k-icon,:input")&&(!m.find(l).length||!m.find(a).length))m.focus(),c=b(window).scrollTop(),k=parseInt(this.wrapper.position().top,10),0<k&&0>k-c&&(0<c?b(window).scrollTop(k):this.wrapper.css("top",c));return this},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var a=this.options,
d=this.restoreOptions;if(a.isMaximized||a.isMinimized)return this.wrapper.css({position:"absolute",left:d.left,top:d.top,width:d.width,height:d.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(c).parent().show(),b("html, body").css("overflow",""),this._documentScrollTop&&0<this._documentScrollTop&&b(document).scrollTop(this._documentScrollTop),a.isMaximized=a.isMinimized=!1,this.trigger("resize"),this},maximize:z("maximize",
function(){var a=this.wrapper,c=a.position();D(this.restoreOptions,{left:c.left,top:c.top});a.css({left:0,top:0,position:"fixed"});this._documentScrollTop=b(document).scrollTop();b("html, body").css("overflow","hidden");this.options.isMaximized=!0;this._onDocumentResize()}),minimize:z("minimize",function(){this.wrapper.css("height","");this.element.hide();this.options.isMinimized=!0}),_onDocumentResize:function(){var a=this.wrapper,c=b(window);this.options.isMaximized&&(a.css({width:c.width(),height:c.height()-
parseInt(a.css("padding-top"),10)}),this.trigger("resize"))},refresh:function(a){var c=this,e=c.options,h=b(c.element),j,k;t(a)||(a={url:a});a=D({},e.content,a);j=u(e.iframe)?e.iframe:a.iframe;(k=a.url)?(u(j)||(j=!l(k)),j?((j=h.find(".k-content-frame")[0])?j.src=k||j.src:h.html(d.contentFrame(D({},e,{content:a}))),h.find(".k-content-frame").unbind("load.kendoWindow").on("load.kendoWindow",function(){c.trigger("refresh")})):c._ajaxRequest(a)):(a.template&&c.content(m(a.template)({})),c.trigger("refresh"));
return c},_ajaxRequest:function(a){var c=this,d=a.template,e=c.wrapper.find(".k-window-titlebar .k-i-refresh"),h=setTimeout(function(){e.addClass("k-loading")},100);b.ajax(D({type:"GET",dataType:"html",cache:!1,error:v(function(a,b){c.trigger("error",{status:b,xhr:a})},c),complete:function(){clearTimeout(h);e.removeClass("k-loading")},success:v(function(a){d&&(a=m(d)(a||{}));c.content(a);c.element.prop("scrollTop",0);c.trigger("refresh")},c)},a))},destroy:function(){var a;e.fn.destroy.call(this);
s.destroy(this.wrapper);this.resizing&&this.resizing.destroy();this.dragging&&this.dragging.destroy();this.element.children("iframe").remove();this.wrapper.remove().add(this.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(".kendoWindow");b(window).off("resize",this._resizeHandler);a=r();this.options.modal&&!a.length?this._overlay(!1).remove():0<a.length&&n(a.eq(a.length-1),this.options.name)._overlay(!0)},_createWindow:function(){var a=this.element,c=this.options,e,h,j=s.support.isRtl(a);
!1===c.scrollable&&a.attr("style","overflow:hidden;");h=b(d.wrapper(c));!1!==c.title&&h.append(d.titlebar(D(d,c)));e=a.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");this.src="";return a});h.toggleClass("k-rtl",j).appendTo(this.appendTo).append(a).find("iframe:not(.k-content)").each(function(a){this.src=e[a]});h.find(".k-window-title").css(j?"left":"right",h.find(".k-window-actions").outerWidth()+10);a.show()}});d={wrapper:m("<div class='k-widget k-window' />"),action:m("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),
titlebar:m("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:m("<iframe frameborder='0' title='#= title #' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:m("<div class='k-resize-handle k-resize-#= data #'></div>")};
E.prototype={dragstart:function(a){var c=this.owner,e=c.wrapper;this.elementPadding=parseInt(c.wrapper.css("padding-top"),10);this.initialCursorPosition=s.getOffset(e,"position");this.resizeDirection=a.currentTarget.prop("className").replace("k-resize-handle k-resize-","");this.initialSize={width:e.width(),height:e.height()};this.containerOffset=s.getOffset(c.appendTo);e.append(d.overlay).find(A).not(a.currentTarget).hide();b("body").css("cursor",a.currentTarget.css("cursor"))},drag:function(a){var b=
this.owner,c=b.wrapper,d=b.options,e=this.resizeDirection,h=this.containerOffset,j=this.initialCursorPosition,k=this.initialSize,l,m;l=a.x.location;a=a.y.location;0<=e.indexOf("e")?(l-=j.left,c.width(y(l,d.minWidth,d.maxWidth))):0<=e.indexOf("w")&&(m=j.left+k.width,l=y(m-l,d.minWidth,d.maxWidth),c.css({left:m-l-h.left,width:l}));0<=e.indexOf("s")?(j=a-j.top-this.elementPadding,c.height(y(j,d.minHeight,d.maxHeight))):0<=e.indexOf("n")&&(e=j.top+k.height,j=y(e-a,d.minHeight,d.maxHeight),c.css({top:e-
j-h.top,height:j}));b.trigger("resize")},dragend:function(a){var c=this.owner,d=c.wrapper;d.find(".k-overlay").remove().end().find(A).not(a.currentTarget).show();b("body").css("cursor","");c.touchScroller&&c.touchScroller.reset();27==a.keyCode&&d.css(this.initialCursorPosition).css(this.initialSize);return!1},destroy:function(){this._draggable.destroy()}};C.prototype={dragstart:function(a){var c=this.owner,e=c.element,h=e.find(".k-window-actions"),j=s.getOffset(c.appendTo);c.trigger("dragstart");
c.initialWindowPosition=s.getOffset(c.wrapper,"position");c.startPosition={left:a.x.client-c.initialWindowPosition.left,top:a.y.client-c.initialWindowPosition.top};c.minLeftPosition=0<h.length?h.outerWidth()+parseInt(h.css("right"),10)-e.outerWidth():20-e.outerWidth();c.minLeftPosition-=j.left;c.minTopPosition=-j.top;c.wrapper.append(d.overlay).find(A).hide();b("body").css("cursor",a.currentTarget.css("cursor"))},drag:function(a){var c=this.owner;a={left:Math.max(a.x.client-c.startPosition.left,c.minLeftPosition),
top:Math.max(a.y.client-c.startPosition.top,c.minTopPosition)};b(c.wrapper).css(a)},_finishDrag:function(){var a=this.owner;a.wrapper.find(A).toggle(!a.options.isMinimized).end().find(".k-overlay").remove();b("body").css("cursor","")},dragcancel:function(a){this._finishDrag();a.currentTarget.closest(j).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger("dragend");return!1},destroy:function(){this._draggable.destroy()}};s.ui.plugin(B)})(window.kendo.jQuery);